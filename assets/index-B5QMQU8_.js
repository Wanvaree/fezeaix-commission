(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function N1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ed={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function hE(){if(t0)return to;t0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return to.Fragment=e,to.jsx=i,to.jsxs=i,to}var e0;function fE(){return e0||(e0=1,ed.exports=hE()),ed.exports}var b=fE(),nd={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function dE(){if(n0)return Tt;n0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function L(I){return I===null||typeof I!="object"?null:(I=R&&I[R]||I["@@iterator"],typeof I=="function"?I:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,H={};function et(I,W,st){this.props=I,this.context=W,this.refs=H,this.updater=st||Y}et.prototype.isReactComponent={},et.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},et.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function K(){}K.prototype=et.prototype;function it(I,W,st){this.props=I,this.context=W,this.refs=H,this.updater=st||Y}var ct=it.prototype=new K;ct.constructor=it,Z(ct,et.prototype),ct.isPureReactComponent=!0;var dt=Array.isArray;function Et(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function w(I,W,st){var ot=st.ref;return{$$typeof:a,type:I,key:W,ref:ot!==void 0?ot:null,props:st}}function O(I,W){return w(I.type,W,I.props)}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function z(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(st){return W[st]})}var C=/\/+/g;function ie(I,W){return typeof I=="object"&&I!==null&&I.key!=null?z(""+I.key):W.toString(36)}function Ce(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Et,Et):(I.status="pending",I.then(function(W){I.status==="pending"&&(I.status="fulfilled",I.value=W)},function(W){I.status==="pending"&&(I.status="rejected",I.reason=W)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function X(I,W,st,ot,_t){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var jt=!1;if(I===null)jt=!0;else switch(wt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(I.$$typeof){case a:case e:jt=!0;break;case E:return jt=I._init,X(jt(I._payload),W,st,ot,_t)}}if(jt)return _t=_t(I),jt=ot===""?"."+ie(I,0):ot,dt(_t)?(st="",jt!=null&&(st=jt.replace(C,"$&/")+"/"),X(_t,W,st,"",function(Xa){return Xa})):_t!=null&&(V(_t)&&(_t=O(_t,st+(_t.key==null||I&&I.key===_t.key?"":(""+_t.key).replace(C,"$&/")+"/")+jt)),W.push(_t)),1;jt=0;var Ne=ot===""?".":ot+":";if(dt(I))for(var ae=0;ae<I.length;ae++)ot=I[ae],wt=Ne+ie(ot,ae),jt+=X(ot,W,st,wt,_t);else if(ae=L(I),typeof ae=="function")for(I=ae.call(I),ae=0;!(ot=I.next()).done;)ot=ot.value,wt=Ne+ie(ot,ae++),jt+=X(ot,W,st,wt,_t);else if(wt==="object"){if(typeof I.then=="function")return X(Ce(I),W,st,ot,_t);throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return jt}function rt(I,W,st){if(I==null)return I;var ot=[],_t=0;return X(I,ot,"","",function(wt){return W.call(st,wt,_t++)}),ot}function gt(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(st){(I._status===0||I._status===-1)&&(I._status=1,I._result=st)},function(st){(I._status===0||I._status===-1)&&(I._status=2,I._result=st)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var Ut=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ft={map:rt,forEach:function(I,W,st){rt(I,function(){W.apply(this,arguments)},st)},count:function(I){var W=0;return rt(I,function(){W++}),W},toArray:function(I){return rt(I,function(W){return W})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Tt.Activity=A,Tt.Children=Ft,Tt.Component=et,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=it,Tt.StrictMode=s,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return D.H.useMemoCache(I)}},Tt.cache=function(I){return function(){return I.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(I,W,st){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ot=Z({},I.props),_t=I.key;if(W!=null)for(wt in W.key!==void 0&&(_t=""+W.key),W)!x.call(W,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&W.ref===void 0||(ot[wt]=W[wt]);var wt=arguments.length-2;if(wt===1)ot.children=st;else if(1<wt){for(var jt=Array(wt),Ne=0;Ne<wt;Ne++)jt[Ne]=arguments[Ne+2];ot.children=jt}return w(I.type,_t,ot)},Tt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Tt.createElement=function(I,W,st){var ot,_t={},wt=null;if(W!=null)for(ot in W.key!==void 0&&(wt=""+W.key),W)x.call(W,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(_t[ot]=W[ot]);var jt=arguments.length-2;if(jt===1)_t.children=st;else if(1<jt){for(var Ne=Array(jt),ae=0;ae<jt;ae++)Ne[ae]=arguments[ae+2];_t.children=Ne}if(I&&I.defaultProps)for(ot in jt=I.defaultProps,jt)_t[ot]===void 0&&(_t[ot]=jt[ot]);return w(I,wt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(I){return{$$typeof:p,render:I}},Tt.isValidElement=V,Tt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:gt}},Tt.memo=function(I,W){return{$$typeof:m,type:I,compare:W===void 0?null:W}},Tt.startTransition=function(I){var W=D.T,st={};D.T=st;try{var ot=I(),_t=D.S;_t!==null&&_t(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Et,Ut)}catch(wt){Ut(wt)}finally{W!==null&&st.types!==null&&(W.types=st.types),D.T=W}},Tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Tt.use=function(I){return D.H.use(I)},Tt.useActionState=function(I,W,st){return D.H.useActionState(I,W,st)},Tt.useCallback=function(I,W){return D.H.useCallback(I,W)},Tt.useContext=function(I){return D.H.useContext(I)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(I,W){return D.H.useDeferredValue(I,W)},Tt.useEffect=function(I,W){return D.H.useEffect(I,W)},Tt.useEffectEvent=function(I){return D.H.useEffectEvent(I)},Tt.useId=function(){return D.H.useId()},Tt.useImperativeHandle=function(I,W,st){return D.H.useImperativeHandle(I,W,st)},Tt.useInsertionEffect=function(I,W){return D.H.useInsertionEffect(I,W)},Tt.useLayoutEffect=function(I,W){return D.H.useLayoutEffect(I,W)},Tt.useMemo=function(I,W){return D.H.useMemo(I,W)},Tt.useOptimistic=function(I,W){return D.H.useOptimistic(I,W)},Tt.useReducer=function(I,W,st){return D.H.useReducer(I,W,st)},Tt.useRef=function(I){return D.H.useRef(I)},Tt.useState=function(I){return D.H.useState(I)},Tt.useSyncExternalStore=function(I,W,st){return D.H.useSyncExternalStore(I,W,st)},Tt.useTransition=function(){return D.H.useTransition()},Tt.version="19.2.0",Tt}var i0;function Gd(){return i0||(i0=1,nd.exports=dE()),nd.exports}var B=Gd();const ja=N1(B);var id={exports:{}},eo={},ad={exports:{}},rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function mE(){return a0||(a0=1,(function(a){function e(X,rt){var gt=X.length;X.push(rt);t:for(;0<gt;){var Ut=gt-1>>>1,Ft=X[Ut];if(0<o(Ft,rt))X[Ut]=rt,X[gt]=Ft,gt=Ut;else break t}}function i(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var rt=X[0],gt=X.pop();if(gt!==rt){X[0]=gt;t:for(var Ut=0,Ft=X.length,I=Ft>>>1;Ut<I;){var W=2*(Ut+1)-1,st=X[W],ot=W+1,_t=X[ot];if(0>o(st,gt))ot<Ft&&0>o(_t,st)?(X[Ut]=_t,X[ot]=gt,Ut=ot):(X[Ut]=st,X[W]=gt,Ut=W);else if(ot<Ft&&0>o(_t,gt))X[Ut]=_t,X[ot]=gt,Ut=ot;else break t}}return rt}function o(X,rt){var gt=X.sortIndex-rt.sortIndex;return gt!==0?gt:X.id-rt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],m=[],E=1,A=null,R=3,L=!1,Y=!1,Z=!1,H=!1,et=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ct(X){for(var rt=i(m);rt!==null;){if(rt.callback===null)s(m);else if(rt.startTime<=X)s(m),rt.sortIndex=rt.expirationTime,e(y,rt);else break;rt=i(m)}}function dt(X){if(Z=!1,ct(X),!Y)if(i(y)!==null)Y=!0,Et||(Et=!0,z());else{var rt=i(m);rt!==null&&Ce(dt,rt.startTime-X)}}var Et=!1,D=-1,x=5,w=-1;function O(){return H?!0:!(a.unstable_now()-w<x)}function V(){if(H=!1,Et){var X=a.unstable_now();w=X;var rt=!0;try{t:{Y=!1,Z&&(Z=!1,K(D),D=-1),L=!0;var gt=R;try{e:{for(ct(X),A=i(y);A!==null&&!(A.expirationTime>X&&O());){var Ut=A.callback;if(typeof Ut=="function"){A.callback=null,R=A.priorityLevel;var Ft=Ut(A.expirationTime<=X);if(X=a.unstable_now(),typeof Ft=="function"){A.callback=Ft,ct(X),rt=!0;break e}A===i(y)&&s(y),ct(X)}else s(y);A=i(y)}if(A!==null)rt=!0;else{var I=i(m);I!==null&&Ce(dt,I.startTime-X),rt=!1}}break t}finally{A=null,R=gt,L=!1}rt=void 0}}finally{rt?z():Et=!1}}}var z;if(typeof it=="function")z=function(){it(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=V,z=function(){ie.postMessage(null)}}else z=function(){et(V,0)};function Ce(X,rt){D=et(function(){X(a.unstable_now())},rt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(X){switch(R){case 1:case 2:case 3:var rt=3;break;default:rt=R}var gt=R;R=rt;try{return X()}finally{R=gt}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(X,rt){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var gt=R;R=X;try{return rt()}finally{R=gt}},a.unstable_scheduleCallback=function(X,rt,gt){var Ut=a.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Ut+gt:Ut):gt=Ut,X){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=gt+Ft,X={id:E++,callback:rt,priorityLevel:X,startTime:gt,expirationTime:Ft,sortIndex:-1},gt>Ut?(X.sortIndex=gt,e(m,X),i(y)===null&&X===i(m)&&(Z?(K(D),D=-1):Z=!0,Ce(dt,gt-Ut))):(X.sortIndex=Ft,e(y,X),Y||L||(Y=!0,Et||(Et=!0,z()))),X},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(X){var rt=R;return function(){var gt=R;R=rt;try{return X.apply(this,arguments)}finally{R=gt}}}})(rd)),rd}var r0;function gE(){return r0||(r0=1,ad.exports=mE()),ad.exports}var sd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function pE(){if(s0)return Ke;s0=1;var a=Gd();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,m,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:m,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(y,m){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(y,m,null,E)},Ke.flushSync=function(y){var m=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=m,s.p=E,s.d.f()}},Ke.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},Ke.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ke.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var E=m.as,A=p(E,m.crossOrigin),R=typeof m.integrity=="string"?m.integrity:void 0,L=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;E==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:L}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:R,fetchPriority:L,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ke.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var E=p(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},Ke.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var E=m.as,A=p(E,m.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ke.preloadModule=function(y,m){if(typeof y=="string")if(m){var E=p(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},Ke.requestFormReset=function(y){s.d.r(y)},Ke.unstable_batchedUpdates=function(y,m){return y(m)},Ke.useFormState=function(y,m,E){return d.H.useFormState(y,m,E)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var l0;function yE(){if(l0)return sd.exports;l0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),sd.exports=pE(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function vE(){if(o0)return eo;o0=1;var a=gE(),e=Gd(),i=yE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function m(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===r){v=!0,r=h,l=f;break}if(T===l){v=!0,l=h,r=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===r){v=!0,r=f,l=h;break}if(T===l){v=!0,l=f,r=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case et:return"Profiler";case H:return"StrictMode";case dt:return"Suspense";case Et:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case it:return t.displayName||"Context";case K:return(t._context.displayName||"Context")+".Consumer";case ct:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Ce=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Ut=[],Ft=-1;function I(t){return{current:t}}function W(t){0>Ft||(t.current=Ut[Ft],Ut[Ft]=null,Ft--)}function st(t,n){Ft++,Ut[Ft]=t.current,t.current=n}var ot=I(null),_t=I(null),wt=I(null),jt=I(null);function Ne(t,n){switch(st(wt,n),st(_t,t),st(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Sy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Sy(n),t=Ay(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ot),st(ot,t)}function ae(){W(ot),W(_t),W(wt)}function Xa(t){t.memoizedState!==null&&st(jt,t);var n=ot.current,r=Ay(n,t.type);n!==r&&(st(_t,t),st(ot,r))}function jr(t){_t.current===t&&(W(ot),W(_t)),jt.current===t&&(W(jt),$l._currentValue=gt)}var zr,Lr;function ti(t){if(zr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);zr=n&&n[1]||"",Lr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+t+Lr}var $s=!1;function $a(t,n){if(!t||$s)return"";$s=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var q=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){q=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){q=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var N=v.split(`
`),k=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===k.length)for(l=N.length-1,h=k.length-1;1<=l&&0<=h&&N[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==k[h]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{$s=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ti(r):""}function Zs(t,n){switch(t.tag){case 26:case 27:case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return t.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return $a(t.type,!1);case 11:return $a(t.type.render,!1);case 1:return $a(t.type,!0);case 31:return ti("Activity");default:return""}}function Js(t){try{var n="",r=null;do n+=Zs(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,ea=a.unstable_cancelCallback,nh=a.unstable_shouldYield,No=a.unstable_requestPaint,Je=a.unstable_now,Za=a.unstable_getCurrentPriorityLevel,Ws=a.unstable_ImmediatePriority,tl=a.unstable_UserBlockingPriority,na=a.unstable_NormalPriority,ih=a.unstable_LowPriority,Do=a.unstable_IdlePriority,Vo=a.log,Mo=a.unstable_setDisableYieldValue,Ln=null,Pe=null;function Sn(t){if(typeof Vo=="function"&&Mo(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,t)}catch{}}var he=Math.clz32?Math.clz32:Oo,Io=Math.log,Ur=Math.LN2;function Oo(t){return t>>>=0,t===0?32:31-(Io(t)/Ur|0)|0}var ei=256,Ja=262144,ye=4194304;function ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ni(l):(v&=T,v!==0?h=ni(v):r||(r=T&~t,r!==0&&(h=ni(r))))):(T=l&~f,T!==0?h=ni(T):v!==0?h=ni(v):r||(r=l&~t,r!==0&&(h=ni(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ah(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Wa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rh(t,n,r,l,h,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,k=t.hiddenUpdates;for(r=v&~r;0<r;){var Q=31-he(r),J=1<<Q;T[Q]=0,N[Q]=-1;var q=k[Q];if(q!==null)for(k[Q]=null,Q=0;Q<q.length;Q++){var G=q[Q];G!==null&&(G.lane&=-536870913)}r&=~J}l!==0&&tr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function tr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function el(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-he(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function nl(t,n){var r=n&-n;return r=(r&42)!==0?1:er(r),(r&(t.suspendedLanes|n))!==0?0:r}function er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ni(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zo(){var t=rt.p;return t!==0?t:(t=window.event,t===void 0?32:Yy(t.type))}function Pn(t,n){var r=rt.p;try{return rt.p=t,n()}finally{rt.p=r}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,je="__reactProps$"+Bn,ri="__reactContainer$"+Bn,Pr="__reactEvents$"+Bn,sh="__reactListeners$"+Bn,Lo="__reactHandles$"+Bn,Uo="__reactResources$"+Bn,si="__reactMarker$"+Bn;function Br(t){delete t[ve],delete t[je],delete t[Pr],delete t[sh],delete t[Lo]}function li(t){var n=t[ve];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ri]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Vy(t);t!==null;){if(r=t[ve])return r;t=Vy(t)}return n}t=r,r=t.parentNode}return null}function An(t){if(t=t[ve]||t[ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function oi(t){var n=t[Uo];return n||(n=t[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[si]=!0}var il=new Set,al={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(al[t]=n,t=0;t<n.length;t++)il.add(n[t])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},ll={};function Po(t){return pe.call(ll,t)?!0:pe.call(sl,t)?!1:rl.test(t)?ll[t]=!0:(sl[t]=!0,!1)}function kr(t,n,r){if(Po(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function fn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ee(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ia(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ol(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){r=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=ia(t)?"checked":"value";t._valueTracker=ol(t,n,""+t[n])}}function nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ia(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ir=/[\n"\\]/g;function en(t){return t.replace(ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qr(t,n,r,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ze(n)):t.value!==""+ze(n)&&(t.value=""+ze(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?ul(t,v,ze(n)):r!=null?ul(t,v,ze(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ze(T):t.removeAttribute("name")}function Bo(t,n,r,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(t);return}r=r!=null?""+ze(r):"",n=n!=null?""+ze(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Gt(t)}function ul(t,n,r){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function aa(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+ze(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ko(t,n,r){if(n!=null&&(n=""+ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+ze(r):""}function ra(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Gt(t)}function nn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var qo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||qo.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function hl(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&cl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&cl(t,f,n[f])}function Hr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fr(t){return sa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kn(){}var fl=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var la=null,fi=null;function ar(t){var n=An(t);if(n&&(t=n.stateNode)){var r=t[je]||null;t:switch(t=n.stateNode,n.type){case"input":if(qr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[je]||null;if(!h)throw Error(s(90));qr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&nr(l)}break t;case"textarea":ko(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&aa(t,!!r.multiple,n,!1)}}}var Gr=!1;function oa(t,n,r){if(Gr)return t(n,r);Gr=!0;try{var l=t(n);return l}finally{if(Gr=!1,(la!==null||fi!==null)&&(zu(),la&&(n=la,t=fi,fi=la=null,ar(n),t)))for(n=0;n<t.length;n++)ar(t[n])}}function qn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[je]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(wn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){rr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{rr=!1}var di=null,dl=null,sr=null;function ml(){if(sr)return sr;var t,n=dl,r=n.length,l,h="value"in di?di.value:di.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return sr=h.slice(t,1<l?1-l:void 0)}function lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Di(){return!0}function Hn(){return!1}function Be(t){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Hn,this.isPropagationStopped=Hn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Vi),ua=A({},Vi,{view:0,detail:0}),gl=Be(ua),ca,Qr,gi,Yr=A({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(ca=t.screenX-gi.screenX,Qr=t.screenY-gi.screenY):Qr=ca=0,gi=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:Qr}}),pl=Be(Yr),or=A({},Yr,{dataTransfer:0}),Fo=Be(or),Go=A({},ua,{relatedTarget:0}),ur=Be(Go),yl=A({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=Be(yl),Kr=A({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yo=Be(Kr),Ko=A({},Vi,{data:0}),pi=Be(Ko),Xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Zo[t])?!!n[t]:!1}function ha(){return Jo}var We=A({},ua,{key:function(t){if(t.key){var n=Xo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wo=Be(We),tu=A({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Be(tu),u=A({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),g=Be(u),_=A({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Be(_),U=A({},Yr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Be(U),at=A({},Vi,{newState:0,oldState:0}),At=Be(at),fe=[9,13,27,32],kt=wn&&"CompositionEvent"in window,re=null;wn&&"documentMode"in document&&(re=document.documentMode);var Rn=wn&&"TextEvent"in window&&!re,yi=wn&&(!kt||re&&8<re&&11>=re),Fn=" ",Gn=!1;function cr(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $r=!1;function j_(t,n){switch(t){case"compositionend":return Xr(n);case"keypress":return n.which!==32?null:(Gn=!0,Fn);case"textInput":return t=n.data,t===Fn&&Gn?null:t;default:return null}}function z_(t,n){if($r)return t==="compositionend"||!kt&&cr(t,n)?(t=ml(),sr=dl=di=null,$r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var L_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!L_[t.type]:n==="textarea"}function jm(t,n,r,l){la?fi?fi.push(l):fi=[l]:la=l,n=Hu(n,"onChange"),0<n.length&&(r=new mi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var vl=null,_l=null;function U_(t){yy(t,0)}function eu(t){var n=hn(t);if(nr(n))return t}function zm(t,n){if(t==="change")return n}var Lm=!1;if(wn){var lh;if(wn){var oh="oninput"in document;if(!oh){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),oh=typeof Um.oninput=="function"}lh=oh}else lh=!1;Lm=lh&&(!document.documentMode||9<document.documentMode)}function Pm(){vl&&(vl.detachEvent("onpropertychange",Bm),_l=vl=null)}function Bm(t){if(t.propertyName==="value"&&eu(_l)){var n=[];jm(n,_l,t,xn(t)),oa(U_,n)}}function P_(t,n,r){t==="focusin"?(Pm(),vl=n,_l=r,vl.attachEvent("onpropertychange",Bm)):t==="focusout"&&Pm()}function B_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(_l)}function k_(t,n){if(t==="click")return eu(n)}function q_(t,n){if(t==="input"||t==="change")return eu(n)}function H_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var dn=typeof Object.is=="function"?Object.is:H_;function El(t,n){if(dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!pe.call(n,h)||!dn(t[h],n[h]))return!1}return!0}function km(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qm(t,n){var r=km(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=km(r)}}function Hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Fm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=hi(t.document)}return n}function uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var F_=wn&&"documentMode"in document&&11>=document.documentMode,Zr=null,ch=null,bl=null,hh=!1;function Gm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hh||Zr==null||Zr!==hi(l)||(l=Zr,"selectionStart"in l&&uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&El(bl,l)||(bl=l,l=Hu(ch,"onSelect"),0<l.length&&(n=new mi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Zr)))}function hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Jr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fh={},Qm={};wn&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function fr(t){if(fh[t])return fh[t];if(!Jr[t])return t;var n=Jr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Qm)return fh[t]=n[r];return t}var Ym=fr("animationend"),Km=fr("animationiteration"),Xm=fr("animationstart"),G_=fr("transitionrun"),Q_=fr("transitionstart"),Y_=fr("transitioncancel"),$m=fr("transitionend"),Zm=new Map,dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dh.push("scrollEnd");function Qn(t,n){Zm.set(t,n),ui(n,[t])}var nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],Wr=0,mh=0;function iu(){for(var t=Wr,n=mh=Wr=0;n<t;){var r=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Jm(r,h,f)}}function au(t,n,r,l){Cn[Wr++]=t,Cn[Wr++]=n,Cn[Wr++]=r,Cn[Wr++]=l,mh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function gh(t,n,r,l){return au(t,n,r,l),ru(t)}function dr(t,n){return au(t,null,null,n),ru(t)}function Jm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-he(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function ru(t){if(50<Hl)throw Hl=0,xf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ts={};function K_(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,n,r,l){return new K_(t,n,r,l)}function ph(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,n){var r=t.alternate;return r===null?(r=mn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Wm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function su(t,n,r,l,h,f){var v=0;if(l=t,typeof t=="function")ph(t)&&(v=1);else if(typeof t=="string")v=W2(t,r,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=mn(31,r,n,h),t.elementType=w,t.lanes=f,t;case Z:return mr(r.children,h,f,n);case H:v=8,h|=24;break;case et:return t=mn(12,r,n,h|2),t.elementType=et,t.lanes=f,t;case dt:return t=mn(13,r,n,h),t.elementType=dt,t.lanes=f,t;case Et:return t=mn(19,r,n,h),t.elementType=Et,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case it:v=10;break t;case K:v=9;break t;case ct:v=11;break t;case D:v=14;break t;case x:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=mn(v,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function mr(t,n,r,l){return t=mn(7,t,l,n),t.lanes=r,t}function yh(t,n,r){return t=mn(6,t,null,n),t.lanes=r,t}function tg(t){var n=mn(18,null,null,0);return n.stateNode=t,n}function vh(t,n,r){return n=mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var eg=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var r=eg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Js(n)},eg.set(t,n),n)}return{value:t,source:n,stack:Js(n)}}var es=[],ns=0,lu=null,Tl=0,Dn=[],Vn=0,fa=null,vi=1,_i="";function Oi(t,n){es[ns++]=Tl,es[ns++]=lu,lu=t,Tl=n}function ng(t,n,r){Dn[Vn++]=vi,Dn[Vn++]=_i,Dn[Vn++]=fa,fa=t;var l=vi;t=_i;var h=32-he(l)-1;l&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,vi=1<<32-he(n)+h|r<<h|l,_i=f+t}else vi=1<<f|r<<h|l,_i=t}function _h(t){t.return!==null&&(Oi(t,1),ng(t,1,0))}function Eh(t){for(;t===lu;)lu=es[--ns],es[ns]=null,Tl=es[--ns],es[ns]=null;for(;t===fa;)fa=Dn[--Vn],Dn[Vn]=null,_i=Dn[--Vn],Dn[Vn]=null,vi=Dn[--Vn],Dn[Vn]=null}function ig(t,n){Dn[Vn++]=vi,Dn[Vn++]=_i,Dn[Vn++]=fa,vi=n.id,_i=n.overflow,fa=t}var ke=null,Wt=null,Ot=!1,da=null,Mn=!1,bh=Error(s(519));function ma(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(Nn(n,t)),bh}function ag(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ve]=t,n[je]=l,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<Gl.length;r++)Nt(Gl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Bo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),ra(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||by(n.textContent,r)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||ma(t,!0)}function rg(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:ke=ke.return}}function is(t){if(t!==ke)return!1;if(!Ot)return rg(t),Ot=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Bf(t.type,t.memoizedProps)),r=!r),r&&Wt&&ma(t),rg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Dy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Dy(t)}else n===27?(n=Wt,Ca(t.type)?(t=Gf,Gf=null,Wt=t):Wt=n):Wt=ke?On(t.stateNode.nextSibling):null;return!0}function gr(){Wt=ke=null,Ot=!1}function Th(){var t=da;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),da=null),t}function Sl(t){da===null?da=[t]:da.push(t)}var Sh=I(null),pr=null,ji=null;function ga(t,n,r){st(Sh,n._currentValue),n._currentValue=r}function zi(t){t._currentValue=Sh.current,W(Sh)}function Ah(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function xh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var N=0;N<n.length;N++)if(T.context===n[N]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Ah(f.return,r,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),Ah(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function as(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===jt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}h=h.return}t!==null&&xh(n,t,r,l),n.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function yr(t){pr=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return sg(pr,t)}function uu(t,n){return pr===null&&yr(t),sg(t,n)}function sg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ji===null){if(t===null)throw Error(s(308));ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ji=ji.next=n;return r}var X_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},$_=a.unstable_scheduleCallback,Z_=a.unstable_NormalPriority,be={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wh(){return{controller:new X_,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&$_(Z_,function(){t.controller.abort()})}var xl=null,Rh=0,rs=0,ss=null;function J_(t,n){if(xl===null){var r=xl=[];Rh=0,rs=Vf(),ss={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Rh++,n.then(lg,lg),n}function lg(){if(--Rh===0&&xl!==null){ss!==null&&(ss.status="fulfilled");var t=xl;xl=null,rs=0,ss=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function W_(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var og=X.S;X.S=function(t,n){Gp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&J_(t,n),og!==null&&og(t,n)};var vr=I(null);function Ch(){var t=vr.current;return t!==null?t:Jt.pooledCache}function cu(t,n){n===null?st(vr,vr.current):st(vr,n.pool)}function ug(){var t=Ch();return t===null?null:{parent:be._currentValue,pool:t}}var ls=Error(s(460)),Nh=Error(s(474)),hu=Error(s(542)),fu={then:function(){}};function cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(kn,kn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t;default:if(typeof n.status=="string")n.then(kn,kn);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t}throw Er=n,ls}}function _r(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Er=r,ls):r}}var Er=null;function fg(){if(Er===null)throw Error(s(459));var t=Er;return Er=null,t}function dg(t){if(t===ls||t===hu)throw Error(s(483))}var os=null,wl=0;function du(t){var n=wl;return wl+=1,os===null&&(os=[]),hg(os,t,n)}function Rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function mu(t,n){throw n.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){function n(j,M){if(t){var P=j.deletions;P===null?(j.deletions=[M],j.flags|=16):P.push(M)}}function r(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Ii(j,M),j.index=0,j.sibling=null,j}function f(j,M,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<M?(j.flags|=67108866,M):P):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,M,P,$){return M===null||M.tag!==6?(M=yh(P,j.mode,$),M.return=j,M):(M=h(M,P),M.return=j,M)}function N(j,M,P,$){var mt=P.type;return mt===Z?Q(j,M,P.props.children,$,P.key):M!==null&&(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===x&&_r(mt)===M.type)?(M=h(M,P.props),Rl(M,P),M.return=j,M):(M=su(P.type,P.key,P.props,null,j.mode,$),Rl(M,P),M.return=j,M)}function k(j,M,P,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=vh(P,j.mode,$),M.return=j,M):(M=h(M,P.children||[]),M.return=j,M)}function Q(j,M,P,$,mt){return M===null||M.tag!==7?(M=mr(P,j.mode,$,mt),M.return=j,M):(M=h(M,P),M.return=j,M)}function J(j,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=yh(""+M,j.mode,P),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return P=su(M.type,M.key,M.props,null,j.mode,P),Rl(P,M),P.return=j,P;case Y:return M=vh(M,j.mode,P),M.return=j,M;case x:return M=_r(M),J(j,M,P)}if(Ce(M)||z(M))return M=mr(M,j.mode,P,null),M.return=j,M;if(typeof M.then=="function")return J(j,du(M),P);if(M.$$typeof===it)return J(j,uu(j,M),P);mu(j,M)}return null}function q(j,M,P,$){var mt=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:T(j,M,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case L:return P.key===mt?N(j,M,P,$):null;case Y:return P.key===mt?k(j,M,P,$):null;case x:return P=_r(P),q(j,M,P,$)}if(Ce(P)||z(P))return mt!==null?null:Q(j,M,P,$,null);if(typeof P.then=="function")return q(j,M,du(P),$);if(P.$$typeof===it)return q(j,M,uu(j,P),$);mu(j,P)}return null}function G(j,M,P,$,mt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return j=j.get(P)||null,T(M,j,""+$,mt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case L:return j=j.get($.key===null?P:$.key)||null,N(M,j,$,mt);case Y:return j=j.get($.key===null?P:$.key)||null,k(M,j,$,mt);case x:return $=_r($),G(j,M,P,$,mt)}if(Ce($)||z($))return j=j.get(P)||null,Q(M,j,$,mt,null);if(typeof $.then=="function")return G(j,M,P,du($),mt);if($.$$typeof===it)return G(j,M,P,uu(M,$),mt);mu(M,$)}return null}function ut(j,M,P,$){for(var mt=null,Pt=null,ht=M,Rt=M=0,Vt=null;ht!==null&&Rt<P.length;Rt++){ht.index>Rt?(Vt=ht,ht=null):Vt=ht.sibling;var Bt=q(j,ht,P[Rt],$);if(Bt===null){ht===null&&(ht=Vt);break}t&&ht&&Bt.alternate===null&&n(j,ht),M=f(Bt,M,Rt),Pt===null?mt=Bt:Pt.sibling=Bt,Pt=Bt,ht=Vt}if(Rt===P.length)return r(j,ht),Ot&&Oi(j,Rt),mt;if(ht===null){for(;Rt<P.length;Rt++)ht=J(j,P[Rt],$),ht!==null&&(M=f(ht,M,Rt),Pt===null?mt=ht:Pt.sibling=ht,Pt=ht);return Ot&&Oi(j,Rt),mt}for(ht=l(ht);Rt<P.length;Rt++)Vt=G(ht,j,Rt,P[Rt],$),Vt!==null&&(t&&Vt.alternate!==null&&ht.delete(Vt.key===null?Rt:Vt.key),M=f(Vt,M,Rt),Pt===null?mt=Vt:Pt.sibling=Vt,Pt=Vt);return t&&ht.forEach(function(Ia){return n(j,Ia)}),Ot&&Oi(j,Rt),mt}function yt(j,M,P,$){if(P==null)throw Error(s(151));for(var mt=null,Pt=null,ht=M,Rt=M=0,Vt=null,Bt=P.next();ht!==null&&!Bt.done;Rt++,Bt=P.next()){ht.index>Rt?(Vt=ht,ht=null):Vt=ht.sibling;var Ia=q(j,ht,Bt.value,$);if(Ia===null){ht===null&&(ht=Vt);break}t&&ht&&Ia.alternate===null&&n(j,ht),M=f(Ia,M,Rt),Pt===null?mt=Ia:Pt.sibling=Ia,Pt=Ia,ht=Vt}if(Bt.done)return r(j,ht),Ot&&Oi(j,Rt),mt;if(ht===null){for(;!Bt.done;Rt++,Bt=P.next())Bt=J(j,Bt.value,$),Bt!==null&&(M=f(Bt,M,Rt),Pt===null?mt=Bt:Pt.sibling=Bt,Pt=Bt);return Ot&&Oi(j,Rt),mt}for(ht=l(ht);!Bt.done;Rt++,Bt=P.next())Bt=G(ht,j,Rt,Bt.value,$),Bt!==null&&(t&&Bt.alternate!==null&&ht.delete(Bt.key===null?Rt:Bt.key),M=f(Bt,M,Rt),Pt===null?mt=Bt:Pt.sibling=Bt,Pt=Bt);return t&&ht.forEach(function(cE){return n(j,cE)}),Ot&&Oi(j,Rt),mt}function Zt(j,M,P,$){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case L:t:{for(var mt=P.key;M!==null;){if(M.key===mt){if(mt=P.type,mt===Z){if(M.tag===7){r(j,M.sibling),$=h(M,P.props.children),$.return=j,j=$;break t}}else if(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===x&&_r(mt)===M.type){r(j,M.sibling),$=h(M,P.props),Rl($,P),$.return=j,j=$;break t}r(j,M);break}else n(j,M);M=M.sibling}P.type===Z?($=mr(P.props.children,j.mode,$,P.key),$.return=j,j=$):($=su(P.type,P.key,P.props,null,j.mode,$),Rl($,P),$.return=j,j=$)}return v(j);case Y:t:{for(mt=P.key;M!==null;){if(M.key===mt)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){r(j,M.sibling),$=h(M,P.children||[]),$.return=j,j=$;break t}else{r(j,M);break}else n(j,M);M=M.sibling}$=vh(P,j.mode,$),$.return=j,j=$}return v(j);case x:return P=_r(P),Zt(j,M,P,$)}if(Ce(P))return ut(j,M,P,$);if(z(P)){if(mt=z(P),typeof mt!="function")throw Error(s(150));return P=mt.call(P),yt(j,M,P,$)}if(typeof P.then=="function")return Zt(j,M,du(P),$);if(P.$$typeof===it)return Zt(j,M,uu(j,P),$);mu(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(r(j,M.sibling),$=h(M,P),$.return=j,j=$):(r(j,M),$=yh(P,j.mode,$),$.return=j,j=$),v(j)):r(j,M)}return function(j,M,P,$){try{wl=0;var mt=Zt(j,M,P,$);return os=null,mt}catch(ht){if(ht===ls||ht===hu)throw ht;var Pt=mn(29,ht,null,j.mode);return Pt.lanes=$,Pt.return=j,Pt}finally{}}}var br=mg(!0),gg=mg(!1),pa=!1;function Dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ya(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function va(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ru(t),Jm(t,null,r),n}return au(t,l,n,r),ru(t)}function Cl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,el(t,r)}}function Mh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ih=!1;function Nl(){if(Ih){var t=ss;if(t!==null)throw t}}function Dl(t,n,r,l){Ih=!1;var h=t.updateQueue;pa=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,k=N.next;N.next=null,v===null?f=k:v.next=k,v=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=k:T.next=k,Q.lastBaseUpdate=N))}if(f!==null){var J=h.baseState;v=0,Q=k=N=null,T=f;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Dt&q)===q:(l&q)===q){q!==0&&q===rs&&(Ih=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=t,yt=T;q=n;var Zt=r;switch(yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){J=ut.call(Zt,J,q);break t}J=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,q=typeof ut=="function"?ut.call(Zt,J,q):ut,q==null)break t;J=A({},J,q);break t;case 2:pa=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(k=Q=G,N=J):Q=Q.next=G,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(N=J),h.baseState=N,h.firstBaseUpdate=k,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Sa|=v,t.lanes=v,t.memoizedState=J}}function pg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function yg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)pg(r[t],n)}var us=I(null),gu=I(0);function vg(t,n){t=Gi,st(gu,t),st(us,n),Gi=t|n.baseLanes}function Oh(){st(gu,Gi),st(us,us.current)}function jh(){Gi=gu.current,W(us),W(gu)}var gn=I(null),In=null;function _a(t){var n=t.alternate;st(de,de.current&1),st(gn,t),In===null&&(n===null||us.current!==null||n.memoizedState!==null)&&(In=t)}function zh(t){st(de,de.current),st(gn,t),In===null&&(In=t)}function _g(t){t.tag===22?(st(de,de.current),st(gn,t),In===null&&(In=t)):Ea()}function Ea(){st(de,de.current),st(gn,gn.current)}function pn(t){W(gn),In===t&&(In=null),W(de)}var de=I(0);function pu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Hf(r)||Ff(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,xt=null,Xt=null,Te=null,yu=!1,cs=!1,Tr=!1,vu=0,Vl=0,hs=null,t2=0;function ue(){throw Error(s(321))}function Lh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!dn(t[r],n[r]))return!1;return!0}function Uh(t,n,r,l,h,f){return Li=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?np:Wh,Tr=!1,f=r(l,h),Tr=!1,cs&&(f=bg(n,r,l,h)),Eg(t),f}function Eg(t){X.H=Ol;var n=Xt!==null&&Xt.next!==null;if(Li=0,Te=Xt=xt=null,yu=!1,Vl=0,hs=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&ou(t)&&(Se=!0))}function bg(t,n,r,l){xt=t;var h=0;do{if(cs&&(hs=null),Vl=0,cs=!1,25<=h)throw Error(s(301));if(h+=1,Te=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=ip,f=n(r,l)}while(cs);return f}function e2(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Ml(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(xt.flags|=1024),n}function Ph(){var t=vu!==0;return vu=0,t}function Bh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function kh(t){if(yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}yu=!1}Li=0,Te=Xt=xt=null,cs=!1,Vl=vu=0,hs=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?xt.memoizedState=Te=t:Te=Te.next=t,Te}function me(){if(Xt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Te===null?xt.memoizedState:Te.next;if(n!==null)Te=n,Xt=t;else{if(t===null)throw xt.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?xt.memoizedState=Te=t:Te=Te.next=t}return Te}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var n=Vl;return Vl+=1,hs===null&&(hs=[]),t=hg(hs,t,n),n=xt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?np:Wh),t}function Eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===it)return qe(t)}throw Error(s(438,String(t)))}function qh(t){var n=null,r=xt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=_u(),xt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Ui(t,n){return typeof n=="function"?n(t):n}function bu(t){var n=me();return Hh(n,Xt,t)}function Hh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,N=null,k=n,Q=!1;do{var J=k.lane&-536870913;if(J!==k.lane?(Dt&J)===J:(Li&J)===J){var q=k.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),J===rs&&(Q=!0);else if((Li&q)===q){k=k.next,q===rs&&(Q=!0);continue}else J={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(T=N=J,v=f):N=N.next=J,xt.lanes|=q,Sa|=q;J=k.action,Tr&&r(f,J),f=k.hasEagerState?k.eagerState:r(f,J)}else q={lane:J,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(T=N=q,v=f):N=N.next=q,xt.lanes|=J,Sa|=J;k=k.next}while(k!==null&&k!==n);if(N===null?v=f:N.next=T,!dn(f,t.memoizedState)&&(Se=!0,Q&&(r=ss,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Fh(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);dn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Tg(t,n,r){var l=xt,h=me(),f=Ot;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!dn((Xt||h).memoizedState,r);if(v&&(h.memoizedState=r,Se=!0),h=h.queue,Yh(xg.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,fs(9,{destroy:void 0},Ag.bind(null,l,h,r,n),null),Jt===null)throw Error(s(349));f||(Li&127)!==0||Sg(l,n,r)}return r}function Sg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=xt.updateQueue,n===null?(n=_u(),xt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Ag(t,n,r,l){n.value=r,n.getSnapshot=l,wg(n)&&Rg(t)}function xg(t,n,r){return r(function(){wg(n)&&Rg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!dn(t,r)}catch{return!0}}function Rg(t){var n=dr(t,2);n!==null&&on(n,t,2)}function Gh(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Tr){Sn(!0);try{r()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function Cg(t,n,r,l){return t.baseState=r,Hh(t,Xt,typeof l=="function"?l:Ui)}function n2(t,n,r,l,h){if(Au(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};X.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Ng(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Ng(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=X.T,v={};X.T=v;try{var T=r(h,l),N=X.S;N!==null&&N(v,T),Dg(t,n,T)}catch(k){Qh(t,n,k)}finally{f!==null&&v.types!==null&&(f.types=v.types),X.T=f}}else try{f=r(h,l),Dg(t,n,f)}catch(k){Qh(t,n,k)}}function Dg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Vg(t,n,l)},function(l){return Qh(t,n,l)}):Vg(t,n,r)}function Vg(t,n,r){n.status="fulfilled",n.value=r,Mg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ng(t,r)))}function Qh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Mg(n),n=n.next;while(n!==l)}t.action=null}function Mg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ig(t,n){return n}function Og(t,n){if(Ot){var r=Jt.formState;if(r!==null){t:{var l=xt;if(Ot){if(Wt){e:{for(var h=Wt,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=On(h.nextSibling),l=h.data==="F!";break t}}ma(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:n},r.queue=l,r=Wg.bind(null,xt,l),l.dispatch=r,l=Gh(!1),f=Jh.bind(null,xt,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=n2.bind(null,xt,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function jg(t){var n=me();return zg(n,Xt,t)}function zg(t,n,r){if(n=Hh(t,n,Ig)[0],t=bu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ml(n)}catch(v){throw v===ls?hu:v}else l=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(xt.flags|=2048,fs(9,{destroy:void 0},i2.bind(null,h,r),null)),[l,f,t]}function i2(t,n){t.action=n}function Lg(t){var n=me(),r=Xt;if(r!==null)return zg(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function fs(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=_u(),xt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Ug(){return me().memoizedState}function Tu(t,n,r,l){var h=tn();xt.flags|=t,h.memoizedState=fs(1|n,{destroy:void 0},r,l===void 0?null:l)}function Su(t,n,r,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Xt!==null&&l!==null&&Lh(l,Xt.memoizedState.deps)?h.memoizedState=fs(n,f,r,l):(xt.flags|=t,h.memoizedState=fs(1|n,f,r,l))}function Pg(t,n){Tu(8390656,8,t,n)}function Yh(t,n){Su(2048,8,t,n)}function a2(t){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=_u(),xt.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Bg(t){var n=me().memoizedState;return a2({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function kg(t,n){return Su(4,2,t,n)}function qg(t,n){return Su(4,4,t,n)}function Hg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Fg(t,n,r){r=r!=null?r.concat([t]):null,Su(4,4,Hg.bind(null,n,t),r)}function Kh(){}function Gg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Lh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Qg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Lh(n,l[1]))return l[0];if(l=t(),Tr){Sn(!0);try{t()}finally{Sn(!1)}}return r.memoizedState=[l,n],l}function Xh(t,n,r){return r===void 0||(Li&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Yp(),xt.lanes|=t,Sa|=t,r)}function Yg(t,n,r,l){return dn(r,n)?r:us.current!==null?(t=Xh(t,r,l),dn(t,n)||(Se=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(Dt&261930)===0?(Se=!0,t.memoizedState=r):(t=Yp(),xt.lanes|=t,Sa|=t,n)}function Kg(t,n,r,l,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var v=X.T,T={};X.T=T,Jh(t,!1,n,r);try{var N=h(),k=X.S;if(k!==null&&k(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=W_(N,l);Il(t,n,Q,_n(t))}else Il(t,n,l,_n(t))}catch(J){Il(t,n,{then:function(){},status:"rejected",reason:J},_n())}finally{rt.p=f,v!==null&&T.types!==null&&(v.types=T.types),X.T=v}}function r2(){}function $h(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Xg(t).queue;Kg(t,h,n,gt,r===null?r2:function(){return $g(t),r(l)})}function Xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:gt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $g(t){var n=Xg(t);n.next===null&&(n=t.alternate.memoizedState),Il(t,n.next.queue,{},_n())}function Zh(){return qe($l)}function Zg(){return me().memoizedState}function Jg(){return me().memoizedState}function s2(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();t=ya(r);var l=va(n,t,r);l!==null&&(on(l,n,r),Cl(l,n,r)),n={cache:wh()},t.payload=n;return}n=n.return}}function l2(t,n,r){var l=_n();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Au(t)?tp(n,r):(r=gh(t,n,r,l),r!==null&&(on(r,t,l),ep(r,n,l)))}function Wg(t,n,r){var l=_n();Il(t,n,r,l)}function Il(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Au(t))tp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,r);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return au(t,n,h,0),Jt===null&&iu(),!1}catch{}finally{}if(r=gh(t,n,h,l),r!==null)return on(r,t,l),ep(r,n,l),!0}return!1}function Jh(t,n,r,l){if(l={lane:2,revertLane:Vf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Au(t)){if(n)throw Error(s(479))}else n=gh(t,r,l,2),n!==null&&on(n,t,2)}function Au(t){var n=t.alternate;return t===xt||n!==null&&n===xt}function tp(t,n){cs=yu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ep(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,el(t,r)}}var Ol={readContext:qe,use:Eu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Ol.useEffectEvent=ue;var np={readContext:qe,use:Eu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Pg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Tu(4194308,4,Hg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Tu(4194308,4,t,n)},useInsertionEffect:function(t,n){Tu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Tr){Sn(!0);try{t()}finally{Sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var h=r(n);if(Tr){Sn(!0);try{r(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=l2.bind(null,xt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Gh(t);var n=t.queue,r=Wg.bind(null,xt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Kh,useDeferredValue:function(t,n){var r=tn();return Xh(r,t,n)},useTransition:function(){var t=Gh(!1);return t=Kg.bind(null,xt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=xt,h=tn();if(Ot){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(Dt&127)!==0||Sg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Pg(xg.bind(null,l,f,t),[t]),l.flags|=2048,fs(9,{destroy:void 0},Ag.bind(null,l,f,r,n),null),r},useId:function(){var t=tn(),n=Jt.identifierPrefix;if(Ot){var r=_i,l=vi;r=(l&~(1<<32-he(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=vu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=t2++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Zh,useFormState:Og,useActionState:Og,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Jh.bind(null,xt,!0,r),r.dispatch=n,[t,n]},useMemoCache:qh,useCacheRefresh:function(){return tn().memoizedState=s2.bind(null,xt)},useEffectEvent:function(t){var n=tn(),r={impl:t};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Wh={readContext:qe,use:Eu,useCallback:Gg,useContext:qe,useEffect:Yh,useImperativeHandle:Fg,useInsertionEffect:kg,useLayoutEffect:qg,useMemo:Qg,useReducer:bu,useRef:Ug,useState:function(){return bu(Ui)},useDebugValue:Kh,useDeferredValue:function(t,n){var r=me();return Yg(r,Xt.memoizedState,t,n)},useTransition:function(){var t=bu(Ui)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:Tg,useId:Zg,useHostTransitionStatus:Zh,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var r=me();return Cg(r,Xt,t,n)},useMemoCache:qh,useCacheRefresh:Jg};Wh.useEffectEvent=Bg;var ip={readContext:qe,use:Eu,useCallback:Gg,useContext:qe,useEffect:Yh,useImperativeHandle:Fg,useInsertionEffect:kg,useLayoutEffect:qg,useMemo:Qg,useReducer:Fh,useRef:Ug,useState:function(){return Fh(Ui)},useDebugValue:Kh,useDeferredValue:function(t,n){var r=me();return Xt===null?Xh(r,t,n):Yg(r,Xt.memoizedState,t,n)},useTransition:function(){var t=Fh(Ui)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:Tg,useId:Zg,useHostTransitionStatus:Zh,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var r=me();return Xt!==null?Cg(r,Xt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:qh,useCacheRefresh:Jg};ip.useEffectEvent=Bg;function tf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ef={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=_n(),h=ya(l);h.payload=n,r!=null&&(h.callback=r),n=va(t,h,l),n!==null&&(on(n,t,l),Cl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=_n(),h=ya(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=va(t,h,l),n!==null&&(on(n,t,l),Cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=_n(),l=ya(r);l.tag=2,n!=null&&(l.callback=n),n=va(t,l,r),n!==null&&(on(n,t,r),Cl(n,t,r))}};function ap(t,n,r,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!El(r,l)||!El(h,f):!0}function rp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&ef.enqueueReplaceState(n,n.state,null)}function Sr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function sp(t){nu(t)}function lp(t){console.error(t)}function op(t){nu(t)}function xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function up(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nf(t,n,r){return r=ya(r),r.tag=3,r.payload={element:null},r.callback=function(){xu(t,n)},r}function cp(t){return t=ya(t),t.tag=3,t}function hp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){up(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){up(n,r,l),typeof h!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function o2(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&as(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return In===null?Lu():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===fu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Cf(t,l,h)),!1;case 22:return r.flags|=65536,l===fu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Cf(t,l,h)),!1}throw Error(s(435,r.tag))}return Cf(t,l,h),Lu(),!1}if(Ot)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==bh&&(t=Error(s(422),{cause:l}),Sl(Nn(t,r)))):(l!==bh&&(n=Error(s(423),{cause:l}),Sl(Nn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,r),h=nf(t.stateNode,l,h),Mh(t,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=Nn(f,r),ql===null?ql=[f]:ql.push(f),ce!==4&&(ce=2),n===null)return!0;l=Nn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=nf(r.stateNode,l,t),Mh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Aa===null||!Aa.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=cp(h),hp(h,t,r,l),Mh(r,h),!1}r=r.return}while(r!==null);return!1}var af=Error(s(461)),Se=!1;function He(t,n,r,l){n.child=t===null?gg(n,null,r,l):br(n,t.child,r,l)}function fp(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return yr(n),l=Uh(t,n,r,v,f,h),T=Ph(),t!==null&&!Se?(Bh(t,n,h),Pi(t,n,h)):(Ot&&T&&_h(n),n.flags|=1,He(t,n,l,h),n.child)}function dp(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!ph(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,mp(t,n,f,l,h)):(t=su(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ff(t,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:El,r(v,l)&&t.ref===n.ref)return Pi(t,n,h)}return n.flags|=1,t=Ii(f,l),t.ref=n.ref,t.return=n,n.child=t}function mp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(El(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,ff(t,h))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Pi(t,n,h)}return rf(t,n,r,l,h)}function gp(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return pp(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(n,f!==null?f.cachePool:null),f!==null?vg(n,f):Oh(),_g(n);else return l=n.lanes=536870912,pp(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(cu(n,f.cachePool),vg(n,f),Ea(),n.memoizedState=null):(t!==null&&cu(n,null),Oh(),Ea());return He(t,n,h,r),n.child}function jl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function pp(t,n,r,l,h){var f=Ch();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&cu(n,null),Oh(),_g(n),t!==null&&as(t,n,l,!0),n.childLanes=h,null}function wu(t,n){return n=Cu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function yp(t,n,r){return br(n,t.child,null,r),t=wu(n,n.pendingProps),t.flags|=2,pn(n),n.memoizedState=null,t}function u2(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=wu(n,l),n.lanes=536870912,jl(null,t);if(zh(n),(t=Wt)?(t=Ny(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fa!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=tg(t),r.return=n,n.child=r,ke=n,Wt=null)):t=null,t===null)throw ma(n);return n.lanes=536870912,null}return wu(n,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(zh(n),h)if(n.flags&256)n.flags&=-257,n=yp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||as(t,n,r,!1),h=(r&t.childLanes)!==0,Se||h){if(l=Jt,l!==null&&(v=nl(l,r),v!==0&&v!==f.retryLane))throw f.retryLane=v,dr(t,v),on(l,t,v),af;Lu(),n=yp(t,n,r)}else t=f.treeContext,Wt=On(v.nextSibling),ke=n,Ot=!0,da=null,Mn=!1,t!==null&&ig(n,t),n=wu(n,l),n.flags|=4096;return n}return t=Ii(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ru(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function rf(t,n,r,l,h){return yr(n),r=Uh(t,n,r,l,void 0,h),l=Ph(),t!==null&&!Se?(Bh(t,n,h),Pi(t,n,h)):(Ot&&l&&_h(n),n.flags|=1,He(t,n,r,h),n.child)}function vp(t,n,r,l,h,f){return yr(n),n.updateQueue=null,r=bg(n,l,r,h),Eg(t),l=Ph(),t!==null&&!Se?(Bh(t,n,f),Pi(t,n,f)):(Ot&&l&&_h(n),n.flags|=1,He(t,n,r,f),n.child)}function _p(t,n,r,l,h){if(yr(n),n.stateNode===null){var f=ts,v=r.contextType;typeof v=="object"&&v!==null&&(f=qe(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ef,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Dh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?qe(v):ts,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(tf(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&ef.enqueueReplaceState(f,f.state,null),Dl(n,l,f,h),Nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,N=Sr(r,T);f.props=N;var k=f.context,Q=r.contextType;v=ts,typeof Q=="object"&&Q!==null&&(v=qe(Q));var J=r.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||k!==v)&&rp(n,f,l,v),pa=!1;var q=n.memoizedState;f.state=q,Dl(n,l,f,h),Nl(),k=n.memoizedState,T||q!==k||pa?(typeof J=="function"&&(tf(n,r,J,l),k=n.memoizedState),(N=pa||ap(n,r,N,l,q,k,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=v,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Vh(t,n),v=n.memoizedProps,Q=Sr(r,v),f.props=Q,J=n.pendingProps,q=f.context,k=r.contextType,N=ts,typeof k=="object"&&k!==null&&(N=qe(k)),T=r.getDerivedStateFromProps,(k=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==J||q!==N)&&rp(n,f,l,N),pa=!1,q=n.memoizedState,f.state=q,Dl(n,l,f,h),Nl();var G=n.memoizedState;v!==J||q!==G||pa||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof T=="function"&&(tf(n,r,T,l),G=n.memoizedState),(Q=pa||ap(n,r,Q,l,q,G,N)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=N,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ru(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=br(n,t.child,null,h),n.child=br(n,null,r,h)):He(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Pi(t,n,h),t}function Ep(t,n,r,l){return gr(),n.flags|=256,He(t,n,r,l),n.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(t){return{baseLanes:t,cachePool:ug()}}function of(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=vn),t}function bp(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(h?_a(n):Ea(),(t=Wt)?(t=Ny(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fa!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=tg(t),r.return=n,n.child=r,ke=n,Wt=null)):t=null,t===null)throw ma(n);return Ff(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ea(),h=n.mode,T=Cu({mode:"hidden",children:T},h),l=mr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=lf(r),l.childLanes=of(t,v,r),n.memoizedState=sf,jl(null,l)):(_a(n),uf(n,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(f)n.flags&256?(_a(n),n.flags&=-257,n=cf(t,n,r)):n.memoizedState!==null?(Ea(),n.child=t.child,n.flags|=128,n=null):(Ea(),T=l.fallback,h=n.mode,l=Cu({mode:"visible",children:l.children},h),T=mr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,br(n,t.child,null,r),l=n.child,l.memoizedState=lf(r),l.childLanes=of(t,v,r),n.memoizedState=sf,n=jl(null,l));else if(_a(n),Ff(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,Sl({value:l,source:null,stack:null}),n=cf(t,n,r)}else if(Se||as(t,n,r,!1),v=(r&t.childLanes)!==0,Se||v){if(v=Jt,v!==null&&(l=nl(v,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,dr(t,l),on(v,t,l),af;Hf(T)||Lu(),n=cf(t,n,r)}else Hf(T)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,Wt=On(T.nextSibling),ke=n,Ot=!0,da=null,Mn=!1,t!==null&&ig(n,t),n=uf(n,l.children),n.flags|=4096);return n}return h?(Ea(),T=l.fallback,h=n.mode,N=t.child,k=N.sibling,l=Ii(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,k!==null?T=Ii(k,T):(T=mr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,jl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=lf(r):(h=T.cachePool,h!==null?(N=be._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=ug(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=of(t,v,r),n.memoizedState=sf,jl(t.child,l)):(_a(n),r=t.child,t=r.sibling,r=Ii(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function uf(t,n){return n=Cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Cu(t,n){return t=mn(22,t,null,n),t.lanes=0,t}function cf(t,n,r){return br(n,t.child,null,r),t=uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Tp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ah(t.return,n,r)}function hf(t,n,r,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=h,v.treeForkCount=f)}function Sp(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=de.current,T=(v&2)!==0;if(T?(v=v&1|2,n.flags|=128):v&=1,st(de,v),He(t,n,l,r),l=Ot?Tl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tp(t,r,n);else if(t.tag===19)Tp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&pu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),hf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&pu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}hf(n,!0,r,null,f,l);break;case"together":hf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Pi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Sa|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(as(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ii(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ii(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function c2(t,n,r){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),ga(n,be,t.memoizedState.cache),gr();break;case 27:case 5:Xa(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:ga(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(_a(n),n.flags|=128,null):(r&n.child.childLanes)!==0?bp(t,n,r):(_a(n),t=Pi(t,n,r),t!==null?t.sibling:null);_a(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(as(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Sp(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(de,de.current),l)break;return null;case 22:return n.lanes=0,gp(t,n,r,n.pendingProps);case 24:ga(n,be,t.memoizedState.cache)}return Pi(t,n,r)}function Ap(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!ff(t,r)&&(n.flags&128)===0)return Se=!1,c2(t,n,r);Se=(t.flags&131072)!==0}else Se=!1,Ot&&(n.flags&1048576)!==0&&ng(n,Tl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=_r(n.elementType),n.type=t,typeof t=="function")ph(t)?(l=Sr(t,l),n.tag=1,n=_p(null,n,t,l,r)):(n.tag=0,n=rf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ct){n.tag=11,n=fp(null,n,t,l,r);break t}else if(h===D){n.tag=14,n=dp(null,n,t,l,r);break t}}throw n=ie(t)||t,Error(s(306,n,""))}}return n;case 0:return rf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Sr(l,n.pendingProps),_p(t,n,l,h,r);case 3:t:{if(Ne(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Vh(t,n),Dl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,ga(n,be,l),l!==f.cache&&xh(n,[be],r,!0),Nl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ep(t,n,l,r);break t}else if(l!==h){h=Nn(Error(s(424)),n),Sl(h),n=Ep(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=On(t.firstChild),ke=n,Ot=!0,da=null,Mn=!0,r=gg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(gr(),l===h){n=Pi(t,n,r);break t}He(t,n,l,r)}n=n.child}return n;case 26:return Ru(t,n),t===null?(r=jy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ot||(r=n.type,t=n.pendingProps,l=Fu(wt.current).createElement(r),l[ve]=n,l[je]=t,Fe(l,r,t),_e(l),n.stateNode=l):n.memoizedState=jy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xa(n),t===null&&Ot&&(l=n.stateNode=My(n.type,n.pendingProps,wt.current),ke=n,Mn=!0,h=Wt,Ca(n.type)?(Gf=h,Wt=On(l.firstChild)):Wt=h),He(t,n,n.pendingProps.children,r),Ru(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((h=l=Wt)&&(l=B2(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,ke=n,Wt=On(l.firstChild),Mn=!1,h=!0):h=!1),h||ma(n)),Xa(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Bf(h,f)?l=null:v!==null&&Bf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Uh(t,n,e2,null,null,r),$l._currentValue=h),Ru(t,n),He(t,n,l,r),n.child;case 6:return t===null&&Ot&&((t=r=Wt)&&(r=k2(r,n.pendingProps,Mn),r!==null?(n.stateNode=r,ke=n,Wt=null,t=!0):t=!1),t||ma(n)),null;case 13:return bp(t,n,r);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=br(n,null,l,r):He(t,n,l,r),n.child;case 11:return fp(t,n,n.type,n.pendingProps,r);case 7:return He(t,n,n.pendingProps,r),n.child;case 8:return He(t,n,n.pendingProps.children,r),n.child;case 12:return He(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ga(n,n.type,l.value),He(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,yr(n),h=qe(h),l=l(h),n.flags|=1,He(t,n,l,r),n.child;case 14:return dp(t,n,n.type,n.pendingProps,r);case 15:return mp(t,n,n.type,n.pendingProps,r);case 19:return Sp(t,n,r);case 31:return u2(t,n,r);case 22:return gp(t,n,r,n.pendingProps);case 24:return yr(n),l=qe(be),t===null?(h=Ch(),h===null&&(h=Jt,f=wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},Dh(n),ga(n,be,h)):((t.lanes&r)!==0&&(Vh(t,n),Dl(n,null,null,r),Nl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ga(n,be,l)):(l=f.cache,ga(n,be,l),l!==h.cache&&xh(n,[be],r,!0))),He(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Bi(t){t.flags|=4}function df(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Zp())t.flags|=8192;else throw Er=fu,Nh}else t.flags&=-16777217}function xp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!By(n))if(Zp())t.flags|=8192;else throw Er=fu,Nh}function Nu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?jo():536870912,t.lanes|=n,ps|=n)}function zl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function h2(t,n,r){var l=n.pendingProps;switch(Eh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(be),ae(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(is(n)?Bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Th())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Bi(n),f!==null?(te(n),xp(n,f)):(te(n),df(n,h,null,l,r))):f?f!==t.memoizedState?(Bi(n),te(n),xp(n,f)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Bi(n),te(n),df(n,h,t,l,r)),null;case 27:if(jr(n),r=wt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=ot.current,is(n)?ag(n):(t=My(h,l,r),n.stateNode=t,Bi(n))}return te(n),null;case 5:if(jr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(f=ot.current,is(n))ag(n);else{var v=Fu(wt.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[ve]=n,f[je]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;t:switch(Fe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Bi(n)}}return te(n),df(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=wt.current,is(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=ke,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ve]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||by(t.nodeValue,r)),t||ma(n,!0)}else t=Fu(t).createTextNode(l),t[ve]=n,n.stateNode=t}return te(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=is(n),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ve]=n}else gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else r=Th(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=is(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Th(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Nu(n,n.updateQueue),te(n),null);case 4:return ae(),t===null&&jf(n.stateNode.containerInfo),te(n),null;case 10:return zi(n.type),te(n),null;case 19:if(W(de),l=n.memoizedState,l===null)return te(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)zl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=pu(t),f!==null){for(n.flags|=128,zl(l,!1),t=f.updateQueue,n.updateQueue=t,Nu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Wm(r,t),r=r.sibling;return st(de,de.current&1|2),Ot&&Oi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>Ou&&(n.flags|=128,h=!0,zl(l,!1),n.lanes=4194304)}else{if(!h)if(t=pu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Nu(n,t),zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return te(n),null}else 2*Je()-l.renderingStartTime>Ou&&r!==536870912&&(n.flags|=128,h=!0,zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,r=de.current,st(de,h?r&1|2:r&1),Ot&&Oi(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return pn(n),jh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&Nu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&W(vr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),zi(be),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function f2(t,n){switch(Eh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return zi(be),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return jr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(s(340));gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return W(de),null;case 4:return ae(),null;case 10:return zi(n.type),null;case 22:case 23:return pn(n),jh(),t!==null&&W(vr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return zi(be),null;case 25:return null;default:return null}}function wp(t,n){switch(Eh(n),n.tag){case 3:zi(be),ae();break;case 26:case 27:case 5:jr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:W(de);break;case 10:zi(n.type);break;case 22:case 23:pn(n),jh(),t!==null&&W(vr);break;case 24:zi(be)}}function Ll(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(T){Yt(n,n.return,T)}}function ba(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var N=r,k=T;try{k()}catch(Q){Yt(h,N,Q)}}}l=l.next}while(l!==f)}}catch(Q){Yt(n,n.return,Q)}}function Rp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{yg(n,r)}catch(l){Yt(t,t.return,l)}}}function Cp(t,n,r){r.props=Sr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Ul(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Yt(t,n,h)}}function Ei(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(t,n,h)}else r.current=null}function Np(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Yt(t,t.return,h)}}function mf(t,n,r){try{var l=t.stateNode;O2(l,t.type,r,n),l[je]=n}catch(h){Yt(t,t.return,h)}}function Dp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ca(t.type)||t.tag===4}function gf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=kn));else if(l!==4&&(l===27&&Ca(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(pf(t,n,r),t=t.sibling;t!==null;)pf(t,n,r),t=t.sibling}function Du(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ca(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Du(t,n,r),t=t.sibling;t!==null;)Du(t,n,r),t=t.sibling}function Vp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,l,r),n[ve]=t,n[je]=r}catch(f){Yt(t,t.return,f)}}var ki=!1,Ae=!1,yf=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,Le=null;function d2(t,n){if(t=t.containerInfo,Uf=Zu,t=Fm(t),uh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,T=-1,N=-1,k=0,Q=0,J=t,q=null;e:for(;;){for(var G;J!==r||h!==0&&J.nodeType!==3||(T=v+h),J!==f||l!==0&&J.nodeType!==3||(N=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)q=J,J=G;for(;;){if(J===t)break e;if(q===r&&++k===h&&(T=v),q===f&&++Q===l&&(N=v),(G=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=G}r=T===-1||N===-1?null:{start:T,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pf={focusedElem:t,selectionRange:r},Zu=!1,Le=n;Le!==null;)if(n=Le,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Le=t;else for(;Le!==null;){switch(n=Le,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ut=Sr(r.type,h);t=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Yt(r,r.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)qf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Le=t;break}Le=n.return}}function Ip(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(t,r),l&4&&Ll(5,r);break;case 1:if(Hi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){Yt(r,r.return,v)}else{var h=Sr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Yt(r,r.return,v)}}l&64&&Rp(r),l&512&&Ul(r,r.return);break;case 3:if(Hi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{yg(t,n)}catch(v){Yt(r,r.return,v)}}break;case 27:n===null&&l&4&&Vp(r);case 26:case 5:Hi(t,r),n===null&&l&4&&Np(r),l&512&&Ul(r,r.return);break;case 12:Hi(t,r);break;case 31:Hi(t,r),l&4&&zp(t,r);break;case 13:Hi(t,r),l&4&&Lp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=T2.bind(null,r),q2(t,r))));break;case 22:if(l=r.memoizedState!==null||ki,!l){n=n!==null&&n.memoizedState!==null||Ae,h=ki;var f=Ae;ki=l,(Ae=n)&&!f?Fi(t,r,(r.subtreeFlags&8772)!==0):Hi(t,r),ki=h,Ae=f}break;case 30:break;default:Hi(t,r)}}function Op(t){var n=t.alternate;n!==null&&(t.alternate=null,Op(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Br(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,an=!1;function qi(t,n,r){for(r=r.child;r!==null;)jp(t,n,r),r=r.sibling}function jp(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Ae||Ei(r,n),qi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ae||Ei(r,n);var l=se,h=an;Ca(r.type)&&(se=r.stateNode,an=!1),qi(t,n,r),Yl(r.stateNode),se=l,an=h;break;case 5:Ae||Ei(r,n);case 6:if(l=se,h=an,se=null,qi(t,n,r),se=l,an=h,se!==null)if(an)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{se.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:se!==null&&(an?(t=se,Ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),As(t)):Ry(se,r.stateNode));break;case 4:l=se,h=an,se=r.stateNode.containerInfo,an=!0,qi(t,n,r),se=l,an=h;break;case 0:case 11:case 14:case 15:ba(2,r,n),Ae||ba(4,r,n),qi(t,n,r);break;case 1:Ae||(Ei(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Cp(r,n,l)),qi(t,n,r);break;case 21:qi(t,n,r);break;case 22:Ae=(l=Ae)||r.memoizedState!==null,qi(t,n,r),Ae=l;break;default:qi(t,n,r)}}function zp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{As(t)}catch(r){Yt(n,n.return,r)}}}function Lp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{As(t)}catch(r){Yt(n,n.return,r)}}function m2(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Mp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Mp),n;default:throw Error(s(435,t.tag))}}function Vu(t,n){var r=m2(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=S2.bind(null,t,l);l.then(h,h)}})}function rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Ca(T.type)){se=T.stateNode,an=!1;break t}break;case 5:se=T.stateNode,an=!1;break t;case 3:case 4:se=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(se===null)throw Error(s(160));jp(f,v,h),se=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Up(n,t),n=n.sibling}var Yn=null;function Up(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),sn(t),l&4&&(ba(3,t,t.return),Ll(3,t),ba(5,t,t.return));break;case 1:rn(n,t),sn(t),l&512&&(Ae||r===null||Ei(r,r.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Yn;if(rn(n,t),sn(t),l&512&&(Ae||r===null||Ei(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,l,r),f[ve]=t,_e(f),l=f;break t;case"link":var v=Uy("link","href",h).get(l+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),Fe(f,l,r),h.head.appendChild(f);break;case"meta":if(v=Uy("meta","content",h).get(l+(r.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break e}}f=h.createElement(l),Fe(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,_e(f),l=f}t.stateNode=l}else Py(h,t.type,t.stateNode);else t.stateNode=Ly(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Py(h,t.type,t.stateNode):Ly(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&mf(t,t.memoizedProps,r.memoizedProps)}break;case 27:rn(n,t),sn(t),l&512&&(Ae||r===null||Ei(r,r.return)),r!==null&&l&4&&mf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(rn(n,t),sn(t),l&512&&(Ae||r===null||Ei(r,r.return)),t.flags&32){h=t.stateNode;try{nn(h,"")}catch(ut){Yt(t,t.return,ut)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,mf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(yf=!0);break;case 6:if(rn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ut){Yt(t,t.return,ut)}}break;case 3:if(Yu=null,h=Yn,Yn=Gu(n.containerInfo),rn(n,t),Yn=h,sn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{As(n.containerInfo)}catch(ut){Yt(t,t.return,ut)}yf&&(yf=!1,Pp(t));break;case 4:l=Yn,Yn=Gu(t.stateNode.containerInfo),rn(n,t),sn(t),Yn=l;break;case 12:rn(n,t),sn(t);break;case 31:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 13:rn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Iu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,k=ki,Q=Ae;if(ki=k||h,Ae=Q||N,rn(n,t),Ae=Q,ki=k,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||ki||Ae||Ar(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var J=N.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ut){Yt(N,N.return,ut)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ut){Yt(N,N.return,ut)}}}else if(n.tag===18){if(r===null){N=n;try{var G=N.stateNode;h?Cy(G,!0):Cy(N.stateNode,!1)}catch(ut){Yt(N,N.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Vu(t,r))));break;case 19:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 30:break;case 21:break;default:rn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Dp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=gf(t);Du(t,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(nn(v,""),r.flags&=-33);var T=gf(t);Du(t,T,v);break;case 3:case 4:var N=r.stateNode.containerInfo,k=gf(t);pf(t,k,N);break;default:throw Error(s(161))}}catch(Q){Yt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Hi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ip(t,n.alternate,n),n=n.sibling}function Ar(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ba(4,n,n.return),Ar(n);break;case 1:Ei(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Cp(n,n.return,r),Ar(n);break;case 27:Yl(n.stateNode);case 26:case 5:Ei(n,n.return),Ar(n);break;case 22:n.memoizedState===null&&Ar(n);break;case 30:Ar(n);break;default:Ar(n)}t=t.sibling}}function Fi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),Ll(4,f);break;case 1:if(Fi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Yt(l,l.return,k)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)pg(N[h],T)}catch(k){Yt(l,l.return,k)}}r&&v&64&&Rp(f),Ul(f,f.return);break;case 27:Vp(f);case 26:case 5:Fi(h,f,r),r&&l===null&&v&4&&Np(f),Ul(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&v&4&&zp(h,f);break;case 13:Fi(h,f,r),r&&v&4&&Lp(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),Ul(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function vf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Al(r))}function _f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Al(t))}function Kn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bp(t,n,r,l),n=n.sibling}function Bp(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,r,l),h&2048&&Ll(9,n);break;case 1:Kn(t,n,r,l);break;case 3:Kn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Al(t)));break;case 12:if(h&2048){Kn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Yt(n,n.return,N)}}else Kn(t,n,r,l);break;case 31:Kn(t,n,r,l);break;case 13:Kn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,r,l):Pl(t,n):f._visibility&2?Kn(t,n,r,l):(f._visibility|=2,ds(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&vf(v,n);break;case 24:Kn(t,n,r,l),h&2048&&_f(n.alternate,n);break;default:Kn(t,n,r,l)}}function ds(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,v=n,T=r,N=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:ds(f,v,T,N,h),Ll(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?ds(f,v,T,N,h):Pl(f,v):(Q._visibility|=2,ds(f,v,T,N,h)),h&&k&2048&&vf(v.alternate,v);break;case 24:ds(f,v,T,N,h),h&&k&2048&&_f(v.alternate,v);break;default:ds(f,v,T,N,h)}n=n.sibling}}function Pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Pl(r,l),h&2048&&vf(l.alternate,l);break;case 24:Pl(r,l),h&2048&&_f(l.alternate,l);break;default:Pl(r,l)}n=n.sibling}}var Bl=8192;function ms(t,n,r){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)kp(t,n,r),t=t.sibling}function kp(t,n,r){switch(t.tag){case 26:ms(t,n,r),t.flags&Bl&&t.memoizedState!==null&&tE(r,Yn,t.memoizedState,t.memoizedProps);break;case 5:ms(t,n,r);break;case 3:case 4:var l=Yn;Yn=Gu(t.stateNode.containerInfo),ms(t,n,r),Yn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Bl,Bl=16777216,ms(t,n,r),Bl=l):ms(t,n,r));break;default:ms(t,n,r)}}function qp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Le=l,Fp(l,t)}qp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hp(t),t=t.sibling}function Hp(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&ba(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Mu(t)):kl(t);break;default:kl(t)}}function Mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Le=l,Fp(l,t)}qp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ba(8,n,n.return),Mu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Mu(n));break;default:Mu(n)}t=t.sibling}}function Fp(t,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:ba(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Le=l;else t:for(r=t;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(Op(l),l===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var g2={getCacheForType:function(t){var n=qe(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return qe(be).controller.signal}},p2=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,Ct=null,Dt=0,Qt=0,yn=null,Ta=!1,gs=!1,Ef=!1,Gi=0,ce=0,Sa=0,xr=0,bf=0,vn=0,ps=0,ql=null,ln=null,Tf=!1,Iu=0,Gp=0,Ou=1/0,ju=null,Aa=null,Ve=0,xa=null,ys=null,Qi=0,Sf=0,Af=null,Qp=null,Hl=0,xf=null;function _n(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:X.T!==null?Vf():zo()}function Yp(){if(vn===0)if((Dt&536870912)===0||Ot){var t=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function on(t,n,r){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(vs(t,0),wa(t,Dt,vn,!1)),Wa(t,r),((qt&2)===0||t!==Jt)&&(t===Jt&&((qt&2)===0&&(xr|=r),ce===4&&wa(t,Dt,vn,!1)),bi(t))}function Kp(t,n,r){if((qt&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),h=l?_2(t,n):Rf(t,n,!0),f=l;do{if(h===0){gs&&!l&&wa(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!y2(r)){h=Rf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=ql;var N=T.current.memoizedState.isDehydrated;if(N&&(vs(T,v).flags|=256),v=Rf(T,v,!1),v!==2){if(Ef&&!N){T.errorRecoveryDisabledLanes|=f,xr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){vs(t,0),wa(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:wa(l,n,vn,!Ta);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Iu+300-Je(),10<h)){if(wa(l,n,vn,!Ta),ii(l,0,!0)!==0)break t;Qi=n,l.timeoutHandle=xy(Xp.bind(null,l,r,ln,ju,Tf,n,vn,xr,ps,Ta,f,"Throttled",-0,0),h);break t}Xp(l,r,ln,ju,Tf,n,vn,xr,ps,Ta,f,null,-0,0)}}break}while(!0);bi(t)}function Xp(t,n,r,l,h,f,v,T,N,k,Q,J,q,G){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},kp(n,f,J);var ut=(f&62914560)===f?Iu-Je():(f&4194048)===f?Gp-Je():0;if(ut=eE(J,ut),ut!==null){Qi=f,t.cancelPendingCommit=ut(iy.bind(null,t,n,f,r,l,h,v,T,N,Q,J,null,q,G)),wa(t,f,v,!k);return}}iy(t,n,f,r,l,h,v,T,N)}function y2(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function wa(t,n,r,l){n&=~bf,n&=~xr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-he(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&tr(t,r,n)}function zu(){return(qt&6)===0?(Fl(0),!1):!0}function wf(){if(Ct!==null){if(Qt===0)var t=Ct.return;else t=Ct,ji=pr=null,kh(t),os=null,wl=0,t=Ct;for(;t!==null;)wp(t.alternate,t),t=t.return;Ct=null}}function vs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,L2(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Qi=0,wf(),Jt=t,Ct=r=Ii(t.current,null),Dt=n,Qt=0,yn=null,Ta=!1,gs=Un(t,n),Ef=!1,ps=vn=bf=xr=Sa=ce=0,ln=ql=null,Tf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-he(l),f=1<<h;n|=t[h],l&=~f}return Gi=n,iu(),r}function $p(t,n){xt=null,X.H=Ol,n===ls||n===hu?(n=fg(),Qt=3):n===Nh?(n=fg(),Qt=4):Qt=n===af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Ct===null&&(ce=1,xu(t,Nn(n,t.current)))}function Zp(){var t=gn.current;return t===null?!0:(Dt&4194048)===Dt?In===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===In:!1}function Jp(){var t=X.H;return X.H=Ol,t===null?Ol:t}function Wp(){var t=X.A;return X.A=g2,t}function Lu(){ce=4,Ta||(Dt&4194048)!==Dt&&gn.current!==null||(gs=!0),(Sa&134217727)===0&&(xr&134217727)===0||Jt===null||wa(Jt,Dt,vn,!1)}function Rf(t,n,r){var l=qt;qt|=2;var h=Jp(),f=Wp();(Jt!==t||Dt!==n)&&(ju=null,vs(t,n)),n=!1;var v=ce;t:do try{if(Qt!==0&&Ct!==null){var T=Ct,N=yn;switch(Qt){case 8:wf(),v=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var k=Qt;if(Qt=0,yn=null,_s(t,T,N,k),r&&gs){v=0;break t}break;default:k=Qt,Qt=0,yn=null,_s(t,T,N,k)}}v2(),v=ce;break}catch(Q){$p(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ji=pr=null,qt=l,X.H=h,X.A=f,Ct===null&&(Jt=null,Dt=0,iu()),v}function v2(){for(;Ct!==null;)ty(Ct)}function _2(t,n){var r=qt;qt|=2;var l=Jp(),h=Wp();Jt!==t||Dt!==n?(ju=null,Ou=Je()+500,vs(t,n)):gs=Un(t,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var f=yn;e:switch(Qt){case 1:Qt=0,yn=null,_s(t,n,f,1);break;case 2:case 9:if(cg(f)){Qt=0,yn=null,ey(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),bi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:cg(f)?(Qt=0,yn=null,ey(n)):(Qt=0,yn=null,_s(t,n,f,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var T=Ct;if(v?By(v):T.stateNode.complete){Qt=0,yn=null;var N=T.sibling;if(N!==null)Ct=N;else{var k=T.return;k!==null?(Ct=k,Uu(k)):Ct=null}break e}}Qt=0,yn=null,_s(t,n,f,5);break;case 6:Qt=0,yn=null,_s(t,n,f,6);break;case 8:wf(),ce=6;break t;default:throw Error(s(462))}}E2();break}catch(Q){$p(t,Q)}while(!0);return ji=pr=null,X.H=l,X.A=h,qt=r,Ct!==null?0:(Jt=null,Dt=0,iu(),ce)}function E2(){for(;Ct!==null&&!nh();)ty(Ct)}function ty(t){var n=Ap(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,n===null?Uu(t):Ct=n}function ey(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=vp(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=vp(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:kh(n);default:wp(r,n),n=Ct=Wm(n,Gi),n=Ap(r,n,Gi)}t.memoizedProps=t.pendingProps,n===null?Uu(t):Ct=n}function _s(t,n,r,l){ji=pr=null,kh(n),os=null,wl=0;var h=n.return;try{if(o2(t,h,n,r,Dt)){ce=1,xu(t,Nn(r,t.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ce=1,xu(t,Nn(r,t.current)),Ct=null;return}n.flags&32768?(Ot||l===1?t=!0:gs||(Dt&536870912)!==0?t=!1:(Ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ny(n,t)):Uu(n)}function Uu(t){var n=t;do{if((n.flags&32768)!==0){ny(n,Ta);return}t=n.return;var r=h2(n.alternate,n,Gi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);ce===0&&(ce=5)}function ny(t,n){do{var r=f2(t.alternate,t);if(r!==null){r.flags&=32767,Ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=r}while(t!==null);ce=6,Ct=null}function iy(t,n,r,l,h,f,v,T,N){t.cancelPendingCommit=null;do Pu();while(Ve!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=mh,rh(t,r,f,v,T,N),t===Jt&&(Ct=Jt=null,Dt=0),ys=n,xa=t,Qi=r,Sf=f,Af=h,Qp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,A2(na,function(){return oy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=rt.p,rt.p=2,v=qt,qt|=4;try{d2(t,n,r)}finally{qt=v,rt.p=h,X.T=l}}Ve=1,ay(),ry(),sy()}}function ay(){if(Ve===1){Ve=0;var t=xa,n=ys,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=X.T,X.T=null;var l=rt.p;rt.p=2;var h=qt;qt|=4;try{Up(n,t);var f=Pf,v=Fm(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Hm(T.ownerDocument.documentElement,T)){if(N!==null&&uh(T)){var k=N.start,Q=N.end;if(Q===void 0&&(Q=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min(Q,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var G=q.getSelection(),ut=T.textContent.length,yt=Math.min(N.start,ut),Zt=N.end===void 0?yt:Math.min(N.end,ut);!G.extend&&yt>Zt&&(v=Zt,Zt=yt,yt=v);var j=qm(T,yt),M=qm(T,Zt);if(j&&M&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var P=J.createRange();P.setStart(j.node,j.offset),G.removeAllRanges(),yt>Zt?(G.addRange(P),G.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),G.addRange(P))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var $=J[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Zu=!!Uf,Pf=Uf=null}finally{qt=h,rt.p=l,X.T=r}}t.current=n,Ve=2}}function ry(){if(Ve===2){Ve=0;var t=xa,n=ys,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=X.T,X.T=null;var l=rt.p;rt.p=2;var h=qt;qt|=4;try{Ip(t,n.alternate,n)}finally{qt=h,rt.p=l,X.T=r}}Ve=3}}function sy(){if(Ve===4||Ve===3){Ve=0,No();var t=xa,n=ys,r=Qi,l=Qp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,ys=xa=null,ly(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Aa=null),Ni(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=rt.p,rt.p=2,X.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{X.T=n,rt.p=h}}(Qi&3)!==0&&Pu(),bi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===xf?Hl++:(Hl=0,xf=t):Hl=0,Fl(0)}}function ly(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Al(n)))}function Pu(){return ay(),ry(),sy(),oy()}function oy(){if(Ve!==5)return!1;var t=xa,n=Sf;Sf=0;var r=Ni(Qi),l=X.T,h=rt.p;try{rt.p=32>r?32:r,X.T=null,r=Af,Af=null;var f=xa,v=Qi;if(Ve=0,ys=xa=null,Qi=0,(qt&6)!==0)throw Error(s(331));var T=qt;if(qt|=4,Hp(f.current),Bp(f,f.current,v,r),qt=T,Fl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{rt.p=h,X.T=l,ly(t,n)}}function uy(t,n,r){n=Nn(r,n),n=nf(t.stateNode,n,2),t=va(t,n,2),t!==null&&(Wa(t,2),bi(t))}function Yt(t,n,r){if(t.tag===3)uy(t,t,r);else for(;n!==null;){if(n.tag===3){uy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Aa===null||!Aa.has(l))){t=Nn(r,t),r=cp(2),l=va(n,r,2),l!==null&&(hp(r,l,n,t),Wa(l,2),bi(l));break}}n=n.return}}function Cf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new p2;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Ef=!0,h.add(r),t=b2.bind(null,t,n,r),n.then(t,t))}function b2(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Dt&r)===r&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>Je()-Iu?(qt&2)===0&&vs(t,0):bf|=r,ps===Dt&&(ps=0)),bi(t)}function cy(t,n){n===0&&(n=jo()),t=dr(t,n),t!==null&&(Wa(t,n),bi(t))}function T2(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),cy(t,r)}function S2(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),cy(t,r)}function A2(t,n){return De(t,n)}var Bu=null,Es=null,Nf=!1,ku=!1,Df=!1,Ra=0;function bi(t){t!==Es&&t.next===null&&(Es===null?Bu=Es=t:Es=Es.next=t),ku=!0,Nf||(Nf=!0,w2())}function Fl(t,n){if(!Df&&ku){Df=!0;do for(var r=!1,l=Bu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,my(l,f))}else f=Dt,f=ii(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(r=!0,my(l,f));l=l.next}while(r);Df=!1}}function x2(){hy()}function hy(){ku=Nf=!1;var t=0;Ra!==0&&z2()&&(t=Ra);for(var n=Je(),r=null,l=Bu;l!==null;){var h=l.next,f=fy(l,n);f===0?(l.next=null,r===null?Bu=h:r.next=h,h===null&&(Es=r)):(r=l,(t!==0||(f&3)!==0)&&(ku=!0)),l=h}Ve!==0&&Ve!==5||Fl(t),Ra!==0&&(Ra=0)}function fy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-he(f),T=1<<v,N=h[v];N===-1?((T&r)===0||(T&l)!==0)&&(h[v]=ah(T,n)):N<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,r=Dt,r=ii(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ea(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Un(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ea(l),Ni(r)){case 2:case 8:r=tl;break;case 32:r=na;break;case 268435456:r=Do;break;default:r=na}return l=dy.bind(null,t),r=De(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ea(l),t.callbackPriority=2,t.callbackNode=null,2}function dy(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Pu()&&t.callbackNode!==r)return null;var l=Dt;return l=ii(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Kp(t,l,n),fy(t,Je()),t.callbackNode!=null&&t.callbackNode===r?dy.bind(null,t):null)}function my(t,n){if(Pu())return null;Kp(t,n,!0)}function w2(){U2(function(){(qt&6)!==0?De(Ws,x2):hy()})}function Vf(){if(Ra===0){var t=rs;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ra=t}return Ra}function gy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fr(""+t)}function py(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function R2(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=gy((h[je]||null).action),v=l.submitter;v&&(n=(n=v[je]||null)?gy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new mi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ra!==0){var N=v?py(h,v):new FormData(h);$h(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=v?py(h,v):new FormData(h),$h(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Mf=0;Mf<dh.length;Mf++){var If=dh[Mf],C2=If.toLowerCase(),N2=If[0].toUpperCase()+If.slice(1);Qn(C2,"on"+N2)}Qn(Ym,"onAnimationEnd"),Qn(Km,"onAnimationIteration"),Qn(Xm,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(G_,"onTransitionRun"),Qn(Q_,"onTransitionStart"),Qn(Y_,"onTransitionCancel"),Qn($m,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function yy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,k=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=k;try{f(h)}catch(Q){nu(Q)}h.currentTarget=null,f=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,k=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=k;try{f(h)}catch(Q){nu(Q)}h.currentTarget=null,f=N}}}}function Nt(t,n){var r=n[Pr];r===void 0&&(r=n[Pr]=new Set);var l=t+"__bubble";r.has(l)||(vy(n,t,2,!1),r.add(l))}function Of(t,n,r){var l=0;n&&(l|=4),vy(r,t,l,n)}var qu="_reactListening"+Math.random().toString(36).slice(2);function jf(t){if(!t[qu]){t[qu]=!0,il.forEach(function(r){r!=="selectionchange"&&(D2.has(r)||Of(r,!1,t),Of(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[qu]||(n[qu]=!0,Of("selectionchange",!1,n))}}function vy(t,n,r,l){switch(Yy(n)){case 2:var h=aE;break;case 8:h=rE;break;default:h=$f}r=h.bind(null,n,r,t),h=void 0,!rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function zf(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=li(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=f=v;continue t}T=T.parentNode}}l=l.return}oa(function(){var k=f,Q=xn(r),J=[];t:{var q=Zm.get(t);if(q!==void 0){var G=mi,ut=t;switch(t){case"keypress":if(lr(r)===0)break t;case"keydown":case"keyup":G=Wo;break;case"focusin":ut="focus",G=ur;break;case"focusout":ut="blur",G=ur;break;case"beforeblur":case"afterblur":G=ur;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=g;break;case Ym:case Km:case Xm:G=Qo;break;case $m:G=S;break;case"scroll":case"scrollend":G=gl;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Mi;break;case"toggle":case"beforetoggle":G=At}var yt=(n&4)!==0,Zt=!yt&&(t==="scroll"||t==="scrollend"),j=yt?q!==null?q+"Capture":null:q;yt=[];for(var M=k,P;M!==null;){var $=M;if(P=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||P===null||j===null||($=qn(M,j),$!=null&&yt.push(Ql(M,$,P))),Zt)break;M=M.return}0<yt.length&&(q=new G(q,ut,null,r,Q),J.push({event:q,listeners:yt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&r!==fl&&(ut=r.relatedTarget||r.fromElement)&&(li(ut)||ut[ri]))break t;if((G||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ut=r.relatedTarget||r.toElement,G=k,ut=ut?li(ut):null,ut!==null&&(Zt=c(ut),yt=ut.tag,ut!==Zt||yt!==5&&yt!==27&&yt!==6)&&(ut=null)):(G=null,ut=k),G!==ut)){if(yt=pl,$="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Mi,$="onPointerLeave",j="onPointerEnter",M="pointer"),Zt=G==null?q:hn(G),P=ut==null?q:hn(ut),q=new yt($,M+"leave",G,r,Q),q.target=Zt,q.relatedTarget=P,$=null,li(Q)===k&&(yt=new yt(j,M+"enter",ut,r,Q),yt.target=P,yt.relatedTarget=Zt,$=yt),Zt=$,G&&ut)e:{for(yt=V2,j=G,M=ut,P=0,$=j;$;$=yt($))P++;$=0;for(var mt=M;mt;mt=yt(mt))$++;for(;0<P-$;)j=yt(j),P--;for(;0<$-P;)M=yt(M),$--;for(;P--;){if(j===M||M!==null&&j===M.alternate){yt=j;break e}j=yt(j),M=yt(M)}yt=null}else yt=null;G!==null&&_y(J,q,G,yt,!1),ut!==null&&Zt!==null&&_y(J,Zt,ut,yt,!0)}}t:{if(q=k?hn(k):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Pt=zm;else if(Om(q))if(Lm)Pt=q_;else{Pt=B_;var ht=P_}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?k&&Hr(k.elementType)&&(Pt=zm):Pt=k_;if(Pt&&(Pt=Pt(t,k))){jm(J,Pt,r,Q);break t}ht&&ht(t,q,k),t==="focusout"&&k&&q.type==="number"&&k.memoizedProps.value!=null&&ul(q,"number",q.value)}switch(ht=k?hn(k):window,t){case"focusin":(Om(ht)||ht.contentEditable==="true")&&(Zr=ht,ch=k,bl=null);break;case"focusout":bl=ch=Zr=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,Gm(J,r,Q);break;case"selectionchange":if(F_)break;case"keydown":case"keyup":Gm(J,r,Q)}var Rt;if(kt)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else $r?cr(t,r)&&(Vt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Vt="onCompositionStart");Vt&&(yi&&r.locale!=="ko"&&($r||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&$r&&(Rt=ml()):(di=Q,dl="value"in di?di.value:di.textContent,$r=!0)),ht=Hu(k,Vt),0<ht.length&&(Vt=new pi(Vt,t,null,r,Q),J.push({event:Vt,listeners:ht}),Rt?Vt.data=Rt:(Rt=Xr(r),Rt!==null&&(Vt.data=Rt)))),(Rt=Rn?j_(t,r):z_(t,r))&&(Vt=Hu(k,"onBeforeInput"),0<Vt.length&&(ht=new pi("onBeforeInput","beforeinput",null,r,Q),J.push({event:ht,listeners:Vt}),ht.data=Rt)),R2(J,t,k,r,Q)}yy(J,n)})}function Ql(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Hu(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(t,r),h!=null&&l.unshift(Ql(t,h,f)),h=qn(t,n),h!=null&&l.push(Ql(t,h,f))),t.tag===3)return l;t=t.return}return[]}function V2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _y(t,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var T=r,N=T.alternate,k=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||k===null||(N=k,h?(k=qn(r,f),k!=null&&v.unshift(Ql(r,k,N))):h||(k=qn(r,f),k!=null&&v.push(Ql(r,k,N)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var M2=/\r\n?/g,I2=/\u0000|\uFFFD/g;function Ey(t){return(typeof t=="string"?t:""+t).replace(M2,`
`).replace(I2,"")}function by(t,n){return n=Ey(n),Ey(t)===n}function $t(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,r,l);break;case"style":hl(t,l,f);break;case"data":if(n!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Fr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&$t(t,n,"name",h.name,h,null),$t(t,n,"formEncType",h.formEncType,h,null),$t(t,n,"formMethod",h.formMethod,h,null),$t(t,n,"formTarget",h.formTarget,h,null)):($t(t,n,"encType",h.encType,h,null),$t(t,n,"method",h.method,h,null),$t(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Fr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=kn);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Fr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),kr(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":kr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ho.get(r)||r,kr(t,r,l))}}function Lf(t,n,r,l,h,f){switch(r){case"style":hl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[je]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):kr(t,r,l)}}}function Fe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,f,v,r,null)}}h&&$t(t,n,"srcSet",r.srcSet,r,null),l&&$t(t,n,"src",r.src,r,null);return;case"input":Nt("invalid",t);var T=f=v=h=null,N=null,k=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":N=Q;break;case"defaultChecked":k=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:$t(t,n,l,Q,r,null)}}Bo(t,f,T,N,k,v,h,!1);return;case"select":Nt("invalid",t),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$t(t,n,h,T,r,null)}n=f,r=v,t.multiple=!!l,n!=null?aa(t,!!l,n,!1):r!=null&&aa(t,!!l,r,!0);return;case"textarea":Nt("invalid",t),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$t(t,n,v,T,r,null)}ra(t,l,h,f);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,N,l,r,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Nt(Gl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(l=r[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,k,l,r,null)}return;default:if(Hr(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&Lf(t,n,Q,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&$t(t,n,T,l,r,null))}function O2(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,N=null,k=null,Q=null;for(G in r){var J=r[G];if(r.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(G)||$t(t,n,G,null,l,J)}}for(var q in l){var G=l[q];if(J=r[q],l.hasOwnProperty(q)&&(G!=null||J!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":k=G;break;case"defaultChecked":Q=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==J&&$t(t,n,q,G,l,J)}}qr(t,v,T,N,k,Q,f,h);return;case"select":G=v=T=q=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=r[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==N&&$t(t,n,h,f,l,N)}n=T,r=v,l=G,q!=null?aa(t,!!r,q,!1):!!l!=!!r&&(n!=null?aa(t,!!r,n,!0):aa(t,!!r,r?[]:"",!1));return;case"textarea":G=q=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(t,n,v,h,l,f)}ko(t,q,G);return;case"option":for(var ut in r)if(q=r[ut],r.hasOwnProperty(ut)&&q!=null&&!l.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:$t(t,n,ut,null,l,q)}for(N in l)if(q=l[N],G=r[N],l.hasOwnProperty(N)&&q!==G&&(q!=null||G!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(t,n,N,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)q=r[yt],r.hasOwnProperty(yt)&&q!=null&&!l.hasOwnProperty(yt)&&$t(t,n,yt,null,l,q);for(k in l)if(q=l[k],G=r[k],l.hasOwnProperty(k)&&q!==G&&(q!=null||G!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:$t(t,n,k,q,l,G)}return;default:if(Hr(n)){for(var Zt in r)q=r[Zt],r.hasOwnProperty(Zt)&&q!==void 0&&!l.hasOwnProperty(Zt)&&Lf(t,n,Zt,void 0,l,q);for(Q in l)q=l[Q],G=r[Q],!l.hasOwnProperty(Q)||q===G||q===void 0&&G===void 0||Lf(t,n,Q,q,l,G);return}}for(var j in r)q=r[j],r.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&$t(t,n,j,null,l,q);for(J in l)q=l[J],G=r[J],!l.hasOwnProperty(J)||q===G||q==null&&G==null||$t(t,n,J,q,l,G)}function Ty(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,v=h.initiatorType,T=h.duration;if(f&&T&&Ty(v)){for(v=0,T=h.responseEnd,l+=1;l<r.length;l++){var N=r[l],k=N.startTime;if(k>T)break;var Q=N.transferSize,J=N.initiatorType;Q&&Ty(J)&&(N=N.responseEnd,v+=Q*(N<T?1:(T-k)/(N-k)))}if(--l,n+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Uf=null,Pf=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function Sy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Bf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var kf=null;function z2(){var t=window.event;return t&&t.type==="popstate"?t===kf?!1:(kf=t,!0):(kf=null,!1)}var xy=typeof setTimeout=="function"?setTimeout:void 0,L2=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(t){return wy.resolve(null).then(t).catch(P2)}:xy;function P2(t){setTimeout(function(){throw t})}function Ca(t){return t==="head"}function Ry(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),As(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Yl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Yl(r);for(var f=r.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[si]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=v}}else r==="body"&&Yl(t.ownerDocument.body);r=h}while(r);As(n)}function Cy(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function qf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":qf(r),Br(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function B2(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function k2(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function Ny(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function Hf(t){return t.data==="$?"||t.data==="$~"}function Ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function q2(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Gf=null;function Dy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return On(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Vy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function My(t,n,r){switch(n=Fu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Br(t)}var jn=new Map,Iy=new Set;function Gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=rt.d;rt.d={f:H2,r:F2,D:G2,C:Q2,L:Y2,m:K2,X:$2,S:X2,M:Z2};function H2(){var t=Yi.f(),n=zu();return t||n}function F2(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?$g(n):Yi.r(t)}var bs=typeof document>"u"?null:document;function Oy(t,n,r){var l=bs;if(l&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Iy.has(h)||(Iy.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Fe(n,"link",t),_e(n),l.head.appendChild(n)))}}function G2(t){Yi.D(t),Oy("dns-prefetch",t,null)}function Q2(t,n){Yi.C(t,n),Oy("preconnect",t,n)}function Y2(t,n,r){Yi.L(t,n,r);var l=bs;if(l&&t&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+en(r.imageSizes)+'"]')):h+='[href="'+en(t)+'"]';var f=h;switch(n){case"style":f=Ts(t);break;case"script":f=Ss(t)}jn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),jn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Kl(f))||n==="script"&&l.querySelector(Xl(f))||(n=l.createElement("link"),Fe(n,"link",t),_e(n),l.head.appendChild(n)))}}function K2(t,n){Yi.m(t,n);var r=bs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ss(t)}if(!jn.has(f)&&(t=A({rel:"modulepreload",href:t},n),jn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Xl(f)))return}l=r.createElement("link"),Fe(l,"link",t),_e(l),r.head.appendChild(l)}}}function X2(t,n,r){Yi.S(t,n,r);var l=bs;if(l&&t){var h=oi(l).hoistableStyles,f=Ts(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Kl(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=jn.get(f))&&Qf(t,r);var N=v=l.createElement("link");_e(N),Fe(N,"link",t),N._p=new Promise(function(k,Q){N.onload=k,N.onerror=Q}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function $2(t,n){Yi.X(t,n);var r=bs;if(r&&t){var l=oi(r).hoistableScripts,h=Ss(t),f=l.get(h);f||(f=r.querySelector(Xl(h)),f||(t=A({src:t,async:!0},n),(n=jn.get(h))&&Yf(t,n),f=r.createElement("script"),_e(f),Fe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Z2(t,n){Yi.M(t,n);var r=bs;if(r&&t){var l=oi(r).hoistableScripts,h=Ss(t),f=l.get(h);f||(f=r.querySelector(Xl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=jn.get(h))&&Yf(t,n),f=r.createElement("script"),_e(f),Fe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function jy(t,n,r,l){var h=(h=wt.current)?Gu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ts(r.href),r=oi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ts(r.href);var f=oi(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Kl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),jn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},jn.set(t,r),f||J2(h,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ss(r),r=oi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ts(t){return'href="'+en(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function zy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function J2(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",r),_e(n),t.head.appendChild(n))}function Ss(t){return'[src="'+en(t)+'"]'}function Xl(t){return"script[async]"+t}function Ly(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(r.href)+'"]');if(l)return n.instance=l,_e(l),l;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),Fe(l,"style",h),Qu(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ts(r.href);var f=t.querySelector(Kl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=zy(r),(h=jn.get(h))&&Qf(l,h),f=(t.ownerDocument||t).createElement("link"),_e(f);var v=f;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Fe(f,"link",l),n.state.loading|=4,Qu(f,r.precedence,t),n.instance=f;case"script":return f=Ss(r.src),(h=t.querySelector(Xl(f)))?(n.instance=h,_e(h),h):(l=r,(h=jn.get(f))&&(l=A({},r),Yf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),_e(h),Fe(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Qu(l,r.precedence,t));return n.instance}function Qu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Yu=null;function Uy(t,n,r){if(Yu===null){var l=new Map,h=Yu=new Map;h.set(r,l)}else h=Yu,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[si]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function Py(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function W2(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function By(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function tE(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ts(l.href),f=n.querySelector(Kl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ku.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,l=zy(l),(h=jn.get(h))&&Qf(l,h),f=f.createElement("link"),_e(f);var v=f;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),Fe(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ku.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Kf=0;function eE(t,n){return t.stylesheets&&t.count===0&&$u(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Kf===0&&(Kf=62500*j2());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Kf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function $u(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,n.forEach(nE,t),Xu=null,Ku.call(t))}function nE(t,n){if(!(n.state.loading&4)){var r=Xu.get(t);if(r)var l=r.get(null);else{r=new Map,Xu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=Ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var $l={$$typeof:it,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function iE(t,n,r,l,h,f,v,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function ky(t,n,r,l,h,f,v,T,N,k,Q,J){return t=new iE(t,n,r,v,N,k,Q,J,T),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),t.current=f,f.stateNode=t,n=wh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Dh(f),t}function qy(t){return t?(t=ts,t):ts}function Hy(t,n,r,l,h,f){h=qy(h),l.context===null?l.context=h:l.pendingContext=h,l=ya(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=va(t,l,n),r!==null&&(on(r,t,n),Cl(r,t,n))}function Fy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Xf(t,n){Fy(t,n),(t=t.alternate)&&Fy(t,n)}function Gy(t){if(t.tag===13||t.tag===31){var n=dr(t,67108864);n!==null&&on(n,t,67108864),Xf(t,67108864)}}function Qy(t){if(t.tag===13||t.tag===31){var n=_n();n=er(n);var r=dr(t,n);r!==null&&on(r,t,n),Xf(t,n)}}var Zu=!0;function aE(t,n,r,l){var h=X.T;X.T=null;var f=rt.p;try{rt.p=2,$f(t,n,r,l)}finally{rt.p=f,X.T=h}}function rE(t,n,r,l){var h=X.T;X.T=null;var f=rt.p;try{rt.p=8,$f(t,n,r,l)}finally{rt.p=f,X.T=h}}function $f(t,n,r,l){if(Zu){var h=Zf(l);if(h===null)zf(t,n,l,Ju,r),Ky(t,l);else if(lE(h,t,n,r,l))l.stopPropagation();else if(Ky(t,l),n&4&&-1<sE.indexOf(t)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=ni(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-he(v);T.entanglements[1]|=N,v&=~N}bi(f),(qt&6)===0&&(Ou=Je()+500,Fl(0))}}break;case 31:case 13:T=dr(f,2),T!==null&&on(T,f,2),zu(),Xf(f,2)}if(f=Zf(l),f===null&&zf(t,n,l,Ju,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else zf(t,n,l,null,r)}}function Zf(t){return t=xn(t),Jf(t)}var Ju=null;function Jf(t){if(Ju=null,t=li(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ju=t,null}function Yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Za()){case Ws:return 2;case tl:return 8;case na:case ih:return 32;case Do:return 268435456;default:return 32}default:return 32}}var Wf=!1,Na=null,Da=null,Va=null,Zl=new Map,Jl=new Map,Ma=[],sE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ky(t,n){switch(t){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(n.pointerId)}}function Wl(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&Gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function lE(t,n,r,l,h){switch(n){case"focusin":return Na=Wl(Na,t,n,r,l,h),!0;case"dragenter":return Da=Wl(Da,t,n,r,l,h),!0;case"mouseover":return Va=Wl(Va,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Zl.set(f,Wl(Zl.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Jl.set(f,Wl(Jl.get(f)||null,t,n,r,l,h)),!0}return!1}function Xy(t){var n=li(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Pn(t.priority,function(){Qy(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Pn(t.priority,function(){Qy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Zf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);fl=l,r.target.dispatchEvent(l),fl=null}else return n=An(r),n!==null&&Gy(n),t.blockedOn=r,!1;n.shift()}return!0}function $y(t,n,r){Wu(t)&&r.delete(n)}function oE(){Wf=!1,Na!==null&&Wu(Na)&&(Na=null),Da!==null&&Wu(Da)&&(Da=null),Va!==null&&Wu(Va)&&(Va=null),Zl.forEach($y),Jl.forEach($y)}function tc(t,n){t.blockedOn===n&&(t.blockedOn=null,Wf||(Wf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,oE)))}var ec=null;function Zy(t){ec!==t&&(ec=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ec===t&&(ec=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Jf(l||r)===null)continue;break}var f=An(r);f!==null&&(t.splice(n,3),n-=3,$h(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function As(t){function n(N){return tc(N,t)}Na!==null&&tc(Na,t),Da!==null&&tc(Da,t),Va!==null&&tc(Va,t),Zl.forEach(n),Jl.forEach(n);for(var r=0;r<Ma.length;r++){var l=Ma[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ma.length&&(r=Ma[0],r.blockedOn===null);)Xy(r),r.blockedOn===null&&Ma.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[je]||null;if(typeof f=="function")v||Zy(r);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[je]||null)T=v.formAction;else if(Jf(h)!==null)continue}else T=v.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Zy(r)}}}function Jy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function td(t){this._internalRoot=t}nc.prototype.render=td.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=_n();Hy(r,l,t,n,null,null)},nc.prototype.unmount=td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Hy(t.current,2,null,t,null,null),zu(),n[ri]=null}};function nc(t){this._internalRoot=t}nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=zo();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ma.length&&n!==0&&n<Ma[r].priority;r++);Ma.splice(r,0,t),r===0&&Xy(t)}};var Wy=e.version;if(Wy!=="19.2.0")throw Error(s(527,Wy,"19.2.0"));rt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var uE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Ln=ic.inject(uE),Pe=ic}catch{}}return eo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=sp,f=lp,v=op;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=ky(t,1,!1,null,null,r,l,null,h,f,v,Jy),t[ri]=n.current,jf(t),new td(n)},eo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=sp,v=lp,T=op,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=ky(t,1,!0,n,r??null,l,h,N,f,v,T,Jy),n.context=qy(null),r=n.current,l=_n(),l=er(l),h=ya(l),h.callback=null,va(r,h,l),r=l,n.current.lanes=r,Wa(n,r),bi(n),t[ri]=n.current,jf(t),new nc(n)},eo.version="19.2.0",eo}var u0;function _E(){if(u0)return id.exports;u0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),id.exports=vE(),id.exports}var EE=_E();const bE=N1(EE);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c0="popstate";function TE(a={}){function e(s,o){let{pathname:c,search:d,hash:p}=s.location;return Ed("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:fo(o)}return AE(e,i,null,a)}function le(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Zn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SE(){return Math.random().toString(36).substring(2,10)}function h0(a,e){return{usr:a.state,key:a.key,idx:e}}function Ed(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?ks(e):e,state:i,key:e&&e.key||s||SE()}}function fo({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function ks(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function AE(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",y=null,m=E();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function E(){return(d.state||{idx:null}).idx}function A(){p="POP";let H=E(),et=H==null?null:H-m;m=H,y&&y({action:p,location:Z.location,delta:et})}function R(H,et){p="PUSH";let K=Ed(Z.location,H,et);m=E()+1;let it=h0(K,m),ct=Z.createHref(K);try{d.pushState(it,"",ct)}catch(dt){if(dt instanceof DOMException&&dt.name==="DataCloneError")throw dt;o.location.assign(ct)}c&&y&&y({action:p,location:Z.location,delta:1})}function L(H,et){p="REPLACE";let K=Ed(Z.location,H,et);m=E();let it=h0(K,m),ct=Z.createHref(K);d.replaceState(it,"",ct),c&&y&&y({action:p,location:Z.location,delta:0})}function Y(H){return xE(H)}let Z={get action(){return p},get location(){return a(o,d)},listen(H){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(c0,A),y=H,()=>{o.removeEventListener(c0,A),y=null}},createHref(H){return e(o,H)},createURL:Y,encodeLocation(H){let et=Y(H);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:R,replace:L,go(H){return d.go(H)}};return Z}function xE(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),le(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:fo(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function D1(a,e,i="/"){return wE(a,e,i,!1)}function wE(a,e,i,s){let o=typeof e=="string"?ks(e):e,c=$i(o.pathname||"/",i);if(c==null)return null;let d=V1(a);RE(d);let p=null;for(let y=0;p==null&&y<d.length;++y){let m=UE(c);p=zE(d[y],m,s)}return p}function V1(a,e=[],i=[],s="",o=!1){let c=(d,p,y=o,m)=>{let E={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=Ki([s,E.relativePath]),R=i.concat(E);d.children&&d.children.length>0&&(le(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),V1(d.children,e,R,A,y)),!(d.path==null&&!d.index)&&e.push({path:A,score:OE(A,d.index),routesMeta:R})};return a.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let y of M1(d.path))c(d,p,!0,y)}),e}function M1(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=M1(s.join("/")),p=[];return p.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&p.push(...d),p.map(y=>a.startsWith("/")&&y===""?"/":y)}function RE(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:jE(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var CE=/^:[\w-]+$/,NE=3,DE=2,VE=1,ME=10,IE=-2,f0=a=>a==="*";function OE(a,e){let i=a.split("/"),s=i.length;return i.some(f0)&&(s+=IE),e&&(s+=DE),i.filter(o=>!f0(o)).reduce((o,c)=>o+(CE.test(c)?NE:c===""?VE:ME),s)}function jE(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function zE(a,e,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let p=0;p<s.length;++p){let y=s[p],m=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",A=vc({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},E),R=y.route;if(!A&&m&&i&&!s[s.length-1].route.index&&(A=vc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:Ki([c,A.pathname]),pathnameBase:qE(Ki([c,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(c=Ki([c,A.pathnameBase]))}return d}function vc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=LE(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((m,{paramName:E,isOptional:A},R)=>{if(E==="*"){let Y=p[R]||"";d=c.slice(0,c.length-Y.length).replace(/(.)\/+$/,"$1")}const L=p[R];return A&&!L?m[E]=void 0:m[E]=(L||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:d,pattern:a}}function LE(a,e=!1,i=!0){Zn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,y)=>(s.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function UE(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function $i(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function PE(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?ks(a):a;return{pathname:i?i.startsWith("/")?i:BE(i,e):e,search:HE(s),hash:FE(o)}}function BE(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ld(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kE(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Qd(a){let e=kE(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Yd(a,e,i,s=!1){let o;typeof a=="string"?o=ks(a):(o={...a},le(!o.pathname||!o.pathname.includes("?"),ld("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),ld("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),ld("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=i;else{let A=e.length-1;if(!s&&d.startsWith("..")){let R=d.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}p=A>=0?e[A]:"/"}let y=PE(o,p),m=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(m||E)&&(y.pathname+="/"),y}var Ki=a=>a.join("/").replace(/\/\/+/g,"/"),qE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),HE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,FE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function GE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I1=["POST","PUT","PATCH","DELETE"];new Set(I1);var QE=["GET",...I1];new Set(QE);var qs=B.createContext(null);qs.displayName="DataRouter";var Lc=B.createContext(null);Lc.displayName="DataRouterState";B.createContext(!1);var O1=B.createContext({isTransitioning:!1});O1.displayName="ViewTransition";var YE=B.createContext(new Map);YE.displayName="Fetchers";var KE=B.createContext(null);KE.displayName="Await";var Jn=B.createContext(null);Jn.displayName="Navigation";var To=B.createContext(null);To.displayName="Location";var Wn=B.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var Kd=B.createContext(null);Kd.displayName="RouteError";function XE(a,{relative:e}={}){le(Hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=B.useContext(Jn),{hash:o,pathname:c,search:d}=So(a,{relative:e}),p=c;return i!=="/"&&(p=c==="/"?i:Ki([i,c])),s.createHref({pathname:p,search:d,hash:o})}function Hs(){return B.useContext(To)!=null}function Qa(){return le(Hs(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(To).location}var j1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z1(a){B.useContext(Jn).static||B.useLayoutEffect(a)}function Fs(){let{isDataRoute:a}=B.useContext(Wn);return a?cb():$E()}function $E(){le(Hs(),"useNavigate() may be used only in the context of a <Router> component.");let a=B.useContext(qs),{basename:e,navigator:i}=B.useContext(Jn),{matches:s}=B.useContext(Wn),{pathname:o}=Qa(),c=JSON.stringify(Qd(s)),d=B.useRef(!1);return z1(()=>{d.current=!0}),B.useCallback((y,m={})=>{if(Zn(d.current,j1),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=Yd(y,JSON.parse(c),o,m.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ki([e,E.pathname])),(m.replace?i.replace:i.push)(E,m.state,m)},[e,i,c,o,a])}var ZE=B.createContext(null);function JE(a){let e=B.useContext(Wn).outlet;return B.useMemo(()=>e&&B.createElement(ZE.Provider,{value:a},e),[e,a])}function So(a,{relative:e}={}){let{matches:i}=B.useContext(Wn),{pathname:s}=Qa(),o=JSON.stringify(Qd(i));return B.useMemo(()=>Yd(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function WE(a,e){return L1(a,e)}function L1(a,e,i,s,o){le(Hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=B.useContext(Jn),{matches:d}=B.useContext(Wn),p=d[d.length-1],y=p?p.params:{},m=p?p.pathname:"/",E=p?p.pathnameBase:"/",A=p&&p.route;{let K=A&&A.path||"";U1(m,!A||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let R=Qa(),L;if(e){let K=typeof e=="string"?ks(e):e;le(E==="/"||K.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),L=K}else L=R;let Y=L.pathname||"/",Z=Y;if(E!=="/"){let K=E.replace(/^\//,"").split("/");Z="/"+Y.replace(/^\//,"").split("/").slice(K.length).join("/")}let H=D1(a,{pathname:Z});Zn(A||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Zn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=ab(H&&H.map(K=>Object.assign({},K,{params:Object.assign({},y,K.params),pathname:Ki([E,c.encodeLocation?c.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:Ki([E,c.encodeLocation?c.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),d,i,s,o);return e&&et?B.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},et):et}function tb(){let a=ub(),e=GE(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:c},"ErrorBoundary")," or"," ",B.createElement("code",{style:c},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),i?B.createElement("pre",{style:o},i):null,d)}var eb=B.createElement(tb,null),nb=class extends B.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.unstable_onError?this.props.unstable_onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?B.createElement(Wn.Provider,{value:this.props.routeContext},B.createElement(Kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ib({routeContext:a,match:e,children:i}){let s=B.useContext(qs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Wn.Provider,{value:a},i)}function ab(a,e=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let c=a,d=i?.errors;if(d!=null){let m=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);le(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let p=!1,y=-1;if(i)for(let m=0;m<c.length;m++){let E=c[m];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=m),E.route.id){let{loaderData:A,errors:R}=i,L=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||L){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((m,E,A)=>{let R,L=!1,Y=null,Z=null;i&&(R=d&&E.route.id?d[E.route.id]:void 0,Y=E.route.errorElement||eb,p&&(y<0&&A===0?(U1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,Z=null):y===A&&(L=!0,Z=E.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,A+1)),et=()=>{let K;return R?K=Y:L?K=Z:E.route.Component?K=B.createElement(E.route.Component,null):E.route.element?K=E.route.element:K=m,B.createElement(ib,{match:E,routeContext:{outlet:m,matches:H,isDataRoute:i!=null},children:K})};return i&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?B.createElement(nb,{location:i.location,revalidation:i.revalidation,component:Y,error:R,children:et(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):et()},null)}function Xd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rb(a){let e=B.useContext(qs);return le(e,Xd(a)),e}function sb(a){let e=B.useContext(Lc);return le(e,Xd(a)),e}function lb(a){let e=B.useContext(Wn);return le(e,Xd(a)),e}function $d(a){let e=lb(a),i=e.matches[e.matches.length-1];return le(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function ob(){return $d("useRouteId")}function ub(){let a=B.useContext(Kd),e=sb("useRouteError"),i=$d("useRouteError");return a!==void 0?a:e.errors?.[i]}function cb(){let{router:a}=rb("useNavigate"),e=$d("useNavigate"),i=B.useRef(!1);return z1(()=>{i.current=!0}),B.useCallback(async(o,c={})=>{Zn(i.current,j1),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var d0={};function U1(a,e,i){!e&&!d0[a]&&(d0[a]=!0,Zn(!1,i))}B.memo(hb);function hb({routes:a,future:e,state:i,unstable_onError:s}){return L1(a,void 0,i,s,e)}function Ds({to:a,replace:e,state:i,relative:s}){le(Hs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(Jn);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=B.useContext(Wn),{pathname:d}=Qa(),p=Fs(),y=Yd(a,Qd(c),d,s==="path"),m=JSON.stringify(y);return B.useEffect(()=>{p(JSON.parse(m),{replace:e,state:i,relative:s})},[p,m,s,e,i]),null}function fb(a){return JE(a.context)}function En(a){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function db({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){le(!Hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=ks(i));let{pathname:y="/",search:m="",hash:E="",state:A=null,key:R="default"}=i,L=B.useMemo(()=>{let Y=$i(y,d);return Y==null?null:{location:{pathname:Y,search:m,hash:E,state:A,key:R},navigationType:s}},[d,y,m,E,A,R,s]);return Zn(L!=null,`<Router basename="${d}"> is not able to match the URL "${y}${m}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:B.createElement(Jn.Provider,{value:p},B.createElement(To.Provider,{children:e,value:L}))}function mb({children:a,location:e}){return WE(bd(a),e)}function bd(a,e=[]){let i=[];return B.Children.forEach(a,(s,o)=>{if(!B.isValidElement(s))return;let c=[...e,o];if(s.type===B.Fragment){i.push.apply(i,bd(s.props.children,c));return}le(s.type===En,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=bd(s.props.children,c)),i.push(d)}),i}var cc="get",hc="application/x-www-form-urlencoded";function Uc(a){return a!=null&&typeof a.tagName=="string"}function gb(a){return Uc(a)&&a.tagName.toLowerCase()==="button"}function pb(a){return Uc(a)&&a.tagName.toLowerCase()==="form"}function yb(a){return Uc(a)&&a.tagName.toLowerCase()==="input"}function vb(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function _b(a,e){return a.button===0&&(!e||e==="_self")&&!vb(a)}var ac=null;function Eb(){if(ac===null)try{new FormData(document.createElement("form"),0),ac=!1}catch{ac=!0}return ac}var bb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(a){return a!=null&&!bb.has(a)?(Zn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hc}"`),null):a}function Tb(a,e){let i,s,o,c,d;if(pb(a)){let p=a.getAttribute("action");s=p?$i(p,e):null,i=a.getAttribute("method")||cc,o=od(a.getAttribute("enctype"))||hc,c=new FormData(a)}else if(gb(a)||yb(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||p.getAttribute("action");if(s=y?$i(y,e):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||cc,o=od(a.getAttribute("formenctype"))||od(p.getAttribute("enctype"))||hc,c=new FormData(p,a),!Eb()){let{name:m,type:E,value:A}=a;if(E==="image"){let R=m?`${m}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else m&&c.append(m,A)}}else{if(Uc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=cc,s=null,o=hc,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Sb(a,e,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&$i(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function Ab(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xb(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function wb(a,e,i){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await Ab(c,i);return d.links?d.links():[]}return[]}));return Db(s.flat(1).filter(xb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function m0(a,e,i,s,o,c){let d=(y,m)=>i[m]?y.route.id!==i[m].route.id:!0,p=(y,m)=>i[m].pathname!==y.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,m)=>d(y,m)||p(y,m)):c==="data"?e.filter((y,m)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,m)||p(y,m))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Rb(a,e,{includeHydrateFallback:i}={}){return Cb(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Cb(a){return[...new Set(a)]}function Nb(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function Db(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(Nb(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function P1(){let a=B.useContext(qs);return Zd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Vb(){let a=B.useContext(Lc);return Zd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Jd=B.createContext(void 0);Jd.displayName="FrameworkContext";function B1(){let a=B.useContext(Jd);return Zd(a,"You must render this element inside a <HydratedRouter> element"),a}function Mb(a,e){let i=B.useContext(Jd),[s,o]=B.useState(!1),[c,d]=B.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:m,onMouseLeave:E,onTouchStart:A}=e,R=B.useRef(null);B.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let Z=et=>{et.forEach(K=>{d(K.isIntersecting)})},H=new IntersectionObserver(Z,{threshold:.5});return R.current&&H.observe(R.current),()=>{H.disconnect()}}},[a]),B.useEffect(()=>{if(s){let Z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let L=()=>{o(!0)},Y=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,R,{}]:[c,R,{onFocus:no(p,L),onBlur:no(y,Y),onMouseEnter:no(m,L),onMouseLeave:no(E,Y),onTouchStart:no(A,L)}]:[!1,R,{}]}function no(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function Ib({page:a,...e}){let{router:i}=P1(),s=B.useMemo(()=>D1(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?B.createElement(jb,{page:a,matches:s,...e}):null}function Ob(a){let{manifest:e,routeModules:i}=B1(),[s,o]=B.useState([]);return B.useEffect(()=>{let c=!1;return wb(a,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,i]),s}function jb({page:a,matches:e,...i}){let s=Qa(),{manifest:o,routeModules:c}=B1(),{basename:d}=P1(),{loaderData:p,matches:y}=Vb(),m=B.useMemo(()=>m0(a,e,y,o,s,"data"),[a,e,y,o,s]),E=B.useMemo(()=>m0(a,e,y,o,s,"assets"),[a,e,y,o,s]),A=B.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let Y=new Set,Z=!1;if(e.forEach(et=>{let K=o.routes[et.route.id];!K||!K.hasLoader||(!m.some(it=>it.route.id===et.route.id)&&et.route.id in p&&c[et.route.id]?.shouldRevalidate||K.hasClientLoader?Z=!0:Y.add(et.route.id))}),Y.size===0)return[];let H=Sb(a,d,"data");return Z&&Y.size>0&&H.searchParams.set("_routes",e.filter(et=>Y.has(et.route.id)).map(et=>et.route.id).join(",")),[H.pathname+H.search]},[d,p,s,o,m,e,a,c]),R=B.useMemo(()=>Rb(E,o),[E,o]),L=Ob(E);return B.createElement(B.Fragment,null,A.map(Y=>B.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...i})),R.map(Y=>B.createElement("link",{key:Y,rel:"modulepreload",href:Y,...i})),L.map(({key:Y,link:Z})=>B.createElement("link",{key:Y,nonce:i.nonce,...Z})))}function zb(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var k1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k1&&(window.__reactRouterVersion="7.9.5")}catch{}function Lb({basename:a,children:e,window:i}){let s=B.useRef();s.current==null&&(s.current=TE({window:i,v5Compat:!0}));let o=s.current,[c,d]=B.useState({action:o.action,location:o.location}),p=B.useCallback(y=>{B.startTransition(()=>d(y))},[d]);return B.useLayoutEffect(()=>o.listen(p),[o,p]),B.createElement(db,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xn=B.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:y,to:m,preventScrollReset:E,viewTransition:A,...R},L){let{basename:Y}=B.useContext(Jn),Z=typeof m=="string"&&q1.test(m),H,et=!1;if(typeof m=="string"&&Z&&(H=m,k1))try{let w=new URL(window.location.href),O=m.startsWith("//")?new URL(w.protocol+m):new URL(m),V=$i(O.pathname,Y);O.origin===w.origin&&V!=null?m=V+O.search+O.hash:et=!0}catch{Zn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=XE(m,{relative:o}),[it,ct,dt]=Mb(s,R),Et=kb(m,{replace:d,state:p,target:y,preventScrollReset:E,relative:o,viewTransition:A});function D(w){e&&e(w),w.defaultPrevented||Et(w)}let x=B.createElement("a",{...R,...dt,href:H||K,onClick:et||c?e:D,ref:zb(L,ct),target:y,"data-discover":!Z&&i==="render"?"true":void 0});return it&&!Z?B.createElement(B.Fragment,null,x,B.createElement(Ib,{page:K})):x});Xn.displayName="Link";var Ub=B.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:y,...m},E){let A=So(d,{relative:m.relative}),R=Qa(),L=B.useContext(Lc),{navigator:Y,basename:Z}=B.useContext(Jn),H=L!=null&&Qb(A)&&p===!0,et=Y.encodeLocation?Y.encodeLocation(A).pathname:A.pathname,K=R.pathname,it=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(K=K.toLowerCase(),it=it?it.toLowerCase():null,et=et.toLowerCase()),it&&Z&&(it=$i(it,Z)||it);const ct=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let dt=K===et||!o&&K.startsWith(et)&&K.charAt(ct)==="/",Et=it!=null&&(it===et||!o&&it.startsWith(et)&&it.charAt(et.length)==="/"),D={isActive:dt,isPending:Et,isTransitioning:H},x=dt?e:void 0,w;typeof s=="function"?w=s(D):w=[s,dt?"active":null,Et?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(D):c;return B.createElement(Xn,{...m,"aria-current":x,className:w,ref:E,style:O,to:d,viewTransition:p},typeof y=="function"?y(D):y)});Ub.displayName="NavLink";var Pb=B.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=cc,action:p,onSubmit:y,relative:m,preventScrollReset:E,viewTransition:A,...R},L)=>{let Y=Fb(),Z=Gb(p,{relative:m}),H=d.toLowerCase()==="get"?"get":"post",et=typeof p=="string"&&q1.test(p),K=it=>{if(y&&y(it),it.defaultPrevented)return;it.preventDefault();let ct=it.nativeEvent.submitter,dt=ct?.getAttribute("formmethod")||d;Y(ct||it.currentTarget,{fetcherKey:e,method:dt,navigate:i,replace:o,state:c,relative:m,preventScrollReset:E,viewTransition:A})};return B.createElement("form",{ref:L,method:H,action:Z,onSubmit:s?y:K,...R,"data-discover":!et&&a==="render"?"true":void 0})});Pb.displayName="Form";function Bb(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H1(a){let e=B.useContext(qs);return le(e,Bb(a)),e}function kb(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=Fs(),y=Qa(),m=So(a,{relative:c});return B.useCallback(E=>{if(_b(E,e)){E.preventDefault();let A=i!==void 0?i:fo(y)===fo(m);p(a,{replace:A,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[y,p,m,i,s,e,a,o,c,d])}var qb=0,Hb=()=>`__${String(++qb)}__`;function Fb(){let{router:a}=H1("useSubmit"),{basename:e}=B.useContext(Jn),i=ob();return B.useCallback(async(s,o={})=>{let{action:c,method:d,encType:p,formData:y,body:m}=Tb(s,e);if(o.navigate===!1){let E=o.fetcherKey||Hb();await a.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:m,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function Gb(a,{relative:e}={}){let{basename:i}=B.useContext(Jn),s=B.useContext(Wn);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...So(a||".",{relative:e})},d=Qa();if(a==null){c.search=d.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(E=>E==="")){p.delete("index"),y.filter(A=>A).forEach(A=>p.append("index",A));let E=p.toString();c.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Ki([i,c.pathname])),fo(c)}function Qb(a,{relative:e}={}){let i=B.useContext(O1);le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=H1("useViewTransitionState"),o=So(a,{relative:e});if(!i.isTransitioning)return!1;let c=$i(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=$i(i.nextLocation.pathname,s)||i.nextLocation.pathname;return vc(o.pathname,d)!=null||vc(o.pathname,c)!=null}const Yb=()=>{};var g0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Kb=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],p=a[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},G1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,p=d?a[o+1]:0,y=o+2<a.length,m=y?a[o+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let R=(p&15)<<2|m>>6,L=m&63;y||(L=64,d||(R=64)),s.push(i[E],i[A],i[R],i[L])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(F1(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):Kb(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const m=o<a.length?i[a.charAt(o)]:64;++o;const A=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||p==null||m==null||A==null)throw new Xb;const R=c<<2|p>>4;if(s.push(R),m!==64){const L=p<<4&240|m>>2;if(s.push(L),A!==64){const Y=m<<6&192|A;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $b=function(a){const e=F1(a);return G1.encodeByteArray(e,!0)},_c=function(a){return $b(a).replace(/\./g,"")},Zb=function(a){try{return G1.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=()=>Jb().__FIREBASE_DEFAULTS__,tT=()=>{if(typeof process>"u"||typeof g0>"u")return;const a=g0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},eT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Zb(a[1]);return e&&JSON.parse(e)},Wd=()=>{try{return Yb()||Wb()||tT()||eT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},nT=a=>Wd()?.emulatorHosts?.[a],iT=a=>{const e=nT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Q1=()=>Wd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[_c(JSON.stringify(i)),_c(JSON.stringify(d)),""].join(".")}const lo={};function lT(){const a={prod:[],emulator:[]};for(const e of Object.keys(lo))lo[e]?a.emulator.push(e):a.prod.push(e);return a}function oT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let p0=!1;function uT(a,e){if(typeof window>"u"||typeof document>"u"||!tm(window.location.host)||lo[a]===e||lo[a]||p0)return;lo[a]=e;function i(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=lT().prod.length>0;function d(){const R=document.getElementById(s);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function m(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{p0=!0,d()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=oT(s),L=i("text"),Y=document.getElementById(L)||document.createElement("span"),Z=i("learnmore"),H=document.getElementById(Z)||document.createElement("a"),et=i("preprendIcon"),K=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const it=R.element;p(it),E(H,Z);const ct=m();y(K,et),it.append(K,Y,H,ct),document.body.appendChild(it)}c?(Y.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hT(){const a=Wd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fT(){return!hT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dT(){try{return typeof indexedDB=="object"}catch{return!1}}function mT(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="FirebaseError";class Gs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=gT,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y1.prototype.create)}}class Y1{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?pT(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Gs(o,p,s)}}function pT(a,e){return a.replace(yT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const yT=/\{\$([^}]+)}/g;function Ec(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(y0(c)&&y0(d)){if(!Ec(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function y0(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(a){return a&&a._delegate?a._delegate:a}class mo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new aT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ET(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_T(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _T(a){return a===wr?void 0:a}function ET(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const TT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},ST=Lt.INFO,AT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},xT=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=AT[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K1{constructor(e){this.name=e,this._logLevel=ST,this._logHandler=xT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const wT=(a,e)=>e.some(i=>a instanceof i);let v0,_0;function RT(){return v0||(v0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CT(){return _0||(_0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X1=new WeakMap,Td=new WeakMap,$1=new WeakMap,ud=new WeakMap,em=new WeakMap;function NT(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(za(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&X1.set(i,a)}).catch(()=>{}),em.set(e,a),e}function DT(a){if(Td.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Td.set(a,e)}let Sd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Td.get(a);if(e==="objectStoreNames")return a.objectStoreNames||$1.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return za(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function VT(a){Sd=a(Sd)}function MT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(cd(this),e,...i);return $1.set(s,e.sort?e.sort():[e]),za(s)}:CT().includes(a)?function(...e){return a.apply(cd(this),e),za(X1.get(this))}:function(...e){return za(a.apply(cd(this),e))}}function IT(a){return typeof a=="function"?MT(a):(a instanceof IDBTransaction&&DT(a),wT(a,RT())?new Proxy(a,Sd):a)}function za(a){if(a instanceof IDBRequest)return NT(a);if(ud.has(a))return ud.get(a);const e=IT(a);return e!==a&&(ud.set(a,e),em.set(e,a)),e}const cd=a=>em.get(a);function OT(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),p=za(d);return s&&d.addEventListener("upgradeneeded",y=>{s(za(d.result),y.oldVersion,y.newVersion,za(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const jT=["get","getKey","getAll","getAllKeys","count"],zT=["put","add","delete","clear"],hd=new Map;function E0(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(hd.get(e))return hd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=zT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jT.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let m=y.store;return s&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),o&&y.done]))[0]};return hd.set(e,c),c}VT(a=>({...a,get:(e,i,s)=>E0(e,i)||a.get(e,i,s),has:(e,i)=>!!E0(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function UT(a){return a.getComponent()?.type==="VERSION"}const Ad="@firebase/app",b0="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new K1("@firebase/app"),PT="@firebase/app-compat",BT="@firebase/analytics-compat",kT="@firebase/analytics",qT="@firebase/app-check-compat",HT="@firebase/app-check",FT="@firebase/auth",GT="@firebase/auth-compat",QT="@firebase/database",YT="@firebase/data-connect",KT="@firebase/database-compat",XT="@firebase/functions",$T="@firebase/functions-compat",ZT="@firebase/installations",JT="@firebase/installations-compat",WT="@firebase/messaging",tS="@firebase/messaging-compat",eS="@firebase/performance",nS="@firebase/performance-compat",iS="@firebase/remote-config",aS="@firebase/remote-config-compat",rS="@firebase/storage",sS="@firebase/storage-compat",lS="@firebase/firestore",oS="@firebase/ai",uS="@firebase/firestore-compat",cS="firebase",hS="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",fS={[Ad]:"fire-core",[PT]:"fire-core-compat",[kT]:"fire-analytics",[BT]:"fire-analytics-compat",[HT]:"fire-app-check",[qT]:"fire-app-check-compat",[FT]:"fire-auth",[GT]:"fire-auth-compat",[QT]:"fire-rtdb",[YT]:"fire-data-connect",[KT]:"fire-rtdb-compat",[XT]:"fire-fn",[$T]:"fire-fn-compat",[ZT]:"fire-iid",[JT]:"fire-iid-compat",[WT]:"fire-fcm",[tS]:"fire-fcm-compat",[eS]:"fire-perf",[nS]:"fire-perf-compat",[iS]:"fire-rc",[aS]:"fire-rc-compat",[rS]:"fire-gcs",[sS]:"fire-gcs-compat",[lS]:"fire-fst",[uS]:"fire-fst-compat",[oS]:"fire-vertex","fire-js":"fire-js",[cS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,dS=new Map,wd=new Map;function T0(a,e){try{a.container.addComponent(e)}catch(i){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Tc(a){const e=a.name;if(wd.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;wd.set(e,a);for(const i of bc.values())T0(i,a);for(const i of dS.values())T0(i,a);return!0}function mS(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function gS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},La=new Y1("app","Firebase",pS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw La.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=hS;function Z1(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:xd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw La.create("bad-app-name",{appName:String(o)});if(i||(i=Q1()),!i)throw La.create("no-options");const c=bc.get(o);if(c){if(Ec(i,c.options)&&Ec(s,c.config))return c;throw La.create("duplicate-app",{appName:o})}const d=new bT(o);for(const y of wd.values())d.addComponent(y);const p=new yS(i,s,d);return bc.set(o,p),p}function _S(a=xd){const e=bc.get(a);if(!e&&a===xd&&Q1())return Z1();if(!e)throw La.create("no-app",{appName:a});return e}function Vs(a,e,i){let s=fS[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Tc(new mo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebase-heartbeat-database",bS=1,go="firebase-heartbeat-store";let fd=null;function J1(){return fd||(fd=OT(ES,bS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(go)}catch(i){console.warn(i)}}}}).catch(a=>{throw La.create("idb-open",{originalErrorMessage:a.message})})),fd}async function TS(a){try{const i=(await J1()).transaction(go),s=await i.objectStore(go).get(W1(a));return await i.done,s}catch(e){if(e instanceof Gs)Ji.warn(e.message);else{const i=La.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(i.message)}}}async function S0(a,e){try{const s=(await J1()).transaction(go,"readwrite");await s.objectStore(go).put(e,W1(a)),await s.done}catch(i){if(i instanceof Gs)Ji.warn(i.message);else{const s=La.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(s.message)}}}function W1(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=1024,AS=30;class xS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new RS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>AS){const o=CS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A0(),{heartbeatsToSend:i,unsentEntries:s}=wS(this._heartbeatsCache.heartbeats),o=_c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function A0(){return new Date().toISOString().substring(0,10)}function wS(a,e=SS){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),x0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),x0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class RS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dT()?mT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function x0(a){return _c(JSON.stringify({version:2,heartbeats:a})).length}function CS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(a){Tc(new mo("platform-logger",e=>new LT(e),"PRIVATE")),Tc(new mo("heartbeat",e=>new xS(e),"PRIVATE")),Vs(Ad,b0,a),Vs(Ad,b0,"esm2020"),Vs("fire-js","")}NS("");var DS="firebase",VS="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(DS,VS,"app");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ua,tv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function w(){}w.prototype=x.prototype,D.F=x.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(O,V,z){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return x.prototype[V].apply(O,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,x,w){w||(w=0);const O=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)O[V]=x.charCodeAt(w++)|x.charCodeAt(w++)<<8|x.charCodeAt(w++)<<16|x.charCodeAt(w++)<<24;else for(V=0;V<16;++V)O[V]=x[w++]|x[w++]<<8|x[w++]<<16|x[w++]<<24;x=D.g[0],w=D.g[1],V=D.g[2];let z=D.g[3],C;C=x+(z^w&(V^z))+O[0]+3614090360&4294967295,x=w+(C<<7&4294967295|C>>>25),C=z+(V^x&(w^V))+O[1]+3905402710&4294967295,z=x+(C<<12&4294967295|C>>>20),C=V+(w^z&(x^w))+O[2]+606105819&4294967295,V=z+(C<<17&4294967295|C>>>15),C=w+(x^V&(z^x))+O[3]+3250441966&4294967295,w=V+(C<<22&4294967295|C>>>10),C=x+(z^w&(V^z))+O[4]+4118548399&4294967295,x=w+(C<<7&4294967295|C>>>25),C=z+(V^x&(w^V))+O[5]+1200080426&4294967295,z=x+(C<<12&4294967295|C>>>20),C=V+(w^z&(x^w))+O[6]+2821735955&4294967295,V=z+(C<<17&4294967295|C>>>15),C=w+(x^V&(z^x))+O[7]+4249261313&4294967295,w=V+(C<<22&4294967295|C>>>10),C=x+(z^w&(V^z))+O[8]+1770035416&4294967295,x=w+(C<<7&4294967295|C>>>25),C=z+(V^x&(w^V))+O[9]+2336552879&4294967295,z=x+(C<<12&4294967295|C>>>20),C=V+(w^z&(x^w))+O[10]+4294925233&4294967295,V=z+(C<<17&4294967295|C>>>15),C=w+(x^V&(z^x))+O[11]+2304563134&4294967295,w=V+(C<<22&4294967295|C>>>10),C=x+(z^w&(V^z))+O[12]+1804603682&4294967295,x=w+(C<<7&4294967295|C>>>25),C=z+(V^x&(w^V))+O[13]+4254626195&4294967295,z=x+(C<<12&4294967295|C>>>20),C=V+(w^z&(x^w))+O[14]+2792965006&4294967295,V=z+(C<<17&4294967295|C>>>15),C=w+(x^V&(z^x))+O[15]+1236535329&4294967295,w=V+(C<<22&4294967295|C>>>10),C=x+(V^z&(w^V))+O[1]+4129170786&4294967295,x=w+(C<<5&4294967295|C>>>27),C=z+(w^V&(x^w))+O[6]+3225465664&4294967295,z=x+(C<<9&4294967295|C>>>23),C=V+(x^w&(z^x))+O[11]+643717713&4294967295,V=z+(C<<14&4294967295|C>>>18),C=w+(z^x&(V^z))+O[0]+3921069994&4294967295,w=V+(C<<20&4294967295|C>>>12),C=x+(V^z&(w^V))+O[5]+3593408605&4294967295,x=w+(C<<5&4294967295|C>>>27),C=z+(w^V&(x^w))+O[10]+38016083&4294967295,z=x+(C<<9&4294967295|C>>>23),C=V+(x^w&(z^x))+O[15]+3634488961&4294967295,V=z+(C<<14&4294967295|C>>>18),C=w+(z^x&(V^z))+O[4]+3889429448&4294967295,w=V+(C<<20&4294967295|C>>>12),C=x+(V^z&(w^V))+O[9]+568446438&4294967295,x=w+(C<<5&4294967295|C>>>27),C=z+(w^V&(x^w))+O[14]+3275163606&4294967295,z=x+(C<<9&4294967295|C>>>23),C=V+(x^w&(z^x))+O[3]+4107603335&4294967295,V=z+(C<<14&4294967295|C>>>18),C=w+(z^x&(V^z))+O[8]+1163531501&4294967295,w=V+(C<<20&4294967295|C>>>12),C=x+(V^z&(w^V))+O[13]+2850285829&4294967295,x=w+(C<<5&4294967295|C>>>27),C=z+(w^V&(x^w))+O[2]+4243563512&4294967295,z=x+(C<<9&4294967295|C>>>23),C=V+(x^w&(z^x))+O[7]+1735328473&4294967295,V=z+(C<<14&4294967295|C>>>18),C=w+(z^x&(V^z))+O[12]+2368359562&4294967295,w=V+(C<<20&4294967295|C>>>12),C=x+(w^V^z)+O[5]+4294588738&4294967295,x=w+(C<<4&4294967295|C>>>28),C=z+(x^w^V)+O[8]+2272392833&4294967295,z=x+(C<<11&4294967295|C>>>21),C=V+(z^x^w)+O[11]+1839030562&4294967295,V=z+(C<<16&4294967295|C>>>16),C=w+(V^z^x)+O[14]+4259657740&4294967295,w=V+(C<<23&4294967295|C>>>9),C=x+(w^V^z)+O[1]+2763975236&4294967295,x=w+(C<<4&4294967295|C>>>28),C=z+(x^w^V)+O[4]+1272893353&4294967295,z=x+(C<<11&4294967295|C>>>21),C=V+(z^x^w)+O[7]+4139469664&4294967295,V=z+(C<<16&4294967295|C>>>16),C=w+(V^z^x)+O[10]+3200236656&4294967295,w=V+(C<<23&4294967295|C>>>9),C=x+(w^V^z)+O[13]+681279174&4294967295,x=w+(C<<4&4294967295|C>>>28),C=z+(x^w^V)+O[0]+3936430074&4294967295,z=x+(C<<11&4294967295|C>>>21),C=V+(z^x^w)+O[3]+3572445317&4294967295,V=z+(C<<16&4294967295|C>>>16),C=w+(V^z^x)+O[6]+76029189&4294967295,w=V+(C<<23&4294967295|C>>>9),C=x+(w^V^z)+O[9]+3654602809&4294967295,x=w+(C<<4&4294967295|C>>>28),C=z+(x^w^V)+O[12]+3873151461&4294967295,z=x+(C<<11&4294967295|C>>>21),C=V+(z^x^w)+O[15]+530742520&4294967295,V=z+(C<<16&4294967295|C>>>16),C=w+(V^z^x)+O[2]+3299628645&4294967295,w=V+(C<<23&4294967295|C>>>9),C=x+(V^(w|~z))+O[0]+4096336452&4294967295,x=w+(C<<6&4294967295|C>>>26),C=z+(w^(x|~V))+O[7]+1126891415&4294967295,z=x+(C<<10&4294967295|C>>>22),C=V+(x^(z|~w))+O[14]+2878612391&4294967295,V=z+(C<<15&4294967295|C>>>17),C=w+(z^(V|~x))+O[5]+4237533241&4294967295,w=V+(C<<21&4294967295|C>>>11),C=x+(V^(w|~z))+O[12]+1700485571&4294967295,x=w+(C<<6&4294967295|C>>>26),C=z+(w^(x|~V))+O[3]+2399980690&4294967295,z=x+(C<<10&4294967295|C>>>22),C=V+(x^(z|~w))+O[10]+4293915773&4294967295,V=z+(C<<15&4294967295|C>>>17),C=w+(z^(V|~x))+O[1]+2240044497&4294967295,w=V+(C<<21&4294967295|C>>>11),C=x+(V^(w|~z))+O[8]+1873313359&4294967295,x=w+(C<<6&4294967295|C>>>26),C=z+(w^(x|~V))+O[15]+4264355552&4294967295,z=x+(C<<10&4294967295|C>>>22),C=V+(x^(z|~w))+O[6]+2734768916&4294967295,V=z+(C<<15&4294967295|C>>>17),C=w+(z^(V|~x))+O[13]+1309151649&4294967295,w=V+(C<<21&4294967295|C>>>11),C=x+(V^(w|~z))+O[4]+4149444226&4294967295,x=w+(C<<6&4294967295|C>>>26),C=z+(w^(x|~V))+O[11]+3174756917&4294967295,z=x+(C<<10&4294967295|C>>>22),C=V+(x^(z|~w))+O[2]+718787259&4294967295,V=z+(C<<15&4294967295|C>>>17),C=w+(z^(V|~x))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.v=function(D,x){x===void 0&&(x=D.length);const w=x-this.blockSize,O=this.C;let V=this.h,z=0;for(;z<x;){if(V==0)for(;z<=w;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<x;)if(O[V++]=D.charCodeAt(z++),V==this.blockSize){o(this,O),V=0;break}}else for(;z<x;)if(O[V++]=D[z++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=x},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)D[x++]=this.g[w]>>>O&255;return D};function c(D,x){var w=p;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=x(D)}function d(D,x){this.h=x;const w=[];let O=!0;for(let V=D.length-1;V>=0;V--){const z=D[V]|0;O&&z==x||(w[V]=z,O=!1)}this.g=w}var p={};function y(D){return-128<=D&&D<128?c(D,function(x){return new d([x|0],x<0?-1:0)}):new d([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return H(m(-D));const x=[];let w=1;for(let O=0;D>=w;O++)x[O]=D/w|0,w*=4294967296;return new d(x,0)}function E(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return H(E(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=m(Math.pow(x,8));let O=A;for(let z=0;z<D.length;z+=8){var V=Math.min(8,D.length-z);const C=parseInt(D.substring(z,z+V),x);V<8?(V=m(Math.pow(x,V)),O=O.j(V).add(m(C))):(O=O.j(w),O=O.add(m(C)))}return O}var A=y(0),R=y(1),L=y(16777216);a=d.prototype,a.m=function(){if(Z(this))return-H(this).m();let D=0,x=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);D+=(O>=0?O:4294967296+O)*x,x*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Y(this))return"0";if(Z(this))return"-"+H(this).toString(D);const x=m(Math.pow(D,6));var w=this;let O="";for(;;){const V=ct(w,x).g;w=et(w,V.j(x));let z=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=V,Y(w))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Y(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function Z(D){return D.h==-1}a.l=function(D){return D=et(this,D),Z(D)?-1:Y(D)?0:1};function H(D){const x=D.g.length,w=[];for(let O=0;O<x;O++)w[O]=~D.g[O];return new d(w,~D.h).add(R)}a.abs=function(){return Z(this)?H(this):this},a.add=function(D){const x=Math.max(this.g.length,D.g.length),w=[];let O=0;for(let V=0;V<=x;V++){let z=O+(this.i(V)&65535)+(D.i(V)&65535),C=(z>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);O=C>>>16,z&=65535,C&=65535,w[V]=C<<16|z}return new d(w,w[w.length-1]&-2147483648?-1:0)};function et(D,x){return D.add(H(x))}a.j=function(D){if(Y(this)||Y(D))return A;if(Z(this))return Z(D)?H(this).j(H(D)):H(H(this).j(D));if(Z(D))return H(this.j(H(D)));if(this.l(L)<0&&D.l(L)<0)return m(this.m()*D.m());const x=this.g.length+D.g.length,w=[];for(var O=0;O<2*x;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<D.g.length;V++){const z=this.i(O)>>>16,C=this.i(O)&65535,ie=D.i(V)>>>16,Ce=D.i(V)&65535;w[2*O+2*V]+=C*Ce,K(w,2*O+2*V),w[2*O+2*V+1]+=z*Ce,K(w,2*O+2*V+1),w[2*O+2*V+1]+=C*ie,K(w,2*O+2*V+1),w[2*O+2*V+2]+=z*ie,K(w,2*O+2*V+2)}for(D=0;D<x;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=x;D<2*x;D++)w[D]=0;return new d(w,0)};function K(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function it(D,x){this.g=D,this.h=x}function ct(D,x){if(Y(x))throw Error("division by zero");if(Y(D))return new it(A,A);if(Z(D))return x=ct(H(D),x),new it(H(x.g),H(x.h));if(Z(x))return x=ct(D,H(x)),new it(H(x.g),x.h);if(D.g.length>30){if(Z(D)||Z(x))throw Error("slowDivide_ only works with positive integers.");for(var w=R,O=x;O.l(D)<=0;)w=dt(w),O=dt(O);var V=Et(w,1),z=Et(O,1);for(O=Et(O,2),w=Et(w,2);!Y(O);){var C=z.add(O);C.l(D)<=0&&(V=V.add(w),z=C),O=Et(O,1),w=Et(w,1)}return x=et(D,V.j(x)),new it(V,x)}for(V=A;D.l(x)>=0;){for(w=Math.max(1,Math.floor(D.m()/x.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=m(w),C=z.j(x);Z(C)||C.l(D)>0;)w-=O,z=m(w),C=z.j(x);Y(z)&&(z=R),V=V.add(z),D=et(D,C)}return new it(V,D)}a.B=function(D){return ct(this,D).h},a.and=function(D){const x=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<x;O++)w[O]=this.i(O)&D.i(O);return new d(w,this.h&D.h)},a.or=function(D){const x=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<x;O++)w[O]=this.i(O)|D.i(O);return new d(w,this.h|D.h)},a.xor=function(D){const x=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<x;O++)w[O]=this.i(O)^D.i(O);return new d(w,this.h^D.h)};function dt(D){const x=D.g.length+1,w=[];for(let O=0;O<x;O++)w[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(w,D.h)}function Et(D,x){const w=x>>5;x%=32;const O=D.g.length-w,V=[];for(let z=0;z<O;z++)V[z]=x>0?D.i(z+w)>>>x|D.i(z+w+1)<<32-x:D.i(z+w);return new d(V,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=m,d.fromString=E,Ua=d}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ev,io,nv,fc,Rd,iv,av,rv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in _))break t;_=_[U]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var _=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&_.push([S,g[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,_){return u.call.apply(u.bind,arguments)}function m(u,g,_){return m=y,m.apply(null,arguments)}function E(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,U,F){for(var at=Array(arguments.length-2),At=2;At<arguments.length;At++)at[At-2]=arguments[At];return g.prototype[U].apply(S,at)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const g=u.length;if(g>0){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function Y(u,g){for(let S=1;S<arguments.length;S++){const U=arguments[S];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const F=U.length||0;u.length=_+F;for(let at=0;at<F;at++)u[_+at]=U[at]}else u.push(U)}}class Z{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(u){d.setTimeout(()=>{throw u},0)}function et(){var u=D;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class K{constructor(){this.h=this.g=null}add(g,_){const S=it.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new Z(()=>new ct,u=>u.reset());class ct{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Et=!1,D=new K,x=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(w)}};function w(){for(var u;u=et();){try{u.h.call(u.g)}catch(_){H(_)}var g=it;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}Et=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ie(u,g){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}A(ie,V),ie.prototype.init=function(u,g){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),X=0;function rt(u,g,_,S,U){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=U,this.key=++X,this.da=this.fa=!1}function gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function Ft(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function I(u){const g={};for(const _ in u)g[_]=u[_];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,g){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)u[_]=S[_];for(let F=0;F<W.length;F++)_=W[F],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,g,_,S,U){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const at=wt(u,g,S,U);return at>-1?(g=u[at],_||(g.fa=!1)):(g=new rt(g,this.src,F,!!S,U),g.fa=_,u.push(g)),g};function _t(u,g){const _=g.type;if(_ in u.g){var S=u.g[_],U=Array.prototype.indexOf.call(S,g,void 0),F;(F=U>=0)&&Array.prototype.splice.call(S,U,1),F&&(gt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,g,_,S){for(let U=0;U<u.length;++U){const F=u[U];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==S)return U}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,g,_,S,U){if(Array.isArray(g)){for(let F=0;F<g.length;F++)ae(u,g[F],_,S,U);return null}return _=Js(_),u&&u[Ce]?u.J(g,_,p(S)?!!S.capture:!1,U):Xa(u,g,_,!1,S,U)}function Xa(u,g,_,S,U,F){if(!g)throw Error("Invalid event type");const at=p(U)?!!U.capture:!!U;let At=$a(u);if(At||(u[jt]=At=new ot(u)),_=At.add(g,_,S,at,F),_.proxy)return _;if(S=jr(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)z||(U=at),U===void 0&&(U=!1),u.addEventListener(g.toString(),S,U);else if(u.attachEvent)u.attachEvent(ti(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jr(){function u(_){return g.call(u.src,u.listener,_)}const g=$s;return u}function zr(u,g,_,S,U){if(Array.isArray(g))for(var F=0;F<g.length;F++)zr(u,g[F],_,S,U);else S=p(S)?!!S.capture:!!S,_=Js(_),u&&u[Ce]?(u=u.i,F=String(g).toString(),F in u.g&&(g=u.g[F],_=wt(g,_,S,U),_>-1&&(gt(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[F],u.h--)))):u&&(u=$a(u))&&(g=u.g[g.toString()],u=-1,g&&(u=wt(g,_,S,U)),(_=u>-1?g[u]:null)&&Lr(_))}function Lr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ce])_t(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(ti(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=$a(g))?(_t(_,u),_.h==0&&(_.src=null,g[jt]=null)):gt(u)}}}function ti(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function $s(u,g){if(u.da)u=!0;else{g=new ie(g,this);const _=u.listener,S=u.ha||u.src;u.fa&&Lr(u),u=_.call(S,g)}return u}function $a(u){return u=u[jt],u instanceof ot?u:null}var Zs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Js(u){return typeof u=="function"?u:(u[Zs]||(u[Zs]=function(g){return u.handleEvent(g)}),u[Zs])}function pe(){O.call(this),this.i=new ot(this),this.M=this,this.G=null}A(pe,O),pe.prototype[Ce]=!0,pe.prototype.removeEventListener=function(u,g,_,S){zr(this,u,g,_,S)};function De(u,g){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new V(g,u);else if(g instanceof V)g.target=g.target||u;else{var U=g;g=new V(S,u),st(g,U)}U=!0;let F,at;if(_)for(at=_.length-1;at>=0;at--)F=g.g=_[at],U=ea(F,S,!0,g)&&U;if(F=g.g=u,U=ea(F,S,!0,g)&&U,U=ea(F,S,!1,g)&&U,_)for(at=0;at<_.length;at++)F=g.g=_[at],U=ea(F,S,!1,g)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let S=0;S<_.length;S++)gt(_[S]);delete u.g[g],u.h--}}this.G=null},pe.prototype.J=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},pe.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function ea(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let F=0;F<g.length;++F){const at=g[F];if(at&&!at.da&&at.capture==_){const At=at.listener,fe=at.ha||at.src;at.fa&&_t(u.i,at),U=At.call(fe,S)!==!1&&U}}return U&&!S.defaultPrevented}function nh(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(u,g||0)}function No(u){u.g=nh(()=>{u.g=null,u.i&&(u.i=!1,No(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Je extends O{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:No(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(u){O.call(this),this.h=u,this.g={}}A(Za,O);var Ws=[];function tl(u){Ut(u.g,function(g,_){this.g.hasOwnProperty(_)&&Lr(g)},u),u.g={}}Za.prototype.N=function(){Za.Z.N.call(this),tl(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var na=d.JSON.stringify,ih=d.JSON.parse,Do=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Vo(){}function Mo(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){V.call(this,"d")}A(Pe,V);function Sn(){V.call(this,"c")}A(Sn,V);var he={},Io=null;function Ur(){return Io=Io||new pe}he.Ia="serverreachability";function Oo(u){V.call(this,he.Ia,u)}A(Oo,V);function ei(u){const g=Ur();De(g,new Oo(g))}he.STAT_EVENT="statevent";function Ja(u,g){V.call(this,he.STAT_EVENT,u),this.stat=g}A(Ja,V);function ye(u){const g=Ur();De(g,new Ja(g,u))}he.Ja="timingevent";function ni(u,g){V.call(this,he.Ja,u),this.size=g}A(ni,V);function ii(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function ah(u,g,_,S,U,F){u.info(function(){if(u.g)if(F){var at="",At=F.split("&");for(let kt=0;kt<At.length;kt++){var fe=At[kt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const Rn=re.split("_");at=Rn.length>=2&&Rn[1]=="type"?at+(re+"="+fe+"&"):at+(re+"=redacted&")}}}else at=null;else at=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+_+`
`+at})}function jo(u,g,_,S,U,F,at){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+_+`
`+F+" "+at})}function ai(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+rh(u,_)+(S?" "+S:"")})}function Wa(u,g){u.info(function(){return"TIMEOUT: "+g})}Un.prototype.info=function(){};function rh(u,g){if(!u.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var _=F[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let at=1;at<S.length;at++)S[at]=""}}}}return na(F)}catch{return g}}var tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nl;function er(){}A(er,Vo),er.prototype.g=function(){return new XMLHttpRequest},nl=new er;function Ni(u){return encodeURIComponent(String(u))}function zo(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function Pn(u,g,_,S){this.j=u,this.i=g,this.l=_,this.S=S||1,this.V=new Za(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},je={};function ri(u,g,_){u.M=1,u.A=nr(Ee(g)),u.u=_,u.R=!0,Pr(u,null)}function Pr(u,g){u.F=Date.now(),si(u),u.B=Ee(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Hr(_.i,"t",S),u.C=0,_=u.j.L,u.h=new Bn,u.g=Zo(u.j,_?g:null,!u.u),u.P>0&&(u.O=new Je(m(u.Y,u,u.g),u.P)),g=u.V,_=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ws[0]=U.toString()),U=Ws);for(let F=0;F<U.length;F++){const at=ae(_,U[F],S||g.handleEvent,!1,g.h||g);if(!at)break;g.g[at.key]=at}g=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),ei(),ah(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const g=this.O;g&&Hn(u)==3?g.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Hn(this.g),fe=this.g.ya(),kt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||At!=4||fe==7||(fe==8||kt<=0?ei(3):ei(2)),li(this);var g=this.g.ca();this.X=g;var _=sh(this);if(this.o=g==200,jo(this.i,this.v,this.B,this.l,this.S,At,g),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var F=S;break e}}F=null}if(u=F)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ye(12),hn(this),An(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<_.length;)if(re=Uo(this,_),re==je){At==4&&(this.m=4,ye(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,ye(15),ai(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,re,null),oi(this,re);if(Lo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,_,"[Invalid Chunked Response]"),hn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),yl(at),at.P=!0,ye(11))}}else ai(this.i,this.l,_,null),oi(this,_);At==4&&hn(this),this.o&&!this.K&&(At==4?Yo(this.j,this):(this.o=!1,si(this)))}else Vi(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),hn(this),An(this)}}}catch{}finally{}};function sh(u){if(!Lo(u))return u.g.la();const g=Be(u.g);if(g==="")return"";let _="";const S=g.length,U=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),An(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<S;F++)u.h.h=!0,_+=u.h.i.decode(g[F],{stream:!(U&&F==S-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function Lo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Uo(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?je:(_=Number(g.substring(_,S)),isNaN(_)?ve:(S+=1,S+_>g.length?je:(g=g.slice(S,S+_),u.C=S+_,g)))}Pn.prototype.cancel=function(){this.K=!0,hn(this)};function si(u){u.T=Date.now()+u.H,Br(u,u.H)}function Br(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(m(u.aa,u),g)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wa(this.i,this.B),this.M!=2&&(ei(),ye(17)),hn(this),this.m=2,An(this)):Br(this,this.T-u)};function An(u){u.j.I==0||u.K||Yo(u.j,u)}function hn(u){li(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,tl(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function oi(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||ci(_.h,u))){if(!u.L&&ci(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Kr(_),ca(_);else break t;ur(_),ye(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ii(m(_.Va,_),6e3));ui(_.h)<=1&&_.ta&&(_.ta=void 0)}else pi(_,11)}else if((u.L||_.g==u)&&Kr(_),!C(g))for(U=_.Ba.g.parse(g),g=0;g<U.length;g++){let kt=U[g];const re=kt[0];if(!(re<=_.K))if(_.K=re,kt=kt[1],_.I==2)if(kt[0]=="c"){_.M=kt[1],_.ba=kt[2];const Rn=kt[3];Rn!=null&&(_.ka=Rn,_.j.info("VER="+_.ka));const yi=kt[4];yi!=null&&(_.za=yi,_.j.info("SVER="+_.za));const Fn=kt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(S=1.5*Fn,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Gn=u.g;if(Gn){const cr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var F=S.h;F.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(rl(F,F.h),F.h=null))}if(S.G){const Xr=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xr&&(S.wa=Xr,Gt(S.J,S.G,Xr))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var at=u;if(S.na=$o(S,S.L?S.ba:null,S.W),at.L){sl(S.h,at);var At=at,fe=S.O;fe&&(At.H=fe),At.D&&(li(At),si(At)),S.g=at}else Go(S);_.i.length>0&&gi(_)}else kt[0]!="stop"&&kt[0]!="close"||pi(_,7);else _.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?pi(_,7):gl(_):kt[0]!="noop"&&_.l&&_.l.qa(kt),_.A=0)}}ei(4)}catch{}}var _e=class{constructor(u,g){this.g=u,this.map=g}};function il(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function al(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function rl(u,g){u.g?u.g.add(g):u.h=g}function sl(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}il.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ll(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return L(u.i)}var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kr(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let U,F=null;S>=0?(U=u[_].substring(0,S),F=u[_].substring(S+1)):U=u[_],g(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof fn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,ia(this,u.u),this.h=u.h,ol(this,Ho(u.i)),this.m=u.m):u&&(g=String(u).match(Po))?(this.l=!1,ze(this,g[1]||"",!0),this.o=hi(g[2]||""),this.g=hi(g[3]||"",!0),ia(this,g[4]),this.h=hi(g[5]||"",!0),ol(this,g[6]||"",!0),this.m=hi(g[7]||"")):(this.l=!1,this.i=new ra(null,this.l))}fn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(ir(g,qr,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ir(g,qr,!0),"@"),u.push(Ni(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ir(_,_.charAt(0)=="/"?ul:Bo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ir(_,ko)),u.join("")},fn.prototype.resolve=function(u){const g=Ee(this);let _=!!u.j;_?ze(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var S=u.h;if(_)ia(g,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=g.h.lastIndexOf("/");U!=-1&&(S=g.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let at=0;at<U.length;){const At=U[at++];At=="."?S&&at==U.length&&F.push(""):At==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&at==U.length&&F.push("")):(F.push(At),S=!0)}S=F.join("/")}else S=U}return _?g.h=S:_=u.i.toString()!=="",_?ol(g,Ho(u.i)):_=!!u.m,_&&(g.m=u.m),g};function Ee(u){return new fn(u)}function ze(u,g,_){u.j=_?hi(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ia(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function ol(u,g,_){g instanceof ra?(u.i=g,Fr(u.i,u.l)):(_||(g=ir(g,aa)),u.i=new ra(g,u.l))}function Gt(u,g,_){u.i.set(g,_)}function nr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ir(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,en),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qr=/[#\/\?@]/g,Bo=/[#\?:]/g,ul=/[#\?]/g,aa=/[#\?@]/g,ko=/#/g;function ra(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&kr(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}a=ra.prototype,a.add=function(u,g){nn(this),this.i=null,u=sa(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function qo(u,g){nn(u),g=sa(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function cl(u,g){return nn(u),g=sa(u,g),u.g.has(g)}a.forEach=function(u,g){nn(this),this.g.forEach(function(_,S){_.forEach(function(U){u.call(g,U,S,this)},this)},this)};function hl(u,g){nn(u);let _=[];if(typeof g=="string")cl(u,g)&&(_=_.concat(u.g.get(sa(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}a.set=function(u,g){return nn(this),this.i=null,u=sa(this,u),cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},a.get=function(u,g){return u?(u=hl(this,u),u.length>0?String(u[0]):g):g};function Hr(u,g,_){qo(u,g),_.length>0&&(u.i=null,u.g.set(sa(u,g),L(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var _=g[S];const U=Ni(_);_=hl(this,_);for(let F=0;F<_.length;F++){let at=U;_[F]!==""&&(at+="="+Ni(_[F])),u.push(at)}}return this.i=u.join("&")};function Ho(u){const g=new ra;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function sa(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Fr(u,g){g&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(_,S){const U=S.toLowerCase();S!=U&&(qo(this,S),Hr(this,U,_))},u)),u.j=g}function kn(u,g){const _=new Un;if(d.Image){const S=new Image;S.onload=E(xn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=E(xn,_,"TestLoadImage: error",!1,g,S),S.onabort=E(xn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(xn,_,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function fl(u,g){const _=new Un,S=new AbortController,U=setTimeout(()=>{S.abort(),xn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?xn(_,"TestPingServer: ok",!0,g):xn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),xn(_,"TestPingServer: error",!1,g)})}function xn(u,g,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function la(){this.g=new Do}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(fi,Vo),fi.prototype.g=function(){return new ar(this.i,this.h)};function ar(u,g){pe.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ar,pe),a=ar.prototype,a.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?oa(this):qn(this),this.readyState==3&&Gr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,oa(this))},a.Na=function(u){this.g&&(this.response=u,oa(this))},a.ga=function(){this.g&&oa(this)};function oa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}a.setRequestHeader=function(u,g){this.A.append(u,g)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let g="";return Ut(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function rr(u,g,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=wn(_),typeof u=="string"?_!=null&&Ni(_):Gt(u,g,_))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Kt,pe);var di=/^https?$/i,dl=["POST","PUT"];a=Kt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nl.g(),this.g.onreadystatechange=R(m(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){sr(this,F);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(dl,g,void 0)>=0)||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,at]of _)this.g.setRequestHeader(F,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){sr(this,F)}};function sr(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,ml(u),Di(u)}function ml(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Kt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?lr(this):this.Xa())},a.Xa=function(){lr(this)};function lr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const F=u.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var S;if(S=F===0){let at=String(u.D).match(Po)[1]||null;!at&&d.self&&d.self.location&&(at=d.self.location.protocol.slice(0,-1)),S=!di.test(at?at.toLowerCase():"")}_=S}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Hn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ml(u)}}finally{Di(u)}}}}function Di(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||De(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ih(g)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const g={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var _=zo(u[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[U]||[];g[U]=F,F.push(_)}Ft(g,function(S){return S.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function ua(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new il(u&&u.concurrentRequestLimit),this.Ba=new la,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ua.prototype,a.ka=8,a.I=1,a.connect=function(u,g,_,S){ye(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=$o(this,null,this.W),gi(this)};function gl(u){if(Qr(u),u.I==3){var g=u.V++,_=Ee(u.J);if(Gt(_,"SID",u.M),Gt(_,"RID",g),Gt(_,"TYPE","terminate"),or(u,_),g=new Pn(u,u.j,g),g.M=2,g.A=nr(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.A,_=!0),_||(g.g=Zo(g.j,null),g.g.ea(g.A)),g.F=Date.now(),si(g)}Xo(u)}function ca(u){u.g&&(yl(u),u.g.cancel(),u.g=null)}function Qr(u){ca(u),u.v&&(d.clearTimeout(u.v),u.v=null),Kr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!al(u.h)&&!u.m){u.m=!0;var g=u.Ea;dt||x(),Et||(dt(),Et=!0),D.add(g,u),u.D=0}}function Yr(u,g){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(m(u.Ea,u,g),Ko(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Pn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=I(F),st(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Fo(this,U,g),_=Ee(this.J),Gt(_,"RID",u),Gt(_,"CVER",22),this.G&&Gt(_,"X-HTTP-Session-Id",this.G),or(this,_),F&&(this.R?g="headers="+Ni(wn(F))+"&"+g:this.u&&rr(_,this.u,F)),rl(this.h,U),this.Ra&&Gt(_,"TYPE","init"),this.S?(Gt(_,"$req",g),Gt(_,"SID","null"),U.U=!0,ri(U,_,null)):ri(U,_,g),this.I=2}}else this.I==3&&(u?pl(this,u):this.i.length==0||al(this.h)||pl(this))};function pl(u,g){var _;g?_=g.l:_=u.V++;const S=Ee(u.J);Gt(S,"SID",u.M),Gt(S,"RID",_),Gt(S,"AID",u.K),or(u,S),u.u&&u.o&&rr(S,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Fo(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),rl(u.h,_),ri(_,S,g)}function or(u,g){u.H&&Ut(u.H,function(_,S){Gt(g,S,_)}),u.l&&Ut({},function(_,S){Gt(g,S,_)})}function Fo(u,g,_){_=Math.min(u.i.length,_);const S=u.l?m(u.l.Ka,u.l,u):null;t:{var U=u.i;let At=-1;for(;;){const fe=["count="+_];At==-1?_>0?(At=U[0].g,fe.push("ofs="+At)):At=0:fe.push("ofs="+At);let kt=!0;for(let re=0;re<_;re++){var F=U[re].g;const Rn=U[re].map;if(F-=At,F<0)At=Math.max(0,U[re].g-100),kt=!1;else try{F="req"+F+"_"||"";try{var at=Rn instanceof Map?Rn:Object.entries(Rn);for(const[yi,Fn]of at){let Gn=Fn;p(Fn)&&(Gn=na(Fn)),fe.push(F+yi+"="+encodeURIComponent(Gn))}}catch(yi){throw fe.push(F+"type="+encodeURIComponent("_badmap")),yi}}catch{S&&S(Rn)}}if(kt){at=fe.join("&");break t}}at=void 0}return u=u.i.splice(0,_),g.G=u,at}function Go(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;dt||x(),Et||(dt(),Et=!0),D.add(g,u),u.A=0}}function ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(m(u.Da,u),Ko(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Qo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(m(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ca(this),Qo(this))};function yl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Qo(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Ee(u.na);Gt(g,"RID","rpc"),Gt(g,"SID",u.M),Gt(g,"AID",u.K),Gt(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(g,"TO",u.ia),Gt(g,"TYPE","xmlhttp"),or(u,g),u.u&&u.o&&rr(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=nr(Ee(g)),_.u=null,_.R=!0,Pr(_,u)}a.Va=function(){this.C!=null&&(this.C=null,ca(this),ur(this),ye(19))};function Kr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Yo(u,g){var _=null;if(u.g==g){Kr(u),yl(u),u.g=null;var S=2}else if(ci(u.h,g))_=g.G,sl(u.h,g),S=1;else return;if(u.I!=0){if(g.o)if(S==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var U=u.D;S=Ur(),De(S,new ni(S,_)),gi(u)}else Go(u);else if(U=g.m,U==3||U==0&&g.X>0||!(S==1&&Yr(u,g)||S==2&&ur(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Ko(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function pi(u,g){if(u.j.info("Error code "+g),g==2){var _=m(u.bb,u),S=u.Ua;const U=!S;S=new fn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(S,"https"),nr(S),U?kn(S.toString(),_):fl(S.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(g),Xo(u),Qr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Xo(u){if(u.I=0,u.ja=[],u.l){const g=ll(u.h);(g.length!=0||u.i.length!=0)&&(Y(u.ja,g),Y(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function $o(u,g,_){var S=_ instanceof fn?Ee(_):new fn(_);if(S.g!="")g&&(S.g=g+"."+S.g),ia(S,S.u);else{var U=d.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const F=new fn(null);S&&ze(F,S),g&&(F.g=g),U&&ia(F,U),_&&(F.h=_),S=F}return _=u.G,g=u.wa,_&&g&&Gt(S,_,g),Gt(S,"VER",u.ka),or(u,S),S}function Zo(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new Kt(new fi({ab:_})):new Kt(u.ma),g.Fa(u.L),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jo(){}a=Jo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ha(){}ha.prototype.g=function(u,g){return new We(u,g)};function We(u,g){pe.call(this),this.g=new ua(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!C(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Mi(this)}A(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){gl(this.g)},We.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=na(u),u=_);g.i.push(new _e(g.Ya++,u)),g.I==3&&gi(g)},We.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,We.Z.N.call(this)};function Wo(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}A(Wo,Pe);function tu(){Sn.call(this),this.status=1}A(tu,Sn);function Mi(u){this.g=u}A(Mi,Jo),Mi.prototype.ra=function(){De(this.g,"a")},Mi.prototype.qa=function(u){De(this.g,new Wo(u))},Mi.prototype.pa=function(u){De(this.g,new tu)},Mi.prototype.oa=function(){De(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,rv=function(){return new ha},av=function(){return Ur()},iv=he,Rd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,fc=tr,el.COMPLETE="complete",nv=el,Mo.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,io=Mo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,ev=Kt}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const R0="@firebase/firestore",C0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new K1("@firebase/firestore");function ws(){return Vr.logLevel}function lt(a,...e){if(Vr.logLevel<=Lt.DEBUG){const i=e.map(nm);Vr.debug(`Firestore (${Qs}): ${a}`,...i)}}function Wi(a,...e){if(Vr.logLevel<=Lt.ERROR){const i=e.map(nm);Vr.error(`Firestore (${Qs}): ${a}`,...i)}}function Os(a,...e){if(Vr.logLevel<=Lt.WARN){const i=e.map(nm);Vr.warn(`Firestore (${Qs}): ${a}`,...i)}}function nm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,sv(a,s,i)}function sv(a,e,i){let s=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Wi(s),new Error(s)}function Ht(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||sv(e,o,s)}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class IS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class OS{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Nr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Nr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new lv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class jS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new jS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=US(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Mt(a,e){return a<e?-1:a>e?1:0}function Cd(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),c=e.charAt(s);if(o!==c)return dd(o)===dd(c)?Mt(o,c):dd(o)?1:-1}return Mt(a.length,e.length)}const PS=55296,BS=57343;function dd(a){const e=a.charCodeAt(0);return e>=PS&&e<=BS}function js(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="__name__";class Ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Mt(e.length,i.length)}static compareSegments(e,i){const s=Ti.isNumericId(e),o=Ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):Cd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ua.fromString(e.substring(4,e.length-2))}}class ee extends Ti{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ft(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const kS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(e,i,s){return new Qe(e,i,s)}static isValidIdentifier(e){return kS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new Qe([D0])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ft(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ft(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new ft(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(ee.fromString(e))}static fromName(e){return new pt(ee.fromString(e).popFirst(5))}static empty(){return new pt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(a,e,i){if(!i)throw new ft(nt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function qS(a,e,i,s){if(e===!0&&s===!0)throw new ft(nt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function V0(a){if(!pt.isDocumentKey(a))throw new ft(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function M0(a){if(pt.isDocumentKey(a))throw new ft(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function uv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function am(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function Xi(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ft(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=am(a);throw new ft(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(a,e){const i={typeString:a};return e&&(i.value=e),i}function Ao(a,e){if(!uv(a))throw new ft(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ft(nt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=-62135596800,O0=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*O0);return new ne(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ft(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<I0)throw new ft(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O0}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ao(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:we("string",ne._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new ne(0,0))}static max(){return new bt(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function HS(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Ba(o,pt.empty(),e)}function FS(a){return new Ba(a.readTime,a.key,po)}class Ba{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ba(bt.min(),pt.empty(),po)}static max(){return new Ba(bt.max(),pt.empty(),po)}}function GS(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(a.documentKey,e.documentKey),i!==0?i:Mt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(a){if(a.code!==nt.FAILED_PRECONDITION||a.message!==QS)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):tt.reject(i)}static resolve(e){return new tt(((i,s)=>{i(e)}))}static reject(e){return new tt(((i,s)=>{s(e)}))}static waitFor(e){return new tt(((i,s)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>s(y)))})),d=!0,c===o&&i()}))}static or(e){let i=tt.resolve(!1);for(const s of e)i=i.next((o=>o?tt.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new tt(((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const m=y;i(e[m]).next((E=>{d[m]=E,++p,p===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new tt(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function KS(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ks(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=-1;function Bc(a){return a==null}function Sc(a){return a===0&&1/a==-1/0}function XS(a){return typeof a=="number"&&Number.isInteger(a)&&!Sc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="";function $S(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=j0(e)),e=ZS(a.get(i),e);return j0(e)}function ZS(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case cv:i+="";break;default:i+=c}}return i}function j0(a){return a+cv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ya(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function hv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sc(this.root,e,this.comparator,!0)}}class sc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(e){let i=new Ie(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new bn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fv("Invalid base64 string: "+c):c}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const JS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(a){if(Ht(!!a,39018),typeof a=="string"){let e=0;const i=JS.exec(a);if(Ht(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function qa(a){return typeof a=="string"?Ye.fromBase64String(a):Ye.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="server_timestamp",mv="__type__",gv="__previous_value__",pv="__local_write_time__";function sm(a){return(a?.mapValue?.fields||{})[mv]?.stringValue===dv}function kc(a){const e=a.mapValue.fields[gv];return sm(e)?kc(e):e}function yo(a){const e=ka(a.mapValue.fields[pv].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,i,s,o,c,d,p,y,m,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=m,this.isUsingEmulator=E}}const Ac="(default)";class vo{constructor(e,i){this.projectId=e,this.database=i||Ac}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof vo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="__type__",t4="__max__",lc={mapValue:{}},vv="__vector__",xc="value";function Ha(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?sm(a)?4:n4(a)?9007199254740991:e4(a)?10:11:vt(28295,{value:a})}function Ri(a,e){if(a===e)return!0;const i=Ha(a);if(i!==Ha(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return yo(a).isEqual(yo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ka(o.timestampValue),p=ka(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,c){return qa(o.bytesValue).isEqual(qa(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(a,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ge(o.doubleValue),p=ge(c.doubleValue);return d===p?Sc(d)===Sc(p):isNaN(d)&&isNaN(p)}return!1})(a,e);case 9:return js(a.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(z0(d)!==z0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ri(d[y],p[y])))return!1;return!0})(a,e);default:return vt(52216,{left:a})}}function _o(a,e){return(a.values||[]).find((i=>Ri(i,e)))!==void 0}function zs(a,e){if(a===e)return 0;const i=Ha(a),s=Ha(e);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(a.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(a,e);case 3:return U0(a.timestampValue,e.timestampValue);case 4:return U0(yo(a),yo(e));case 5:return Cd(a.stringValue,e.stringValue);case 6:return(function(c,d){const p=qa(c),y=qa(d);return p.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let m=0;m<p.length&&m<y.length;m++){const E=Mt(p[m],y[m]);if(E!==0)return E}return Mt(p.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Mt(ge(c.latitude),ge(d.latitude));return p!==0?p:Mt(ge(c.longitude),ge(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return P0(a.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},m=p[xc]?.arrayValue,E=y[xc]?.arrayValue,A=Mt(m?.values?.length||0,E?.values?.length||0);return A!==0?A:P0(m,E)})(a.mapValue,e.mapValue);case 11:return(function(c,d){if(c===lc.mapValue&&d===lc.mapValue)return 0;if(c===lc.mapValue)return 1;if(d===lc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),m=d.fields||{},E=Object.keys(m);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const R=Cd(y[A],E[A]);if(R!==0)return R;const L=zs(p[y[A]],m[E[A]]);if(L!==0)return L}return Mt(y.length,E.length)})(a.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function U0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Mt(a,e);const i=ka(a),s=ka(e),o=Mt(i.seconds,s.seconds);return o!==0?o:Mt(i.nanos,s.nanos)}function P0(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=zs(i[o],s[o]);if(c)return c}return Mt(i.length,s.length)}function Ls(a){return Nd(a)}function Nd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=ka(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return qa(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return pt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Nd(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Nd(i.fields[d])}`;return o+"}"})(a.mapValue):vt(61005,{value:a})}function dc(a){switch(Ha(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(a);return e?16+dc(e):16;case 5:return 2*a.stringValue.length;case 6:return qa(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+dc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Ya(s.fields,((c,d)=>{o+=c.length+dc(d)})),o})(a.mapValue);default:throw vt(13486,{value:a})}}function Dd(a){return!!a&&"integerValue"in a}function lm(a){return!!a&&"arrayValue"in a}function B0(a){return!!a&&"nullValue"in a}function k0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function mc(a){return!!a&&"mapValue"in a}function e4(a){return(a?.mapValue?.fields||{})[yv]?.stringValue===vv}function oo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ya(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=oo(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=oo(a.arrayValue.values[i]);return e}return{...a}}function n4(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===t4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!mc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(i)}setAll(e){let i=Qe.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=oo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ya(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new cn(oo(this.value))}}function _v(a){const e=[];return Ya(a.fields,((i,s)=>{const o=new Qe([i]);if(mc(s)){const c=_v(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,i,s,o,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ze(e,0,bt.min(),bt.min(),bt.min(),cn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,bt.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,bt.min(),bt.min(),cn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,bt.min(),bt.min(),cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i){this.position=e,this.inclusive=i}}function q0(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=zs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function H0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function i4(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{}class Me extends Ev{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new r4(e,i,s):i==="array-contains"?new o4(e,s):i==="in"?new u4(e,s):i==="not-in"?new c4(e,s):i==="array-contains-any"?new h4(e,s):new Me(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new s4(e,s):new l4(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(zs(i,this.value)):i!==null&&Ha(this.value)===Ha(i)&&this.matchesComparison(zs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends Ev{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ci(e,i)}matches(e){return bv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bv(a){return a.op==="and"}function Tv(a){return a4(a)&&bv(a)}function a4(a){for(const e of a.filters)if(e instanceof Ci)return!1;return!0}function Vd(a){if(a instanceof Me)return a.field.canonicalString()+a.op.toString()+Ls(a.value);if(Tv(a))return a.filters.map((e=>Vd(e))).join(",");{const e=a.filters.map((i=>Vd(i))).join(",");return`${a.op}(${e})`}}function Sv(a,e){return a instanceof Me?(function(s,o){return o instanceof Me&&s.op===o.op&&s.field.isEqual(o.field)&&Ri(s.value,o.value)})(a,e):a instanceof Ci?(function(s,o){return o instanceof Ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,p)=>c&&Sv(d,o.filters[p])),!0):!1})(a,e):void vt(19439)}function Av(a){return a instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ls(i.value)}`})(a):a instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(Av).join(" ,")+"}"})(a):"Filter"}class r4 extends Me{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class s4 extends Me{constructor(e,i){super(e,"in",i),this.keys=xv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class l4 extends Me{constructor(e,i){super(e,"not-in",i),this.keys=xv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function xv(a,e){return(e.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class o4 extends Me{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return lm(i)&&_o(i.arrayValue,this.value)}}class u4 extends Me{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&_o(this.value.arrayValue,i)}}class c4 extends Me{constructor(e,i){super(e,"not-in",i)}matches(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_o(this.value.arrayValue,i)}}class h4 extends Me{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>_o(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,i=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function F0(a,e=null,i=[],s=[],o=null,c=null,d=null){return new f4(a,e,i,s,o,c,d)}function om(a){const e=St(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Vd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ls(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ls(s))).join(",")),e.Te=i}return e.Te}function um(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!i4(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Sv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!H0(a.startAt,e.startAt)&&H0(a.endAt,e.endAt)}function Md(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,i=null,s=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d4(a,e,i,s,o,c,d,p){return new qc(a,e,i,s,o,c,d,p)}function cm(a){return new qc(a)}function G0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function m4(a){return a.collectionGroup!==null}function uo(a){const e=St(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ie(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Rc(c,s))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new Rc(Qe.keyField(),s))}return e.Ie}function Si(a){const e=St(a);return e.Ee||(e.Ee=g4(e,uo(a))),e.Ee}function g4(a,e){if(a.limitType==="F")return F0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Rc(o.field,c)}));const i=a.endAt?new wc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new wc(a.startAt.position,a.startAt.inclusive):null;return F0(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Id(a,e,i){return new qc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Hc(a,e){return um(Si(a),Si(e))&&a.limitType===e.limitType}function wv(a){return`${om(Si(a))}|lt:${a.limitType}`}function Rs(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Av(o))).join(", ")}]`),Bc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ls(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ls(o))).join(",")),`Target(${s})`})(Si(a))}; limitType=${a.limitType})`}function Fc(a,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,e)&&(function(s,o){for(const c of uo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,y){const m=q0(d,p,y);return d.inclusive?m<=0:m<0})(s.startAt,uo(s),o)||s.endAt&&!(function(d,p,y){const m=q0(d,p,y);return d.inclusive?m>=0:m>0})(s.endAt,uo(s),o))})(a,e)}function p4(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Rv(a){return(e,i)=>{let s=!1;for(const o of uo(a)){const c=y4(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function y4(a,e,i){const s=a.field.isKeyField()?pt.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),m=p.data.field(c);return y!==null&&m!==null?zs(y,m):vt(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return hv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new oe(pt.comparator);function ta(){return v4}const Cv=new oe(pt.comparator);function ao(...a){let e=Cv;for(const i of a)e=e.insert(i.key,i);return e}function Nv(a){let e=Cv;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Cr(){return co()}function Dv(){return co()}function co(){return new Ir((a=>a.toString()),((a,e)=>a.isEqual(e)))}const _4=new oe(pt.comparator),E4=new Ie(pt.comparator);function It(...a){let e=E4;for(const i of a)e=e.add(i);return e}const b4=new Ie(Mt);function T4(){return b4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function Vv(a){return{integerValue:""+a}}function S4(a,e){return XS(e)?Vv(e):hm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function A4(a,e,i){return a instanceof Cc?(function(o,c){const d={fields:{[mv]:{stringValue:dv},[pv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&sm(c)&&(c=kc(c)),c&&(d.fields[gv]=c),{mapValue:d}})(i,e):a instanceof Eo?Iv(a,e):a instanceof bo?Ov(a,e):(function(o,c){const d=Mv(o,c),p=Q0(d)+Q0(o.Ae);return Dd(d)&&Dd(o.Ae)?Vv(p):hm(o.serializer,p)})(a,e)}function x4(a,e,i){return a instanceof Eo?Iv(a,e):a instanceof bo?Ov(a,e):i}function Mv(a,e){return a instanceof Nc?(function(s){return Dd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Cc extends Gc{}class Eo extends Gc{constructor(e){super(),this.elements=e}}function Iv(a,e){const i=jv(e);for(const s of a.elements)i.some((o=>Ri(o,s)))||i.push(s);return{arrayValue:{values:i}}}class bo extends Gc{constructor(e){super(),this.elements=e}}function Ov(a,e){let i=jv(e);for(const s of a.elements)i=i.filter((o=>!Ri(o,s)));return{arrayValue:{values:i}}}class Nc extends Gc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Q0(a){return ge(a.integerValue||a.doubleValue)}function jv(a){return lm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function w4(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof bo&&o instanceof bo?js(s.elements,o.elements,Ri):s instanceof Nc&&o instanceof Nc?Ri(s.Ae,o.Ae):s instanceof Cc&&o instanceof Cc})(a.transform,e.transform)}class R4{constructor(e,i){this.version=e,this.transformResults=i}}class $n{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Qc{}function zv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new fm(a.key,$n.none()):new xo(a.key,a.data,$n.none());{const i=a.data,s=cn.empty();let o=new Ie(Qe.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ka(a.key,s,new bn(o.toArray()),$n.none())}}function C4(a,e,i){a instanceof xo?(function(o,c,d){const p=o.value.clone(),y=K0(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):a instanceof Ka?(function(o,c,d){if(!gc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=K0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Lv(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ho(a,e,i,s){return a instanceof xo?(function(c,d,p,y){if(!gc(c.precondition,d))return p;const m=c.value.clone(),E=X0(c.fieldTransforms,y,d);return m.setAll(E),d.convertToFoundDocument(d.version,m).setHasLocalMutations(),null})(a,e,i,s):a instanceof Ka?(function(c,d,p,y){if(!gc(c.precondition,d))return p;const m=X0(c.fieldTransforms,y,d),E=d.data;return E.setAll(Lv(c)),E.setAll(m),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(a,e,i,s):(function(c,d,p){return gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,e,i)}function N4(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=Mv(s.transform,o||null);c!=null&&(i===null&&(i=cn.empty()),i.set(s.field,c))}return i||null}function Y0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&js(s,o,((c,d)=>w4(c,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class xo extends Qc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ka extends Qc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Lv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function K0(a,e,i){const s=new Map;Ht(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,x4(d,p,i[o]))}return s}function X0(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,A4(c,d,e))}return s}class fm extends Qc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D4 extends Qc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&C4(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ho(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ho(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Dv();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=zv(d,p);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,((i,s)=>Y0(i,s)))&&js(this.baseMutations,e.baseMutations,((i,s)=>Y0(i,s)))}}class dm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return _4})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new dm(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,zt;function O4(a){switch(a){case nt.OK:return vt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return vt(15467,{code:a})}}function Uv(a){if(a===void 0)return Wi("GRPC error has no .code"),nt.UNKNOWN;switch(a){case xe.OK:return nt.OK;case xe.CANCELLED:return nt.CANCELLED;case xe.UNKNOWN:return nt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return nt.INTERNAL;case xe.UNAVAILABLE:return nt.UNAVAILABLE;case xe.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case xe.NOT_FOUND:return nt.NOT_FOUND;case xe.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case xe.ABORTED:return nt.ABORTED;case xe.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case xe.DATA_LOSS:return nt.DATA_LOSS;default:return vt(39323,{code:a})}}(zt=xe||(xe={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new Ua([4294967295,4294967295],0);function $0(a){const e=j4().encode(a),i=new tv;return i.update(e),new Uint8Array(i.digest())}function Z0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ua([i,s],0),new Ua([o,c],0)]}class mm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(s<0)throw new ro(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ua.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Ua.fromNumber(s)));return o.compare(z4)===1&&(o=new Ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=$0(e),[s,o]=Z0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new mm(c,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=$0(e),[s,o]=Z0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Yc(bt.min(),o,new oe(Mt),ta(),It())}}class wo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new wo(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Pv{constructor(e,i){this.targetId=e,this.Ce=i}}class Bv{constructor(e,i,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class J0{constructor(){this.ve=0,this.Fe=W0(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),s=It();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:c})}})),new wo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=W0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class L4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ta(),this.Je=oc(),this.He=oc(),this.Ye=new oe(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Md(c))if(s===0){const d=new pt(c.path);this.et(i,d,Ze.newNoDocument(d,bt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const m=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,m)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=qa(s).toUint8Array()}catch(y){if(y instanceof fv)return Os("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new mm(d,o,c)}catch(y){return Os(y instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Md(p.target)){const y=new pt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=It();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const m=this.ot(y);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Yc(e,i,this.Ye,this.je,s);return this.je=ta(),this.Je=oc(),this.He=oc(),this.Ye=new oe(Mt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new J0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function oc(){return new oe(pt.comparator)}function W0(){return new oe(pt.comparator)}const U4={asc:"ASCENDING",desc:"DESCENDING"},P4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B4={and:"AND",or:"OR"};class k4{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Od(a,e){return a.useProto3Json||Bc(e)?e:{value:e}}function Dc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function q4(a,e){return Dc(a,e.toTimestamp())}function Ai(a){return Ht(!!a,49232),bt.fromTimestamp((function(i){const s=ka(i);return new ne(s.seconds,s.nanos)})(a))}function gm(a,e){return jd(a,e).canonicalString()}function jd(a,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function qv(a){const e=ee.fromString(a);return Ht(Yv(e),10190,{key:e.toString()}),e}function zd(a,e){return gm(a.databaseId,e.path)}function md(a,e){const i=qv(e);if(i.get(1)!==a.databaseId.projectId)throw new ft(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ft(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pt(Fv(i))}function Hv(a,e){return gm(a.databaseId,e)}function H4(a){const e=qv(a);return e.length===4?ee.emptyPath():Fv(e)}function Ld(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Fv(a){return Ht(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function t1(a,e,i){return{name:zd(a,e),fields:i.value.mapValue.fields}}function F4(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:vt(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(m,E){return m.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(m){const E=m.code===void 0?nt.UNKNOWN:Uv(m.code);return new ft(E,m.message||"")})(d);i=new Bv(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=md(a,s.document.name),c=Ai(s.document.updateTime),d=s.document.createTime?Ai(s.document.createTime):bt.min(),p=new cn({mapValue:{fields:s.document.fields}}),y=Ze.newFoundDocument(o,c,d,p),m=s.targetIds||[],E=s.removedTargetIds||[];i=new pc(m,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=md(a,s.document),c=s.readTime?Ai(s.readTime):bt.min(),d=Ze.newNoDocument(o,c),p=s.removedTargetIds||[];i=new pc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=md(a,s.document),c=s.removedTargetIds||[];i=new pc([],c,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new I4(o,c),p=s.targetId;i=new Pv(p,d)}}return i}function G4(a,e){let i;if(e instanceof xo)i={update:t1(a,e.key,e.value)};else if(e instanceof fm)i={delete:zd(a,e.key)};else if(e instanceof Ka)i={update:t1(a,e.key,e.data),updateMask:tA(e.fieldMask)};else{if(!(e instanceof D4))return vt(16599,{Vt:e.type});i={verify:zd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Cc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Nc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:q4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(a,e.precondition)),i}function Q4(a,e){return a&&a.length>0?(Ht(e!==void 0,14353),a.map((i=>(function(o,c){let d=o.updateTime?Ai(o.updateTime):Ai(c);return d.isEqual(bt.min())&&(d=Ai(c)),new R4(d,o.transformResults||[])})(i,e)))):[]}function Y4(a,e){return{documents:[Hv(a,e.path)]}}function K4(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Hv(a,o);const c=(function(m){if(m.length!==0)return Qv(Ci.create(m,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(m){if(m.length!==0)return m.map((E=>(function(R){return{field:Cs(R.field),direction:Z4(R.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Od(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:i,parent:o}}function X4(a){let e=H4(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const R=Gv(A);return R instanceof Ci&&Tv(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((R=>(function(Y){return new Rc(Ns(Y.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(R)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let R;return R=typeof A=="object"?A.value:A,Bc(R)?null:R})(i.limit));let y=null;i.startAt&&(y=(function(A){const R=!!A.before,L=A.values||[];return new wc(L,R)})(i.startAt));let m=null;return i.endAt&&(m=(function(A){const R=!A.before,L=A.values||[];return new wc(L,R)})(i.endAt)),d4(e,o,d,c,p,"F",y,m)}function $4(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Gv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ns(i.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ns(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ns(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ns(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Me.create(Ns(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((s=>Gv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(a):vt(30097,{filter:a})}function Z4(a){return U4[a]}function J4(a){return P4[a]}function W4(a){return B4[a]}function Cs(a){return{fieldPath:a.canonicalString()}}function Ns(a){return Qe.fromServerFormat(a.fieldPath)}function Qv(a){return a instanceof Me?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NAN"}};if(B0(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NOT_NAN"}};if(B0(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(i.field),op:J4(i.op),value:i.value}}})(a):a instanceof Ci?(function(i){const s=i.getFilters().map((o=>Qv(o)));return s.length===1?s[0]:{compositeFilter:{op:W4(i.op),filters:s}}})(a):vt(54877,{filter:a})}function tA(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Yv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,i,s,o,c=bt.min(),d=bt.min(),p=Ye.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.yt=e}}function nA(a){const e=X4({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.Cn=new aA}addToCollectionParentIndex(e,i){return this.Cn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(Ba.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(Ba.min())}updateCollectionGroup(e,i,s){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class aA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ie(ee.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ie(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kv=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(Kv,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Us(0)}static cr(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="LruGarbageCollector",rA=1048576;function i1([a,e],[i,s]){const o=Mt(a,i);return o===0?Mt(e,s):o}class sA{constructor(e){this.Ir=e,this.buffer=new Ie(i1),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();i1(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(n1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ks(i)?lt(n1,"Ignoring IndexedDB error during garbage collection: ",i):await Ys(i)}await this.Vr(3e5)}))}}class oA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(Pc.ce);const s=new sA(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(e1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e1):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,d,p,y,m;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,p=Date.now(),this.removeTargets(e,s,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(m=Date.now(),ws()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(m-y)+`ms
Total Duration: ${m-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function uA(a,e){return new oA(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.changes=new Ir((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&ho(s.mutation,o,bn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,It()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=It()){const o=Cr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=ao();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Cr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,It())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let c=ta();const d=co(),p=(function(){return co()})();return i.forEach(((y,m)=>{const E=s.get(m.key);o.has(m.key)&&(E===void 0||E.mutation instanceof Ka)?c=c.insert(m.key,m):E!==void 0?(d.set(m.key,E.mutation.getFieldMask()),ho(E.mutation,m,E.mutation.getFieldMask(),ne.now())):d.set(m.key,bn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((m,E)=>d.set(m,E))),i.forEach(((m,E)=>p.set(m,new hA(E,d.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=co();let o=new oe(((d,p)=>d-p)),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const m=i.get(y);if(m===null)return;let E=s.get(y)||bn.empty();E=p.applyToLocalView(m,E),s.set(y,E);const A=(o.get(p.batchId)||It()).add(y);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),m=y.key,E=y.value,A=Dv();E.forEach((R=>{if(!c.has(R)){const L=zv(i.get(R),s.get(R));L!==null&&A.set(R,L),c=c.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,m,A))}return tt.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):m4(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):tt.resolve(Cr());let p=po,y=c;return d.next((m=>tt.forEach(m,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{y=y.insert(E,R)}))))).next((()=>this.populateOverlays(e,m,c))).next((()=>this.computeViews(e,y,m,It()))).next((E=>({batchId:p,changes:Nv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((s=>{let o=ao();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=ao();return this.indexManager.getCollectionParents(e,c).next((p=>tt.forEach(p,(y=>{const m=(function(A,R){return new qc(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,m,s,o).next((E=>{E.forEach(((A,R)=>{d=d.insert(A,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((y,m)=>{const E=m.getKey();d.get(E)===null&&(d=d.insert(E,Ze.newInvalidDocument(E)))}));let p=ao();return d.forEach(((y,m)=>{const E=c.get(y);E!==void 0&&ho(E.mutation,m,bn.empty(),ne.now()),Fc(i,m)&&(p=p.insert(y,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return tt.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}})(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:nA(o.bundledQuery),readTime:Ai(o.readTime)}})(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.overlays=new oe(pt.comparator),this.qr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Cr();return tt.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),tt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),tt.resolve()}getOverlaysForCollection(e,i,s){const o=Cr(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,m=y.getKey();if(!i.isPrefixOf(m.path))break;m.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new oe(((m,E)=>m-E));const d=this.overlays.getIterator();for(;d.hasNext();){const m=d.getNext().value;if(m.getKey().getCollectionGroup()===i&&m.largestBatchId>s){let E=c.get(m.largestBatchId);E===null&&(E=Cr(),c=c.insert(m.largestBatchId,E)),E.set(m.getKey(),m)}}const p=Cr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((m,E)=>p.set(m,E))),!(p.size()>=o)););return tt.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new M4(i,s));let c=this.qr.get(i);c===void 0&&(c=It(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.Qr=new Ie(Ue.$r),this.Ur=new Ie(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ue(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new pt(new ee([])),s=new Ue(i,e),o=new Ue(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new ee([])),s=new Ue(i,e),o=new Ue(i,e+1);let c=It();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ue(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Ue.$r)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new V4(c,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ue(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?rm:this.tr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(Mt);return i.forEach((o=>{const c=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),tt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new pt(c),0);let p=new Ie(Mt);return this.Zr.forEachWhile((y=>{const m=y.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(p=p.add(y.Yr)),!0)}),d),tt.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return tt.forEach(i.mutations,(o=>{const c=new Ue(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ue(i,0),o=this.Zr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.ri=e,this.docs=(function(){return new oe(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=ta();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))})),tt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=ta();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:m,value:{document:E}}=y.getNext();if(!d.isPrefixOf(m.path))break;m.path.length>d.length+1||GS(FS(E),s)<=0||(o.has(E.key)||Fc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(e,i,s,o){vt(9500)}ii(e,i){return tt.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new vA(this)}getSize(e){return tt.resolve(this.size)}}class vA extends cA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),tt.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.persistence=e,this.si=new Ir((i=>om(i)),um),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new pm,this.targetCount=0,this.ai=Us.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),tt.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Us(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.Pr(i),tt.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),tt.waitFor(c).next((()=>o))}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return tt.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),tt.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),tt.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return tt.resolve(s)}containsKey(e,i){return tt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i){this.ui={},this.overlays={},this.ci=new Pc(0),this.li=!1,this.li=!0,this.hi=new gA,this.referenceDelegate=e(this),this.Pi=new _A(this),this.indexManager=new iA,this.remoteDocumentCache=(function(o){return new yA(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new eA(i),this.Ii=new dA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new mA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new pA(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new EA(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return tt.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class EA extends YS{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Ri=new pm,this.Vi=null}static mi(e){return new ym(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),tt.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),tt.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return tt.or([()=>tt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Vc{constructor(e,i){this.persistence=e,this.pi=new Ir((s=>$S(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=uA(this,i)}static mi(e,i){return new Vc(e,i)}Ei(){}di(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return tt.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?tt.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(s++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),tt.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=dc(e.data.value)),i}br(e,i,s){return tt.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=It(),o=It();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new vm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fT()?8:KS(cT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new bA;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(ws()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(ws()<=Lt.DEBUG&&lt("QueryEngine","Query:",Rs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ws()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(i))):tt.resolve())}ys(e,i){if(G0(i))return tt.resolve(null);let s=Si(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Id(i,null,"F"),s=Si(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=It(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((y=>{const m=this.Ds(i,p);return this.Cs(i,m,d,y.readTime)?this.ys(e,Id(i,null,"F")):this.vs(e,m,i,y)}))))})))))}ws(e,i,s,o){return G0(i)||o.isEqual(bt.min())?tt.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?tt.resolve(null):(ws()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rs(i)),this.vs(e,d,i,HS(o,po)).next((p=>p)))}))}Ds(e,i){let s=new Ie(Rv(e));return i.forEach(((o,c)=>{Fc(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return ws()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Rs(i)),this.ps.getDocumentsMatchingQuery(e,i,Ba.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="LocalStore",SA=3e8;class AA{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Mt),this.xs=new Ir((c=>om(c)),um),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function xA(a,e,i,s){return new AA(a,e,i,s)}async function $v(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=It();for(const m of o){d.push(m.batchId);for(const E of m.mutations)y=y.add(E.key)}for(const m of c){p.push(m.batchId);for(const E of m.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next((m=>({Ls:m,removedBatchIds:d,addedBatchIds:p})))}))}))}function wA(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,m,E){const A=m.batch,R=A.keys();let L=tt.resolve();return R.forEach((Y=>{L=L.next((()=>E.getEntry(y,Y))).next((Z=>{const H=m.docVersions.get(Y);Ht(H!==null,48541),Z.version.compareTo(H)<0&&(A.applyToRemoteDocument(Z,m),Z.isValidDocument()&&(Z.setReadTime(m.commitVersion),E.addEntry(Z)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=It();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(y=y.add(p.batch.mutations[m].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function Zv(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function RA(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,A)=>{const R=o.get(A);if(!R)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let L=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?L=L.withResumeToken(Ye.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(A,L),(function(Z,H,et){return Z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=SA?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(R,L,E)&&p.push(i.Pi.updateTargetData(c,L))}));let y=ta(),m=It();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(CA(c,d,e.documentUpdates).next((E=>{y=E.ks,m=E.qs}))),!s.isEqual(bt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(E)}return tt.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,m))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function CA(a,e,i){let s=It(),o=It();return i.forEach((c=>s=s.add(c))),e.getEntries(a,s).next((c=>{let d=ta();return i.forEach(((p,y)=>{const m=c.get(p);y.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(bt.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!m.isValidDocument()||y.version.compareTo(m.version)>0||y.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):lt(_m,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function NA(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=rm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function DA(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,tt.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Oa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Ud(a,e,i){const s=St(a),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ks(d))throw d;lt(_m,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function a1(a,e,i){const s=St(a);let o=bt.min(),c=It();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,m,E){const A=St(y),R=A.xs.get(E);return R!==void 0?tt.resolve(A.Ms.get(R)):A.Pi.getTargetData(m,E)})(s,d,Si(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?c:It()))).next((p=>(VA(s,p4(e),p),{documents:p,Qs:c})))))}function VA(a,e,i){let s=a.Os.get(e)||bt.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Os.set(e,s)}class r1{constructor(){this.activeTargetIds=T4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MA{constructor(){this.Mo=new r1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new r1,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="ConnectivityMonitor";class l1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(s1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(s1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function Pd(){return uc===null?uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="RestConnection",OA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ac?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const d=Pd(),p=this.zo(e,i.toUriEncodedString());lt(gd,`Sending RPC '${e}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:m}=new URL(p),E=tm(m);return this.Jo(e,p,y,s,E).then((A=>(lt(gd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Os(gd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}Ho(e,i,s,o,c,d){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=OA[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class LA extends jA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const d=Pd();return new Promise(((p,y)=>{const m=new ev;m.setWithCredentials(!0),m.listenOnce(nv.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case fc.NO_ERROR:const A=m.getResponseJson();lt(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case fc.TIMEOUT:lt(Xe,`RPC '${e}' ${d} timed out`),y(new ft(nt.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const R=m.getStatus();if(lt(Xe,`RPC '${e}' ${d} failed with status:`,R,"response text:",m.getResponseText()),R>0){let L=m.getResponseJson();Array.isArray(L)&&(L=L[0]);const Y=L?.error;if(Y&&Y.status&&Y.message){const Z=(function(et){const K=et.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(K)>=0?K:nt.UNKNOWN})(Y.status);y(new ft(Z,Y.message))}else y(new ft(nt.UNKNOWN,"Server responded with status "+m.getStatus()))}else y(new ft(nt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{lt(Xe,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);lt(Xe,`RPC '${e}' ${d} sending request:`,o),m.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=Pd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rv(),p=av(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(y.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=c.join("");lt(Xe,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let R=!1,L=!1;const Y=new zA({Yo:H=>{L?lt(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(R||(lt(Xe,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),lt(Xe,`RPC '${e}' stream ${o} sending:`,H),A.send(H))},Zo:()=>A.close()}),Z=(H,et,K)=>{H.listen(et,(it=>{try{K(it)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return Z(A,io.EventType.OPEN,(()=>{L||(lt(Xe,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),Z(A,io.EventType.CLOSE,(()=>{L||(L=!0,lt(Xe,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(A))})),Z(A,io.EventType.ERROR,(H=>{L||(L=!0,Os(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Y.a_(new ft(nt.UNAVAILABLE,"The operation could not be completed")))})),Z(A,io.EventType.MESSAGE,(H=>{if(!L){const et=H.data[0];Ht(!!et,16349);const K=et,it=K?.error||K[0]?.error;if(it){lt(Xe,`RPC '${e}' stream ${o} received error:`,it);const ct=it.status;let dt=(function(x){const w=xe[x];if(w!==void 0)return Uv(w)})(ct),Et=it.message;dt===void 0&&(dt=nt.INTERNAL,Et="Unknown error status: "+ct+" with message "+it.message),L=!0,Y.a_(new ft(dt,Et)),A.close()}else lt(Xe,`RPC '${e}' stream ${o} received:`,et),Y.u_(et)}})),Z(p,iv.STAT_EVENT,(H=>{H.stat===Rd.PROXY?lt(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Rd.NOPROXY&&lt(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(a){return new k4(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="PersistentStream";class Wv{constructor(e,i,s,o,c,d,p,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ft(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(o1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(lt(o1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UA extends Wv{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=F4(this.serializer,e),s=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Ai(d.readTime):bt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Ld(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Md(y)?{documents:Y4(c,y)}:{query:K4(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=kv(c,d.resumeToken);const m=Od(c,d.expectedCount);m!==null&&(p.expectedCount=m)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=Dc(c,d.snapshotVersion.toTimestamp());const m=Od(c,d.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const s=$4(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Ld(this.serializer),i.removeTarget=e,this.q_(i)}}class PA extends Wv{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Q4(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Ld(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>G4(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{}class kA extends BA{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ft(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,jd(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(nt.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,jd(i,s),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(nt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="RemoteStore";class HA{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Or(this)&&(lt(Mr,"Restarting streams for network reachability change."),await(async function(y){const m=St(y);m.Ea.add(4),await Ro(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Xc(m)})(this))}))})),this.Ra=new qA(s,o)}}async function Xc(a){if(Or(a))for(const e of a.da)await e(!0)}async function Ro(a){for(const e of a.da)await e(!1)}function t_(a,e){const i=St(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Sm(i)?Tm(i):Xs(i).O_()&&bm(i,e))}function Em(a,e){const i=St(a),s=Xs(i);i.Ia.delete(e),s.O_()&&e_(i,e),i.Ia.size===0&&(s.O_()?s.L_():Or(i)&&i.Ra.set("Unknown"))}function bm(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Xs(a).Y_(e)}function e_(a,e){a.Va.Ue(e),Xs(a).Z_(e)}function Tm(a){a.Va=new L4({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Xs(a).start(),a.Ra.ua()}function Sm(a){return Or(a)&&!Xs(a).x_()&&a.Ia.size>0}function Or(a){return St(a).Ea.size===0}function n_(a){a.Va=void 0}async function FA(a){a.Ra.set("Online")}async function GA(a){a.Ia.forEach(((e,i)=>{bm(a,e)}))}async function QA(a,e){n_(a),Sm(a)?(a.Ra.ha(e),Tm(a)):a.Ra.set("Unknown")}async function YA(a,e,i){if(a.Ra.set("Online"),e instanceof Bv&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(s){lt(Mr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mc(a,s)}else if(e instanceof pc?a.Va.Ze(e):e instanceof Pv?a.Va.st(e):a.Va.tt(e),!i.isEqual(bt.min()))try{const s=await Zv(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,m)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(m);E&&c.Ia.set(m,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,m)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),e_(c,y);const A=new Oa(E.target,y,m,E.sequenceNumber);bm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){lt(Mr,"Failed to raise snapshot:",s),await Mc(a,s)}}async function Mc(a,e,i){if(!Ks(e))throw e;a.Ea.add(1),await Ro(a),a.Ra.set("Offline"),i||(i=()=>Zv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{lt(Mr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Xc(a)}))}function i_(a,e){return e().catch((i=>Mc(a,i,e)))}async function $c(a){const e=St(a),i=Fa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rm;for(;KA(e);)try{const o=await NA(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,XA(e,o)}catch(o){await Mc(e,o)}a_(e)&&r_(e)}function KA(a){return Or(a)&&a.Ta.length<10}function XA(a,e){a.Ta.push(e);const i=Fa(a);i.O_()&&i.X_&&i.ea(e.mutations)}function a_(a){return Or(a)&&!Fa(a).x_()&&a.Ta.length>0}function r_(a){Fa(a).start()}async function $A(a){Fa(a).ra()}async function ZA(a){const e=Fa(a);for(const i of a.Ta)e.ea(i.mutations)}async function JA(a,e,i){const s=a.Ta.shift(),o=dm.from(s,e,i);await i_(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await $c(a)}async function WA(a,e){e&&Fa(a).X_&&await(async function(s,o){if((function(d){return O4(d)&&d!==nt.ABORTED})(o.code)){const c=s.Ta.shift();Fa(s).B_(),await i_(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await $c(s)}})(a,e),a_(a)&&r_(a)}async function u1(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),lt(Mr,"RemoteStore received new credentials");const s=Or(i);i.Ea.add(3),await Ro(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Xc(i)}async function tx(a,e){const i=St(a);e?(i.Ea.delete(2),await Xc(i)):e||(i.Ea.add(2),await Ro(i),i.Ra.set("Unknown"))}function Xs(a){return a.ma||(a.ma=(function(i,s,o){const c=St(i);return c.sa(),new UA(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:FA.bind(null,a),t_:GA.bind(null,a),r_:QA.bind(null,a),H_:YA.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Sm(a)?Tm(a):a.Ra.set("Unknown")):(await a.ma.stop(),n_(a))}))),a.ma}function Fa(a){return a.fa||(a.fa=(function(i,s,o){const c=St(i);return c.sa(),new PA(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:$A.bind(null,a),r_:WA.bind(null,a),ta:ZA.bind(null,a),na:JA.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await $c(a)):(await a.fa.stop(),a.Ta.length>0&&(lt(Mr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,p=new Am(e,i,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(a,e){if(Wi("AsyncQueue",`${e}: ${a}`),Ks(a))return new ft(nt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=ao(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.ga=new oe(pt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ps{constructor(e,i,s,o,c,d,p,y,m){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=m}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ps(e,i,Ms.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nx{constructor(){this.queries=h1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=St(i),c=o.queries;o.queries=h1(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new ft(nt.ABORTED,"Firestore shutting down"))}}function h1(){return new Ir((a=>wv(a)),Hc)}async function ix(a,e){const i=St(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new ex,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=xm(d,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&wm(i)}async function ax(a,e){const i=St(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function rx(a,e){const i=St(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&wm(i)}function sx(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function wm(a){a.Ca.forEach((e=>{e.next()}))}var Bd,f1;(f1=Bd||(Bd={})).Ma="default",f1.Cache="cache";class lx{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ps(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.key=e}}class l_{constructor(e){this.key=e}}class ox{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=Rv(e),this.tu=new Ms(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new c1,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const R=o.get(E),L=Fc(this.query,A)?A:null,Y=!!R&&this.mutatedKeys.has(R.key),Z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;R&&L?R.data.isEqual(L.data)?Y!==Z&&(s.track({type:3,doc:L}),H=!0):this.su(R,L)||(s.track({type:2,doc:L}),H=!0,(y&&this.eu(L,y)>0||m&&this.eu(L,m)<0)&&(p=!0)):!R&&L?(s.track({type:0,doc:L}),H=!0):R&&!L&&(s.track({type:1,doc:R}),H=!0,(y||m)&&(p=!0)),H&&(L?(d=d.add(L),c=Z?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(L,Y){const Z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:H})}};return Z(L)-Z(Y)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,m=y!==this.Za;return this.Za=y,d.length!==0||m?{snapshot:new Ps(this.query,e.tu,c,d,e.mutatedKeys,y===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new l_(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new s_(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ps.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rm="SyncEngine";class ux{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class cx{constructor(e){this.key=e,this.hu=!1}}class hx{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ir((p=>wv(p)),Hc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(pt.comparator),this.Au=new Map,this.Ru=new pm,this.Vu={},this.mu=new Map,this.fu=Us.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fx(a,e,i=!0){const s=d_(a);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await o_(s,e,i,!0),o}async function dx(a,e){const i=d_(a);await o_(i,e,!0,!1)}async function o_(a,e,i,s){const o=await DA(a.localStore,Si(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await mx(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&t_(a.remoteStore,o),p}async function mx(a,e,i,s,o){a.pu=(A,R,L)=>(async function(Z,H,et,K){let it=H.view.ru(et);it.Cs&&(it=await a1(Z.localStore,H.query,!1).then((({documents:D})=>H.view.ru(D,it))));const ct=K&&K.targetChanges.get(H.targetId),dt=K&&K.targetMismatches.get(H.targetId)!=null,Et=H.view.applyChanges(it,Z.isPrimaryClient,ct,dt);return m1(Z,H.targetId,Et.au),Et.snapshot})(a,A,R,L);const c=await a1(a.localStore,e,!0),d=new ox(e,c.Qs),p=d.ru(c.documents),y=wo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),m=d.applyChanges(p,a.isPrimaryClient,y);m1(a,i,m.au);const E=new ux(e,i,d);return a.Tu.set(e,E),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),m.snapshot}async function gx(a,e,i){const s=St(a),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Hc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ud(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Em(s.remoteStore,o.targetId),kd(s,o.targetId)})).catch(Ys)):(kd(s,o.targetId),await Ud(s.localStore,o.targetId,!0))}async function px(a,e){const i=St(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Em(i.remoteStore,s.targetId))}async function yx(a,e,i){const s=Ax(a);try{const o=await(function(d,p){const y=St(d),m=ne.now(),E=p.reduce(((L,Y)=>L.add(Y.key)),It());let A,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Y=ta(),Z=It();return y.Ns.getEntries(L,E).next((H=>{Y=H,Y.forEach(((et,K)=>{K.isValidDocument()||(Z=Z.add(et))}))})).next((()=>y.localDocuments.getOverlayedDocuments(L,Y))).next((H=>{A=H;const et=[];for(const K of p){const it=N4(K,A.get(K.key).overlayedDocument);it!=null&&et.push(new Ka(K.key,it,_v(it.value.mapValue),$n.exists(!0)))}return y.mutationQueue.addMutationBatch(L,m,et,p)})).next((H=>{R=H;const et=H.applyToLocalDocumentSet(A,Z);return y.documentOverlayCache.saveOverlays(L,H.batchId,et)}))})).then((()=>({batchId:R.batchId,changes:Nv(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let m=d.Vu[d.currentUser.toKey()];m||(m=new oe(Mt)),m=m.insert(p,y),d.Vu[d.currentUser.toKey()]=m})(s,o.batchId,i),await Co(s,o.changes),await $c(s.remoteStore)}catch(o){const c=xm(o,"Failed to persist write");i.reject(c)}}async function u_(a,e){const i=St(a);try{const s=await RA(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Co(i,s,e)}catch(s){await Ys(s)}}function d1(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=St(d);y.onlineState=p;let m=!1;y.queries.forEach(((E,A)=>{for(const R of A.Sa)R.va(p)&&(m=!0)})),m&&wm(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vx(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new oe(pt.comparator);d=d.insert(c,Ze.newNoDocument(c,bt.min()));const p=It().add(c),y=new Yc(bt.min(),new Map,new oe(Mt),d,p);await u_(s,y),s.du=s.du.remove(c),s.Au.delete(e),Cm(s)}else await Ud(s.localStore,e,!1).then((()=>kd(s,e,i))).catch(Ys)}async function _x(a,e){const i=St(a),s=e.batch.batchId;try{const o=await wA(i.localStore,e);h_(i,s,null),c_(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Co(i,o)}catch(o){await Ys(o)}}async function Ex(a,e,i){const s=St(a);try{const o=await(function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let E;return y.mutationQueue.lookupMutationBatch(m,p).next((A=>(Ht(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(m,A)))).next((()=>y.mutationQueue.performConsistencyCheck(m))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(m,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,E))).next((()=>y.localDocuments.getDocuments(m,E)))}))})(s.localStore,e);h_(s,e,i),c_(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Co(s,o)}catch(o){await Ys(o)}}function c_(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function h_(a,e,i){const s=St(a);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function kd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||f_(a,s)}))}function f_(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Em(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Cm(a))}function m1(a,e,i){for(const s of i)s instanceof s_?(a.Ru.addReference(s.key,e),bx(a,s)):s instanceof l_?(lt(Rm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||f_(a,s.key)):vt(19791,{wu:s})}function bx(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(lt(Rm,"New document in limbo: "+i),a.Eu.add(s),Cm(a))}function Cm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new pt(ee.fromString(e)),s=a.fu.next();a.Au.set(s,new cx(i)),a.du=a.du.insert(i,s),t_(a.remoteStore,new Oa(Si(cm(i.path)),s,"TargetPurposeLimboResolution",Pc.ce))}}async function Co(a,e,i){const s=St(a),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,e,i).then((m=>{if((m||i)&&s.isPrimaryClient){const E=m?!m.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(m){o.push(m);const E=vm.As(y.targetId,m);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(y,m){const E=St(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>tt.forEach(m,(R=>tt.forEach(R.Es,(L=>E.persistence.referenceDelegate.addReference(A,R.targetId,L))).next((()=>tt.forEach(R.ds,(L=>E.persistence.referenceDelegate.removeReference(A,R.targetId,L)))))))))}catch(A){if(!Ks(A))throw A;lt(_m,"Failed to update sequence numbers: "+A)}for(const A of m){const R=A.targetId;if(!A.fromCache){const L=E.Ms.get(R),Y=L.snapshotVersion,Z=L.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(R,Z)}}})(s.localStore,c))}async function Tx(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){lt(Rm,"User change. New user:",e.toKey());const s=await $v(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ft(nt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Co(i,s.Ls)}}function Sx(a,e){const i=St(a),s=i.Au.get(e);if(s&&s.hu)return It().add(s.key);{let o=It();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function d_(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=u_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vx.bind(null,e),e.Pu.H_=rx.bind(null,e.eventManager),e.Pu.yu=sx.bind(null,e.eventManager),e}function Ax(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_x.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ex.bind(null,e),e}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return xA(this.persistence,new TA,e.initialUser,this.serializer)}Cu(e){return new Xv(ym.mi,this.serializer)}Du(e){return new MA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class xx extends Ic{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof Vc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Xv((s=>Vc.mi(s,i)),this.serializer)}}class qd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>d1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tx.bind(null,this.syncEngine),await tx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nx})()}createDatastore(e){const i=Kc(e.databaseInfo.databaseId),s=(function(c){return new LA(c)})(e.databaseInfo);return(function(c,d,p,y){return new kA(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,p){return new HA(s,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>d1(this.syncEngine,i,0)),(function(){return l1.v()?new l1:new IA})())}createSyncEngine(e,i){return(function(o,c,d,p,y,m,E){const A=new hx(o,c,d,p,y,m);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=St(i);lt(Mr,"RemoteStore shutting down."),s.Ea.add(5),await Ro(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="FirestoreClient";class Rx{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{lt(Ga,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(lt(Ga,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=xm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function yd(a,e){a.asyncQueue.verifyOperationInProgress(),lt(Ga,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await $v(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function g1(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Cx(a);lt(Ga,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>u1(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>u1(e.remoteStore,o))),a._onlineComponents=e}async function Cx(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(Ga,"Using user provided OfflineComponentProvider");try{await yd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Os("Error using user provided cache. Falling back to memory cache: "+i),await yd(a,new Ic)}}else lt(Ga,"Using default OfflineComponentProvider"),await yd(a,new xx(void 0));return a._offlineComponents}async function m_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(Ga,"Using user provided OnlineComponentProvider"),await g1(a,a._uninitializedComponentsProvider._online)):(lt(Ga,"Using default OnlineComponentProvider"),await g1(a,new qd))),a._onlineComponents}function Nx(a){return m_(a).then((e=>e.syncEngine))}async function p1(a){const e=await m_(a),i=e.eventManager;return i.onListen=fx.bind(null,e.syncEngine),i.onUnlisten=gx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=dx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=px.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="firestore.googleapis.com",v1=!0;class _1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ft(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p_,this.ssl=v1}else this.host=e.host,this.ssl=e.ssl??v1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rA)throw new ft(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ft(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new MS;switch(s.type){case"firstParty":return new zS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=y1.get(i);s&&(lt("ComponentProvider","Removing Datastore"),y1.delete(i),s.terminate())})(this),Promise.resolve()}}function Dx(a,e,i,s={}){a=Xi(a,Zc);const o=tm(e),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(rT(`https://${p}`),uT("Firestore",!0)),c.host!==p_&&c.host!==p&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:s};if(!Ec(y,d)&&(a._setSettings(y),s.mockUserToken)){let m,E;if(typeof s.mockUserToken=="string")m=s.mockUserToken,E=$e.MOCK_USER;else{m=sT(s.mockUserToken,a._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ft(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(A)}a._authCredentials=new IS(new lv(m,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Jc(this.firestore,e,this._query)}}class Re{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Re(this.firestore,e,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Ao(i,Re._jsonSchema))return new Re(e,s||null,new pt(ee.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:we("string",Re._jsonSchemaVersion),referencePath:we("string")};class Pa extends Jc{constructor(e,i,s){super(e,i,cm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Re(this.firestore,null,new pt(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function y_(a,e,...i){if(a=Zi(a),ov("collection","path",e),a instanceof Zc){const s=ee.fromString(e,...i);return M0(s),new Pa(a,null,s)}{if(!(a instanceof Re||a instanceof Pa))throw new ft(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(e,...i));return M0(s),new Pa(a.firestore,null,s)}}function xs(a,e,...i){if(a=Zi(a),arguments.length===1&&(e=im.newId()),ov("doc","path",e),a instanceof Zc){const s=ee.fromString(e,...i);return V0(s),new Re(a,null,new pt(s))}{if(!(a instanceof Re||a instanceof Pa))throw new ft(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(e,...i));return V0(s),new Re(a.firestore,a instanceof Pa?a.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="AsyncQueue";class b1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jv(this,"async_queue_retry"),this._c=()=>{const s=pd();s&&lt(E1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=pd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ks(e))throw e;lt(E1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",T1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Am.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:T1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function T1(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Bs extends Zc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new b1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b1(e),this._firestoreClient=void 0,await e}}}function Vx(a,e){const i=typeof a=="object"?a:_S(),s=typeof a=="string"?a:Ac,o=mS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=iT("firestore");c&&Dx(o,...c)}return o}function v_(a){if(a._terminated)throw new ft(nt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Mx(a),a._firestoreClient}function Mx(a){const e=a._freezeSettings(),i=(function(o,c,d,p){return new WS(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,g_(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new Rx(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ye.fromBase64String(e))}catch(i){throw new ft(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ao(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:we("string",zn._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ft(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ft(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ft(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(Ao(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:we("string",xi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ao(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new wi(e.vectorValues);throw new ft(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:we("string",wi._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=/^__.*__$/;class Ox{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms):new xo(e,this.data,i,this.fieldTransforms)}}class __{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ka(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function E_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:a})}}class Dm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(E_(this.Ac)&&Ix.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jx{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Kc(e)}Cc(e,i,s,o=!1){return new Dm({Ac:e,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b_(a){const e=a._freezeSettings(),i=Kc(a._databaseId);return new jx(a._databaseId,!!e.ignoreUndefinedProperties,i)}function zx(a,e,i,s,o,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,e,i,o);Vm("Data must be an object, but it was:",d,s);const p=T_(s,d);let y,m;if(c.merge)y=new bn(d.fieldMask),m=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const R=Hd(e,A,i);if(!d.contains(R))throw new ft(nt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);A_(E,R)||E.push(R)}y=new bn(E),m=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,m=d.fieldTransforms;return new Ox(new cn(p),y,m)}class th extends Nm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function Lx(a,e,i,s){const o=a.Cc(1,e,i);Vm("Data must be an object, but it was:",o,s);const c=[],d=cn.empty();Ya(s,((y,m)=>{const E=Mm(e,y,i);m=Zi(m);const A=o.yc(E);if(m instanceof th)c.push(E);else{const R=eh(m,A);R!=null&&(c.push(E),d.set(E,R))}}));const p=new bn(c);return new __(d,p,o.fieldTransforms)}function Ux(a,e,i,s,o,c){const d=a.Cc(1,e,i),p=[Hd(e,s,i)],y=[o];if(c.length%2!=0)throw new ft(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)p.push(Hd(e,c[R])),y.push(c[R+1]);const m=[],E=cn.empty();for(let R=p.length-1;R>=0;--R)if(!A_(m,p[R])){const L=p[R];let Y=y[R];Y=Zi(Y);const Z=d.yc(L);if(Y instanceof th)m.push(L);else{const H=eh(Y,Z);H!=null&&(m.push(L),E.set(L,H))}}const A=new bn(m);return new __(E,A,d.fieldTransforms)}function eh(a,e){if(S_(a=Zi(a)))return Vm("Unsupported field value:",e,a),T_(a,e);if(a instanceof Nm)return(function(s,o){if(!E_(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const p of s){let y=eh(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,e)}return(function(s,o){if((s=Zi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return S4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:Dc(o.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dc(o.serializer,c)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:kv(o.serializer,s._byteString)};if(s instanceof Re){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:gm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wi)return(function(d,p){return{mapValue:{fields:{[yv]:{stringValue:vv},[xc]:{arrayValue:{values:d.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return hm(p.serializer,m)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${am(s)}`)})(a,e)}function T_(a,e){const i={};return hv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(a,((s,o)=>{const c=eh(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function S_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof xi||a instanceof zn||a instanceof Re||a instanceof Nm||a instanceof wi)}function Vm(a,e,i){if(!S_(i)||!uv(i)){const s=am(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function Hd(a,e,i){if((e=Zi(e))instanceof Wc)return e._internalPath;if(typeof e=="string")return Mm(a,e);throw Oc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Px=new RegExp("[~\\*/\\[\\]]");function Mm(a,e,i){if(e.search(Px)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Wc(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Oc(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ft(nt.INVALID_ARGUMENT,p+a+y)}function A_(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(w_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Bx extends x_{data(){return super.data()}}function w_(a,e){return typeof e=="string"?Mm(a,e):e instanceof Wc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ft(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qx{convertValue(e,i="none"){switch(Ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ya(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[xc].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new wi(i)}convertGeoPoint(e){return new xi(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=kc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const i=ka(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Ht(Yv(s),9688,{name:e});const o=new vo(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class so{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dr extends x_{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(w_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Dr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Dr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dr._jsonSchema={type:we("string",Dr._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class yc extends Dr{data(e={}){return super.data(e)}}class Is{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new so(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new yc(this._firestore,this._userDataWriter,s.key,s,new so(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new yc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new so(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new yc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new so(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,E=-1;return p.type!==0&&(m=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:Fx(p.type),doc:y,oldIndex:m,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Is._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Fx(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}Is._jsonSchemaVersion="firestore/querySnapshot/1.0",Is._jsonSchema={type:we("string",Is._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class R_ extends qx{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function A1(a,e,i){a=Xi(a,Re);const s=Xi(a.firestore,Bs),o=Hx(a.converter,e);return Im(s,[zx(b_(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,$n.none())])}function vd(a,e,i,...s){a=Xi(a,Re);const o=Xi(a.firestore,Bs),c=b_(o);let d;return d=typeof(e=Zi(e))=="string"||e instanceof Wc?Ux(c,"updateDoc",a._key,e,i,s):Lx(c,"updateDoc",a._key,e),Im(o,[d.toMutation(a._key,$n.exists(!0))])}function Gx(a){return Im(Xi(a.firestore,Bs),[new fm(a._key,$n.none())])}function x1(a,...e){a=Zi(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||S1(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(S1(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,d,p;if(a instanceof Re)d=Xi(a.firestore,Bs),p=cm(a._key.path),c={next:y=>{e[s]&&e[s](Qx(d,a,y))},error:e[s+1],complete:e[s+2]};else{const y=Xi(a,Jc);d=Xi(y.firestore,Bs),p=y._query;const m=new R_(d);c={next:E=>{e[s]&&e[s](new Is(d,m,y,E))},error:e[s+1],complete:e[s+2]},kx(a._query)}return(function(m,E,A,R){const L=new wx(R),Y=new lx(E,L,A);return m.asyncQueue.enqueueAndForget((async()=>ix(await p1(m),Y))),()=>{L.Nu(),m.asyncQueue.enqueueAndForget((async()=>ax(await p1(m),Y)))}})(v_(d),p,o,c)}function Im(a,e){return(function(s,o){const c=new Nr;return s.asyncQueue.enqueueAndForget((async()=>yx(await Nx(s),o,c))),c.promise})(v_(a),e)}function Qx(a,e,i){const s=i.docs.get(e._key),o=new R_(a);return new Dr(a,o,e._key,s,new so(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Qs=o})(vS),Tc(new mo("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Bs(new OS(s.getProvider("auth-internal")),new LS(d,s.getProvider("app-check-internal")),(function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ft(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(m.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Vs(R0,C0,e),Vs(R0,C0,"esm2020")})();const Yx={apiKey:"AIzaSyCG0ogFYqNhUrYs5ffm7ATC7KLowmOkes8",authDomain:"fezeaix-commission.firebaseapp.com",projectId:"fezeaix-commission",storageBucket:"fezeaix-commission.firebasestorage.app",messagingSenderId:"277309240523",appId:"1:277309240523:web:280f97eed392384256574e",measurementId:"G-PQY9EZ3JV9"},Kx=Z1(Yx),Rr=Vx(Kx),C_=B.createContext(null),Tn=()=>B.useContext(C_),Xx=y_(Rr,"users"),w1=y_(Rr,"commissions"),$x=({children:a})=>{const[e,i]=B.useState(null),[s,o]=B.useState(!0),[c,d]=B.useState([]),[p,y]=B.useState([]);B.useEffect(()=>{const K=localStorage.getItem("currentUser");K&&i(JSON.parse(K)),o(!1)},[]),B.useEffect(()=>{const K=x1(Xx,it=>{const ct=it.docs.map(dt=>({...dt.data(),id:dt.id}));y(ct)},it=>{console.error("Error fetching users:",it)});return()=>K()},[]),B.useEffect(()=>{const K=x1(w1,it=>{const ct=it.docs.map(dt=>({...dt.data(),id:dt.id}));d(ct)},it=>{console.error("Error fetching commissions:",it)});return()=>K()},[]);const m=async(K,it)=>{try{if(p.some(Et=>Et.username===K))return{success:!1,message:"Username already exists."};const dt={username:K,password:it,role:K.toLowerCase()==="fezeaix"?"admin":"user"};return await A1(xs(Rr,"users",K),dt),{success:!0,message:"Registration successful! Please login."}}catch(ct){return console.error("Registration error:",ct),{success:!1,message:"Registration failed due to server error."}}},E=async(K,it)=>{try{const ct=p.find(dt=>dt.username===K&&dt.password===it);return ct?(i(ct),localStorage.setItem("currentUser",JSON.stringify(ct)),{success:!0,message:"Login successful!"}):{success:!1,message:"Invalid username or password."}}catch(ct){return console.error("Login error:",ct),{success:!1,message:"Login failed due to server error."}}},A=()=>{i(null),localStorage.removeItem("currentUser")},R=async K=>{try{const it={id:Date.now().toString(),...K,status:"New Request",timestamp:new Date().toISOString(),messages:[{id:Date.now()+1,sender:"System",text:`New Commission Request for ${K.commissionType} received. Price: $${K.price}. The artist will contact you via this chat to confirm details.`,timestamp:new Date().toISOString()}]};return await A1(xs(w1),it),{success:!0,message:"Commission request submitted successfully! Please check your Messages for updates from the artist."}}catch(it){return console.error("Add commission error:",it),{success:!1,message:"Failed to submit commission request."}}},L=async K=>{try{return await Gx(xs(Rr,"commissions",K)),{success:!0,message:"Commission request deleted."}}catch(it){return console.error("Delete commission error:",it),{success:!1,message:"Failed to delete commission request."}}},Y=async(K,it)=>{try{const ct=xs(Rr,"commissions",K);return await vd(ct,{status:it,timestamp:new Date().toISOString()}),{success:!0,message:"Commission status updated."}}catch(ct){return console.error("Update status error:",ct),{success:!1,message:"Failed to update commission status."}}},Z=async(K,it,ct)=>{if(ct.trim())try{const dt=xs(Rr,"commissions",K),Et=c.find(x=>x.id===K);if(!Et)return{success:!1};const D={id:Date.now()+Math.random(),sender:it,text:ct,timestamp:new Date().toISOString()};return await vd(dt,{messages:[...Et.messages||[],D],status:Et.status==="New Request"?"In Discussion":Et.status}),{success:!0}}catch(dt){return console.error("Add message error:",dt),{success:!1}}},H=async(K,it)=>{if(!e)return{success:!1,message:"User not logged in."};try{if(e.password!==K)return{success:!1,message:"Current password is incorrect."};const ct=xs(Rr,"users",e.username);await vd(ct,{password:it});const dt={...e,password:it};return i(dt),localStorage.setItem("currentUser",JSON.stringify(dt)),{success:!0,message:"Password updated successfully!"}}catch(ct){return console.error("Change password error:",ct),{success:!1,message:"Failed to change password."}}},et={user:e,loading:s,register:m,login:E,logout:A,isAuthenticated:!!e,isAdmin:e&&e.role==="admin",commissionRequests:c,addCommissionRequest:R,deleteCommissionRequest:L,addMessageToCommissionRequest:Z,updateCommissionStatus:Y,changePassword:H};return b.jsx(C_.Provider,{value:et,children:a})};function Zx(){const[a,e]=B.useState(""),[i,s]=B.useState(""),[o,c]=B.useState(""),{login:d}=Tn(),p=Fs(),y=async m=>{if(m.preventDefault(),c(""),!a||!i){c("Please enter both username and password.");return}const E=await d(a,i);E.success?p("/dashboard/gallery"):c(E.message)};return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-800",children:b.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Login to Fezeaix Commission"}),b.jsxs("form",{onSubmit:y,children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Username"}),b.jsx("input",{type:"text",id:"username",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username",value:a,onChange:m=>e(m.target.value)})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Password"}),b.jsx("input",{type:"password",id:"password",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"********",value:i,onChange:m=>s(m.target.value)})]}),o&&b.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:o}),b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-full transition-colors duration-200",children:"Sign In"})}),b.jsxs("p",{className:"text-center text-gray-600 text-sm mt-4",children:["Don't have an account? ",b.jsx(Xn,{to:"/register",className:"text-blue-600 hover:text-blue-800 font-bold transition-colors duration-200",children:"Register here"})]})]})]})})}const Jx=a=>a.length<8||a.length>16?"Password must be between 8 and 16 characters long.":/[A-Z]/.test(a)?/[a-z]/.test(a)?/[0-9]/.test(a)?null:"Password must contain at least one number (0-9).":"Password must contain at least one lowercase letter (a-z).":"Password must contain at least one uppercase letter (A-Z).";function Wx(){const[a,e]=B.useState(""),[i,s]=B.useState(""),[o,c]=B.useState(""),[d,p]=B.useState(""),[y,m]=B.useState(""),[E,A]=B.useState(""),{register:R}=Tn(),L=Fs(),Y=async Z=>{if(Z.preventDefault(),m(""),A(""),!i||!o||!a||!d){m("Please fill in all fields.");return}if(o!==d){m("Passwords do not match.");return}const H=Jx(o);if(H){m(H);return}const et=await R(i,o);et.success?(A(et.message),setTimeout(()=>{L("/login")},2e3)):m(et.message)};return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-800",children:b.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Create your Fezeaix Account"}),b.jsxs("form",{onSubmit:Y,children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"displayname",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Display Name"}),b.jsx("input",{type:"text",id:"displayname",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your display name",value:a,onChange:Z=>e(Z.target.value)})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Username"}),b.jsx("input",{type:"text",id:"username",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Choose a username",value:i,onChange:Z=>s(Z.target.value)})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Password"}),b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Min 8-16 chars, include A-Z, a-z, 0-9."}),b.jsx("input",{type:"password",id:"password",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",value:o,onChange:Z=>c(Z.target.value)})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"confirmPassword",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Confirm Password"}),b.jsx("input",{type:"password",id:"confirmPassword",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",value:d,onChange:Z=>p(Z.target.value)})]}),y&&b.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:y}),E&&b.jsx("p",{className:"text-green-500 text-sm mb-4 text-center",children:E}),b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-full transition-colors duration-200",children:"Register"})}),b.jsxs("p",{className:"text-center text-gray-600 text-sm mt-4",children:["Already have an account?",b.jsx(Xn,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-bold transition-colors duration-200",children:"Login here"})]})]})]})})}var N_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R1=ja.createContext&&ja.createContext(N_),tw=["attr","size","title"];function ew(a,e){if(a==null)return{};var i=nw(a,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function nw(a,e){if(a==null)return{};var i={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(e.indexOf(s)>=0)continue;i[s]=a[s]}return i}function jc(){return jc=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},jc.apply(this,arguments)}function C1(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function zc(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?C1(Object(i),!0).forEach(function(s){iw(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):C1(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}function iw(a,e,i){return e=aw(e),e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function aw(a){var e=rw(a,"string");return typeof e=="symbol"?e:e+""}function rw(a,e){if(typeof a!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function D_(a){return a&&a.map((e,i)=>ja.createElement(e.tag,zc({key:i},e.attr),D_(e.child)))}function Oe(a){return e=>ja.createElement(sw,jc({attr:zc({},a.attr)},e),D_(a.child))}function sw(a){var e=i=>{var{attr:s,size:o,title:c}=a,d=ew(a,tw),p=o||i.size||"1em",y;return i.className&&(y=i.className),a.className&&(y=(y?y+" ":"")+a.className),ja.createElement("svg",jc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,d,{className:y,style:zc(zc({color:a.color||i.color},i.style),a.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&ja.createElement("title",null,c),a.children)};return R1!==void 0?ja.createElement(R1.Consumer,null,i=>e(i)):e(N_)}function lw(a){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(a)}function ow(a){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(a)}function uw(a){return Oe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(a)}function cw(a){return Oe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(a)}function hw(a){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(a)}function fw(a){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(a)}function dw(a){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(a)}function mw(a){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(a)}function V_(a){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(a)}function gw(a){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(a)}function pw(a){return Oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(a)}function yw(a){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(a)}function Fd(a){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"},child:[]}]})(a)}function M_(a){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(a)}function vw(a){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},child:[]}]})(a)}function _w(a){return Oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(a)}function Ew(a){return Oe({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(a)}function I_(a){return Oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(a)}function bw(a){return Oe({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(a)}function Tw(){const{user:a,logout:e,commissionRequests:i,isAdmin:s}=Tn(),o=Fs(),c=()=>{e(),o("/login")},d=i.filter(p=>p.status==="New Request").length;return console.log("Current User:",a),console.log("Is Admin:",s),b.jsxs("div",{className:"flex h-screen bg-gray-100",children:[b.jsxs("aside",{className:"w-72 bg-blue-900 text-blue-100 flex flex-col shadow-lg",children:[b.jsxs("div",{className:"p-5 text-2xl font-bold border-b border-blue-800 flex items-center",children:[b.jsx(Fd,{className:"mr-3 text-blue-300"}),"Fezeaix Commission"]}),b.jsx("nav",{className:"flex-1 p-5",children:b.jsxs("ul",{children:[b.jsx("li",{className:"mb-2",children:b.jsxs(Xn,{to:"/dashboard/gallery",className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200",children:[b.jsx(gw,{className:"mr-3 text-blue-300"})," Gallery"]})}),b.jsx("li",{className:"mb-2",children:b.jsxs(Xn,{to:"/dashboard/commission",className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200",children:[b.jsx(Fd,{className:"mr-3 text-blue-300"})," Commission"]})}),!s&&b.jsx("li",{className:"mb-2",children:b.jsxs(Xn,{to:"/dashboard/messages",className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200",children:[b.jsx(fw,{className:"mr-3 text-blue-300"})," Messages"]})}),!s&&b.jsx("li",{className:"mb-2",children:b.jsxs(Xn,{to:"/dashboard/history",className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200",children:[b.jsx(V_,{className:"mr-3 text-blue-300"})," History"]})}),s&&b.jsx("li",{className:"mb-2",children:b.jsxs(Xn,{to:"/dashboard/inbox",className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200",children:[b.jsx(pw,{className:"mr-3 text-blue-300"})," Inbox",d>0&&b.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:d})]})}),b.jsx("li",{className:"mb-2",children:b.jsxs(Xn,{to:"/dashboard/queue",className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200",children:[b.jsx(yw,{className:"mr-3 text-blue-300"})," Queue"]})}),b.jsx("li",{className:"mb-2",children:b.jsxs(Xn,{to:"/dashboard/settings",className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200",children:[b.jsx(hw,{className:"mr-3 text-blue-300"})," Settings"]})})]})}),b.jsx("div",{className:"p-5 border-t border-blue-800",children:b.jsxs("button",{onClick:c,className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200 w-full",children:[b.jsx(_w,{className:"mr-3 text-blue-300"})," Logout"]})})]}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[b.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-white border-b border-gray-200 shadow-sm z-10",children:[b.jsxs("h1",{className:"text-xl font-semibold text-gray-800",children:["Welcome, ",a?a.username:"Guest","!"]}),b.jsx("div",{className:"flex items-center space-x-4",children:s&&d>0&&b.jsxs("button",{className:"text-gray-500 hover:text-blue-600 relative",children:[b.jsx(lw,{className:"text-xl"}),b.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-4 h-4 flex items-center justify-center rounded-full",children:d})]})})]}),b.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:b.jsx(fb,{})})]})]})}const Sw=""+new URL("art1.1-DCuravIE.png",import.meta.url).href,Aw=""+new URL("art1.2-B6Iqhhz4.png",import.meta.url).href,xw=""+new URL("art1-CbDPtxvT.png",import.meta.url).href,ww=""+new URL("art2-jkhjJiZ0.png",import.meta.url).href,Rw=""+new URL("art3-DdDvzTdT.png",import.meta.url).href,Cw=""+new URL("art4.1-B-a3XYda.png",import.meta.url).href,Nw=""+new URL("art4.2-Cahwdkl3.png",import.meta.url).href,Dw=""+new URL("art4-YQIqTJVT.png",import.meta.url).href,Vw=""+new URL("art5.1-CZZstCHB.png",import.meta.url).href,Mw=""+new URL("art5-CLPO2HS7.png",import.meta.url).href,Iw=""+new URL("art6.1-B4EZmlFS.png",import.meta.url).href,Ow=""+new URL("art6-CERsBu3s.png",import.meta.url).href,jw=""+new URL("art7.1-BxocYA7A.png",import.meta.url).href,zw=""+new URL("art7.2-xicbCdwj.png",import.meta.url).href,Lw=""+new URL("art7-BRizx3x5.png",import.meta.url).href,Uw=""+new URL("art8-DBQB1TcH.png",import.meta.url).href,Pw=""+new URL("art9-nhgN9dYk.jpg",import.meta.url).href,Bw=""+new URL("art10.1-CB4g4l2r.png",import.meta.url).href,kw=""+new URL("art10.2-DI9XsGn7.png",import.meta.url).href,qw=""+new URL("art10.3-CMaG_Xy2.jpg",import.meta.url).href,Hw=""+new URL("art10.4-CAFhE7ty.jpg",import.meta.url).href,Fw=""+new URL("art10-D610wGHz.png",import.meta.url).href,Gw=""+new URL("art11-ywWSusCC.png",import.meta.url).href,Qw=""+new URL("art12-5rWRyq-n.png",import.meta.url).href,Yw=""+new URL("art13-Dp52JEvp.png",import.meta.url).href,Kw=""+new URL("art14-sgDQDkxG.jpg",import.meta.url).href,Xw=""+new URL("art15-CdNGEzqJ.png",import.meta.url).href,$w=""+new URL("art16.1-DkyAzIus.png",import.meta.url).href,Zw=""+new URL("art16-D5dKL5Qr.png",import.meta.url).href,Jw=""+new URL("art17-Ch4aJ19n.png",import.meta.url).href,Ww=""+new URL("art18-2c9wammY.PNG",import.meta.url).href;function t3(){const a=[{id:"1.1",src:Sw,title:"Mystical Forest"},{id:"1.2",src:Aw,title:"Mystical Forest"},{id:"1",src:xw,title:"Dragon Rider"},{id:"2",src:ww,title:"Starry Night Wanderer"},{id:"3",src:Rw,title:"Ancient Guardian"},{id:"4.1",src:Cw,title:"Mystical Forest"},{id:"4.2",src:Nw,title:"Mystical Forest"},{id:"4",src:Dw,title:"Desert Oasis"},{id:"5.1",src:Vw,title:"Mystical Forest"},{id:"5",src:Mw,title:"Frozen Peaks"},{id:"6.1",src:Iw,title:"Mystical Forest"},{id:"6",src:Ow,title:"City at Dusk"},{id:"7.1",src:jw,title:"Mystical Forest"},{id:"7.2",src:zw,title:"Mystical Forest"},{id:"7",src:Lw,title:"Oceanic Depths"},{id:"8",src:Uw,title:"Floating Islands"},{id:"9",src:Pw,title:"Mystical Forest"},{id:"10.1",src:Bw,title:"Mystical Forest"},{id:"10.2",src:kw,title:"Mystical Forest"},{id:"10.3",src:qw,title:"Mystical Forest"},{id:"10.4",src:Hw,title:"Mystical Forest"},{id:"10",src:Fw,title:"Mystical Forest"},{id:"11",src:Gw,title:"Mystical Forest"},{id:"12",src:Qw,title:"Mystical Forest"},{id:"13",src:Yw,title:"Mystical Forest"},{id:"14",src:Kw,title:"Mystical Forest"},{id:"15",src:Xw,title:"Mystical Forest"},{id:"16.1",src:$w,title:"Mystical Forest"},{id:"16",src:Zw,title:"Mystical Forest"},{id:"17",src:Jw,title:"Mystical Forest"},{id:"18",src:Ww,title:"Mystical Forest"}],[e,i]=B.useState(null),s=c=>{i(c)},o=()=>{i(null)};return b.jsxs("div",{className:"bg-white rounded-xl shadow-lg h-full p-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Art Gallery"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"This is where all your amazing artworks will be displayed!"}),b.jsx("div",{className:"flex flex-wrap justify-center gap-6 mt-4",children:a.map(c=>b.jsx("div",{className:"w-64 h-64 cursor-pointer flex-shrink-0 flex items-center justify-center",onClick:()=>s(c),children:b.jsx("img",{src:c.src,alt:c.title,className:"max-w-full max-h-full object-contain"})},c.id))}),e&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:o,children:b.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl max-h-[90vh] overflow-hidden",onClick:c=>c.stopPropagation(),children:[b.jsx("button",{className:"absolute top-2 right-2 text-white text-3xl font-bold bg-gray-800 rounded-full w-10 h-10 flex items-center justify-center",onClick:o,children:""}),b.jsx("img",{src:e.src,alt:e.title,className:"max-w-full max-h-[85vh] object-contain mx-auto my-auto"}),b.jsx("div",{className:"p-4 text-center bg-gray-100 border-t",children:b.jsx("p",{className:"text-lg font-semibold text-center text-gray-800",children:e.title})})]})})]})}const e3=[{id:"basic-sketch",title:"Basic Sketch",description:"A simple black and white line art piece.",price:20,buttonColor:"blue",images:["https://via.placeholder.com/400x300/60A5FA/FFFFFF?text=Sketch+Example+1","https://via.placeholder.com/400x300/60A5FA/FFFFFF?text=Sketch+Example+2","https://via.placeholder.com/400x300/60A5FA/FFFFFF?text=Sketch+Example+3"]},{id:"full-color-bust",title:"Full Color Bust",description:"A detailed, fully colored character bust.",price:80,buttonColor:"purple",images:["https://via.placeholder.com/400x300/A78BFA/FFFFFF?text=Full+Color+Example+1","https://via.placeholder.com/400x300/A78BFA/FFFFFF?text=Full+Color+Example+2"]}],n3=`

  
 
  / 
  


 4-7 

////
 (+15)
.

////
gmail
google drive
 


 1  3 
 
 
  
  x2.5
  //
  2 +20
     (reference)
**DM**
`;function i3({commission:a,onClose:e,onSubmit:i,requesterUsername:s}){const[o,c]=B.useState(0),[d,p]=B.useState(!1),[y,m]=B.useState(!1),[E,A]=B.useState(""),[R,L]=B.useState(""),Y=H=>{const et=a.images.length;let K=o+H;K<0&&(K=et-1),K>=et&&(K=0),c(K)},Z=async()=>{if(!d){A("You must accept the Terms of Service to proceed.");return}m(!0),A(""),L("");const H={commissionType:a.title,price:a.price,requesterUsername:s},et=i(H);m(!1),et.success?(L(et.message),setTimeout(e,2e3)):A(et.message||"Failed to submit request.")};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4 animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[95vh] overflow-hidden flex flex-col animate-scale-up",onClick:H=>H.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[b.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Request: ",a.title," ($",a.price,")"]}),b.jsx("button",{className:"text-gray-400 hover:text-gray-700 transition-colors",onClick:e,children:b.jsx(Ew,{size:24})})]}),b.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 overflow-hidden",children:[b.jsxs("div",{className:"relative flex items-center justify-center bg-gray-100 p-4",children:[b.jsx("img",{src:a.images[o],alt:`${a.title} Example ${o+1}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-md"}),a.images.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>Y(-1),className:"absolute left-4 p-3 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75 transition-colors",children:b.jsx(uw,{})}),b.jsx("button",{onClick:()=>Y(1),className:"absolute right-4 p-3 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75 transition-colors",children:b.jsx(cw,{})})]}),b.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2",children:a.images.map((H,et)=>b.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${et===o?"bg-white scale-125":"bg-gray-400"}`},et))})]}),b.jsxs("div",{className:"p-6 flex flex-col overflow-y-auto custom-scroll",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Commission Details"}),b.jsx("p",{className:"text-gray-600 mb-2",children:a.description}),b.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",a.price]})]}),b.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 border-t pt-4",children:"Terms of Service"}),b.jsx("div",{className:"bg-gray-50 p-4 rounded-lg text-sm text-gray-700 max-h-40 overflow-y-auto custom-scroll mb-4",children:n3.split(`
`).filter(H=>H.trim()!=="").map((H,et)=>b.jsx("p",{className:"mb-1",children:H},et))}),E&&b.jsx("p",{className:"text-red-500 text-sm mb-3",children:E}),R&&b.jsx("p",{className:"text-green-500 text-sm mb-3",children:R})]})]}),b.jsxs("div",{className:"p-5 border-t border-gray-200 flex flex-col space-y-3",children:[b.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-300 rounded-lg",children:[b.jsx("input",{type:"checkbox",id:"accept-terms",checked:d,onChange:H=>p(H.target.checked),className:"h-5 w-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer"}),b.jsxs("label",{htmlFor:"accept-terms",className:"text-gray-500 font-semibold cursor-pointer select-none",children:["I accept Fezeaix ",b.jsx(mw,{className:"inline text-purple-500 mx-1"}),"'s Terms of Service"]})]}),b.jsx("button",{onClick:Z,disabled:!d||y,className:`py-3 rounded-xl font-bold text-white transition-all duration-300 shadow-lg ${!d||y?"bg-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"}`,children:y?"Submitting Request...":"Accept terms to start request"})]})]})})}function a3(){const{addCommissionRequest:a,user:e}=Tn(),[i,s]=B.useState(!1),[o,c]=B.useState(null),d=m=>{s(!0),c(m)},p=()=>{c(null),s(!1)},y=m=>a({...m,description:`[Commission request for ${m.commissionType}. Client will contact artist via inbox for details.]`});return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Information"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"Here you can define your commission scales, show examples, and outline terms for your clients."}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e3.map(m=>b.jsxs("div",{className:`bg-${m.buttonColor}-50 p-6 rounded-xl shadow-md border ${m.buttonColor==="blue"?"border-blue-200":"border-purple-200"} flex flex-col`,children:[b.jsx("h3",{className:`font-bold ${m.buttonColor==="blue"?"text-blue-800":"text-purple-800"} text-xl mb-2`,children:m.title}),b.jsx("p",{className:`${m.buttonColor==="blue"?"text-blue-700":"text-purple-700"} text-sm mb-4 flex-grow`,children:m.description}),b.jsxs("div",{className:`relative w-full h-40 mb-4 rounded-lg overflow-hidden ${m.buttonColor==="blue"?"bg-blue-100":"bg-purple-100"} flex items-center justify-center`,children:[b.jsx("img",{src:m.images[0],alt:`${m.title} Example`,className:"w-full h-full object-cover"}),b.jsx("span",{className:`absolute bottom-2 right-2 ${m.buttonColor==="blue"?"bg-blue-600":"bg-purple-600"} text-white text-xs px-2 py-1 rounded-full`,children:m.title.toUpperCase()})]}),b.jsxs("p",{className:`${m.buttonColor==="blue"?"text-blue-900":"text-purple-900"} font-bold text-xl mb-4`,children:["Price: $",m.price]}),b.jsx("button",{onClick:()=>d(m),className:`mt-auto ${m.buttonColor==="blue"?"bg-blue-600 hover:bg-blue-700":"bg-purple-600 hover:bg-purple-700"} text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 shadow-md`,children:"Start Request"})]},m.id))}),i&&o&&b.jsx(i3,{commission:o,onClose:p,onSubmit:y,requesterUsername:e?.username})]})}const r3=["New Request","In Discussion","Pending Payment","In Progress","Sketch Sent","Revisions","Completed","On Hold","Canceled"],O_=a=>{switch(a){case"New Request":return"bg-red-100 text-red-800 border-red-300";case"In Discussion":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"Pending Payment":return"bg-orange-100 text-orange-800 border-orange-300";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-300";case"Sketch Sent":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"Revisions":return"bg-purple-100 text-purple-800 border-purple-300";case"Completed":return"bg-green-100 text-green-800 border-green-300";case"On Hold":return"bg-gray-100 text-gray-800 border-gray-300";case"Canceled":return"bg-gray-200 text-gray-500 border-gray-400";default:return"bg-gray-50 text-gray-700 border-gray-300"}};function s3({request:a,updateStatus:e,deleteRequest:i}){const[s,o]=B.useState(!1),[c,d]=B.useState(a.status),p=()=>{e(a.id,c),o(!1)},y=()=>{window.confirm(`Are you sure you want to permanently delete the commission from ${a.requesterUsername}?`)&&i(a.id)};return b.jsx("div",{className:"flex items-center space-x-2",children:s?b.jsxs(b.Fragment,{children:[b.jsx("select",{value:c,onChange:m=>d(m.target.value),className:`p-1 text-sm border rounded ${O_(c)}`,children:r3.map(m=>b.jsx("option",{value:m,children:m},m))}),b.jsx("button",{onClick:p,className:"p-1 bg-green-500 hover:bg-green-600 text-white rounded transition-colors",title:"Save Status",children:b.jsx(ow,{size:14})}),b.jsx("button",{onClick:()=>o(!1),className:"p-1 bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors",title:"Cancel",children:""})]}):b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>o(!0),className:"p-1 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",title:"Edit Status",children:b.jsx(dw,{size:14})}),b.jsx("button",{onClick:y,className:"p-1 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Delete Request",children:b.jsx(I_,{size:14})})]})})}function l3(){const{commissionRequests:a,isAdmin:e,updateCommissionStatus:i,deleteCommissionRequest:s}=Tn(),o=a.slice().sort((c,d)=>new Date(c.timestamp)-new Date(d.timestamp));return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg min-h-full",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Queue"}),b.jsx("p",{className:"text-gray-600 mb-6",children:e?"As the artist, you can manage the status and priority of all client commissions here.":"View the current queue and the status of your commission requests here."}),o.length===0?b.jsx("p",{className:"text-gray-500 text-center py-8",children:"The commission queue is currently empty."}):b.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg border border-gray-200",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requester"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission Type"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e&&b.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((c,d)=>b.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:d+1}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.requesterUsername}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:c.commissionType}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold",children:["$",c.price]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${O_(c.status)}`,children:c.status})}),e&&b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:b.jsx(s3,{request:c,updateStatus:i,deleteRequest:s})})]},c.id))})]})})]})}const o3=a=>a.length<8||a.length>16?"Password must be between 8 and 16 characters long.":/[A-Z]/.test(a)?/[a-z]/.test(a)?/[0-9]/.test(a)?null:"Password must contain at least one number (0-9).":"Password must contain at least one lowercase letter (a-z).":"Password must contain at least one uppercase letter (A-Z).";function u3(){const[a,e]=B.useState(""),[i,s]=B.useState(""),[o,c]=B.useState(""),[d,p]=B.useState(""),[y,m]=B.useState(""),{changePassword:E}=Tn(),A=R=>{if(R.preventDefault(),p(""),m(""),!a||!i||!o){p("Please fill in all fields.");return}if(i!==o){p("New password and confirmation do not match.");return}const L=o3(i);if(L){p(L);return}if(i===a){p("New password must be different from the current password.");return}const Y=E(a,i);Y.success?(m(Y.message),e(""),s(""),c("")):p(Y.message)};return b.jsxs("div",{className:"mt-4 border p-6 rounded-lg shadow-sm",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Change Password"}),b.jsxs("form",{onSubmit:A,className:"space-y-4 max-w-lg",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),b.jsx("input",{type:"password",id:"currentPassword",value:a,onChange:R=>e(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Min 8-16 chars, include A-Z, a-z, 0-9."}),b.jsx("input",{type:"password",id:"newPassword",value:i,onChange:R=>s(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),b.jsx("input",{type:"password",id:"confirmNewPassword",value:o,onChange:R=>c(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),d&&b.jsx("p",{className:"text-red-500 text-sm",children:d}),y&&b.jsx("p",{className:"text-green-500 text-sm",children:y}),b.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-colors duration-200 disabled:bg-gray-400",children:"Change Password"})]})]})}function c3(){const{user:a,isAdmin:e}=Tn();return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Account Settings"}),b.jsxs("div",{className:"mb-6",children:[b.jsx("p",{className:"text-gray-600 mb-2",children:"Manage your account details and security settings here."}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Username: ",b.jsx("span",{className:"font-bold text-blue-600",children:a?.username})]}),b.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Role: ",b.jsx("span",{className:`font-bold ${e?"text-red-600":"text-green-600"}`,children:e?"Artist (Admin)":"Client (User)"})]})]})]}),b.jsx(u3,{}),e&&b.jsxs("div",{className:"mt-8 border-t pt-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Artist/Commission Settings"}),b.jsx("p",{className:"text-gray-600",children:"This area is for managing commission terms, pricing, and other artist-specific settings."})]})]})}function h3({request:a,currentUser:e,addMessage:i}){const[s,o]=B.useState(""),c=B.useRef(null);B.useEffect(()=>{c.current?.scrollIntoView({behavior:"smooth"})},[a.messages]);const d=p=>{p.preventDefault(),s.trim()&&(i(a.id,e.username,s.trim()),o(""))};return b.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-200 rounded-xl shadow-md",children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center",children:[b.jsx(bw,{size:24,className:"mr-3 text-blue-500"}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Chat with: ",a.requesterUsername]}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Commission: ",a.commissionType," | Price: $",a.price]})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scroll",children:[a.messages&&a.messages.map(p=>{const y=p.sender===e.username;return p.sender==="System"?b.jsxs("div",{className:"text-center text-xs text-gray-400 italic",children:[new Date(p.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",p.text]},p.id):b.jsx("div",{className:`flex ${y?"justify-end":"justify-start"}`,children:b.jsxs("div",{className:`max-w-[70%] px-4 py-2 rounded-xl shadow-md ${y?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-tl-none"}`,children:[b.jsx("p",{className:"font-semibold text-xs mb-1 opacity-80",children:y?"Me (Artist)":p.sender}),b.jsx("p",{className:"text-sm break-words",children:p.text}),b.jsx("span",{className:`block text-right mt-1 ${y?"text-blue-100":"text-gray-500"} text-xs`,children:new Date(p.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},p.id)}),b.jsx("div",{ref:c})," "]}),b.jsx("form",{onSubmit:d,className:"p-4 border-t border-gray-200 bg-gray-50",children:b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("input",{type:"text",value:s,onChange:p=>o(p.target.value),placeholder:"Type a message to the client...",className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",disabled:!a.id}),b.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-xl transition-colors duration-200 disabled:bg-gray-400",disabled:!s.trim(),children:b.jsx(M_,{size:20})})]})})]})}function f3(){const{commissionRequests:a,deleteCommissionRequest:e,user:i,addMessageToCommissionRequest:s}=Tn(),o=a.slice().sort((m,E)=>new Date(E.timestamp)-new Date(m.timestamp)),[c,d]=B.useState(o.length>0?o[0]:null);B.useEffect(()=>{const m=a.slice().sort((E,A)=>new Date(A.timestamp)-new Date(E.timestamp))[0];if(c){const E=a.find(A=>A.id===c.id);d(E||null)}else m&&d(m)},[a,i]);const p=m=>{window.confirm("Are you sure you want to delete this commission request? This action is permanent.")&&(e(m),c&&c.id===m&&d(null))},y=(m,E,A)=>{s(m,E,A)};return b.jsxs("div",{className:"p-6 h-full bg-white rounded-xl shadow-lg flex flex-col",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Inbox"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"Here you can manage incoming commission requests and communicate directly with the clients."}),b.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[b.jsx("div",{className:"overflow-y-auto custom-scroll md:col-span-1",children:a.length===0?b.jsx("p",{className:"text-gray-500 text-center py-8",children:"No new commission requests in your inbox."}):b.jsx("div",{className:"space-y-3",children:o.map(m=>{const E=c&&c.id===m.id,A=m.messages&&m.messages.length>0?m.messages[m.messages.length-1]:null;return b.jsxs("div",{onClick:()=>d(m),className:`p-4 rounded-lg shadow-sm border transition-all duration-200 cursor-pointer ${E?"bg-blue-100 border-blue-400 ring-2 ring-blue-500":"bg-gray-50 border-gray-200 hover:bg-gray-100"} flex items-center justify-between`,children:[b.jsxs("div",{className:"flex-1 mr-4",children:[b.jsxs("p",{className:"font-semibold text-gray-800 text-lg",children:[b.jsx("span",{className:"text-blue-600",children:m.requesterUsername})," requested ",b.jsx("span",{className:"text-purple-600",children:m.commissionType})]}),b.jsxs("p",{className:"text-gray-600 text-sm",children:["Price: ",b.jsxs("span",{className:"font-medium",children:["$",m.price]})," | Status: ",b.jsx("span",{className:"font-medium text-green-700",children:m.status})]}),A&&b.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[b.jsxs("span",{className:"font-medium",children:[A.sender===i.username?"You":A.sender,":"]})," ",A.text]})]}),b.jsx("button",{onClick:R=>{R.stopPropagation(),p(m.id)},className:"text-red-500 hover:text-red-700 p-2 rounded-full transition-colors duration-200 flex-shrink-0",title:"Delete Request",children:b.jsx(I_,{size:16})})]},m.id)})})}),c?b.jsx("div",{className:"md:col-span-2 h-full min-h-[400px] md:min-h-0",children:b.jsx(h3,{request:c,currentUser:i,addMessage:y})}):b.jsx("div",{className:"md:col-span-2 flex items-center justify-center text-gray-500 text-lg",children:"Select a commission request to start chatting."})]})]})}function d3({request:a,currentUser:e,addMessage:i}){const[s,o]=B.useState(""),c=B.useRef(null);B.useEffect(()=>{c.current?.scrollIntoView({behavior:"smooth"})},[a.messages]);const d=p=>{p.preventDefault(),s.trim()&&(i(a.id,e.username,s.trim()),o(""))};return b.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-200 rounded-xl shadow-md",children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center",children:[b.jsx(Fd,{size:24,className:"mr-3 text-purple-500"}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Chat for: ",a.commissionType]}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Artist: Fezeaix | Status: ",a.status]})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scroll",children:[a.messages&&a.messages.map(p=>{const y=p.sender===e.username;return p.sender==="System"?b.jsxs("div",{className:"text-center text-xs text-gray-400 italic",children:[new Date(p.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",p.text]},p.id):b.jsx("div",{className:`flex ${y?"justify-end":"justify-start"}`,children:b.jsxs("div",{className:`max-w-[70%] px-4 py-2 rounded-xl shadow-md ${y?"bg-purple-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-tl-none"}`,children:[b.jsx("p",{className:"font-semibold text-xs mb-1 opacity-80",children:y?"Me":p.sender}),b.jsx("p",{className:"text-sm break-words",children:p.text}),b.jsx("span",{className:`block text-right mt-1 ${y?"text-purple-100":"text-gray-500"} text-xs`,children:new Date(p.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},p.id)}),b.jsx("div",{ref:c})]}),b.jsx("form",{onSubmit:d,className:"p-4 border-t border-gray-200 bg-gray-50",children:b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("input",{type:"text",value:s,onChange:p=>o(p.target.value),placeholder:"Type a message to the artist...",className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors"}),b.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white p-3 rounded-xl transition-colors duration-200 disabled:bg-gray-400",disabled:!s.trim(),children:b.jsx(M_,{size:20})})]})})]})}function m3(){const{commissionRequests:a,user:e,addMessageToCommissionRequest:i}=Tn(),s=a.filter(y=>y.requesterUsername===e?.username),[o,c]=B.useState(s.length>0?s[0]:null);B.useEffect(()=>{const y=a.filter(m=>m.requesterUsername===e?.username).slice().sort((m,E)=>new Date(E.timestamp)-new Date(m.timestamp));if(o){const m=a.find(E=>E.id===o.id);c(m||null)}else y.length>0&&c(y[0])},[a,e?.username]);const d=(y,m,E)=>{i(y,m,E)},p=s.slice().sort((y,m)=>new Date(m.timestamp)-new Date(y.timestamp));return s.length===0?b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Commission Messages"}),b.jsx("p",{className:"text-gray-500 text-center py-8",children:"You have no active commission requests yet. Please visit the Commission page to start one."})]}):b.jsxs("div",{className:"p-6 h-full bg-white rounded-xl shadow-lg flex flex-col",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Commission Messages"}),b.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[b.jsx("div",{className:"overflow-y-auto custom-scroll md:col-span-1",children:b.jsx("div",{className:"space-y-3",children:p.map(y=>{const m=o&&o.id===y.id,E=y.messages&&y.messages.length>0?y.messages[y.messages.length-1]:null;return b.jsxs("div",{onClick:()=>c(y),className:`p-4 rounded-lg shadow-sm border transition-all duration-200 cursor-pointer ${m?"bg-purple-100 border-purple-400 ring-2 ring-purple-500":"bg-gray-50 border-gray-200 hover:bg-gray-100"} flex flex-col`,children:[b.jsxs("p",{className:"font-semibold text-gray-800 text-lg",children:["Request: ",b.jsx("span",{className:"text-purple-600",children:y.commissionType})]}),b.jsxs("p",{className:"text-gray-600 text-sm",children:["Status: ",b.jsx("span",{className:"font-medium text-green-700",children:y.status})]}),E&&b.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[b.jsxs("span",{className:"font-medium",children:[E.sender===e.username?"You":E.sender,":"]})," ",E.text]})]},y.id)})})}),o?b.jsx("div",{className:"md:col-span-2 h-full min-h-[400px]",children:b.jsx(d3,{request:o,currentUser:e,addMessage:d})}):b.jsx("div",{className:"md:col-span-2 flex items-center justify-center text-gray-500 text-lg",children:"Select a commission request to view the chat."})]})]})}const g3=a=>{switch(a){case"New Request":return"bg-red-100 text-red-800 border-red-300";case"In Discussion":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"Pending Payment":return"bg-orange-100 text-orange-800 border-orange-300";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-300";case"Sketch Sent":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"Revisions":return"bg-purple-100 text-purple-800 border-purple-300";case"Completed":return"bg-green-100 text-green-800 border-green-300";case"On Hold":return"bg-gray-100 text-gray-800 border-gray-300";case"Canceled":return"bg-gray-200 text-gray-500 border-gray-400";default:return"bg-gray-50 text-gray-700 border-gray-300"}};function p3(){const{user:a,commissionRequests:e}=Tn(),i=Fs(),s=e.filter(c=>c.requesterUsername===a?.username).sort((c,d)=>new Date(d.timestamp)-new Date(c.timestamp)),o=c=>{alert(`Requesting: ${c}. Please go to the Commission page to re-submit with new details.`),i("/dashboard/commission")};return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg min-h-full",children:[b.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 flex items-center",children:[b.jsx(V_,{className:"mr-3 text-gray-500"})," My Commission History"]}),b.jsx("p",{className:"text-gray-600 mb-6",children:"View all your past and current commission requests."}),s.length===0?b.jsx("p",{className:"text-gray-500 text-center py-8",children:"You have no commission history yet."}):b.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg border border-gray-200",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested On"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission Type"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),b.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Re-Request"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((c,d)=>b.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[s.length-d," "]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(c.timestamp).toLocaleDateString()}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:c.commissionType}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold",children:["$",c.price]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${g3(c.status)}`,children:c.status})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:b.jsxs("button",{onClick:()=>o(c.commissionType),className:"p-1.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center mx-auto space-x-1 text-xs font-semibold",title:"Use this request as a new template",children:[b.jsx(vw,{size:12}),b.jsx("span",{children:"Re-Request"})]})})]},c.id))})]})})]})}const y3="/fezeaix-commission/";function _d({children:a}){const{isAuthenticated:e,loading:i}=Tn();return i?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:b.jsx("p",{className:"text-xl text-gray-700",children:"Loading user data..."})}):e?a:b.jsx(Ds,{to:"/login",replace:!0})}function v3({children:a}){const{isAuthenticated:e,isAdmin:i,loading:s}=Tn();return console.log("AdminProtectedRoute - Is Authenticated:",e),console.log("AdminProtectedRoute - Is Admin:",i),console.log("AdminProtectedRoute - Loading:",s),s?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:b.jsx("p",{className:"text-xl text-gray-700",children:"Loading user data..."})}):e?i?(console.log("AdminProtectedRoute - Access Granted"),a):(console.log("AdminProtectedRoute - Redirecting to /dashboard/gallery (Not Admin)"),b.jsx(Ds,{to:"/dashboard/gallery",replace:!0})):(console.log("AdminProtectedRoute - Redirecting to /login"),b.jsx(Ds,{to:"/login",replace:!0}))}function _3(){const{isAuthenticated:a,loading:e}=Tn();return b.jsx(Lb,{basename:y3,children:b.jsxs(mb,{children:[b.jsx(En,{path:"/login",element:b.jsx(Zx,{})}),b.jsx(En,{path:"/register",element:b.jsx(Wx,{})}),b.jsxs(En,{path:"/dashboard",element:b.jsx(_d,{children:b.jsx(Tw,{})}),children:[b.jsx(En,{path:"gallery",element:b.jsx(t3,{})}),b.jsx(En,{path:"commission",element:b.jsx(a3,{})}),b.jsx(En,{path:"queue",element:b.jsx(l3,{})}),b.jsx(En,{path:"settings",element:b.jsx(c3,{})}),b.jsx(En,{path:"messages",element:b.jsx(_d,{children:b.jsx(m3,{})})}),b.jsx(En,{path:"history",element:b.jsx(_d,{children:b.jsx(p3,{})})}),b.jsx(En,{path:"inbox",element:b.jsx(v3,{children:b.jsx(f3,{})})}),b.jsx(En,{index:!0,element:b.jsx(Ds,{to:"gallery",replace:!0})})]}),b.jsx(En,{path:"/",element:e?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:b.jsx("p",{className:"text-xl text-gray-700",children:"Loading..."})}):a?b.jsx(Ds,{to:"/dashboard/gallery",replace:!0}):b.jsx(Ds,{to:"/login",replace:!0})})]})})}bE.createRoot(document.getElementById("root")).render(b.jsx(ja.StrictMode,{children:b.jsxs($x,{children:[" ",b.jsx(_3,{})]})}));
