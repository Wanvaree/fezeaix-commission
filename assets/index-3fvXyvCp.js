(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function $1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hd={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function sb(){if(py)return so;py=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:u}}return so.Fragment=t,so.jsx=a,so.jsxs=a,so}var yy;function rb(){return yy||(yy=1,hd.exports=sb()),hd.exports}var b=rb(),dd={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function lb(){if(xy)return Ee;xy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),N=Symbol.iterator;function V(j){return j===null||typeof j!="object"?null:(j=N&&j[N]||j["@@iterator"],typeof j=="function"?j:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,B={};function Z(j,W,le){this.props=j,this.context=W,this.refs=B,this.updater=le||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(j,W){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,W,"setState")},Z.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function te(){}te.prototype=Z.prototype;function re(j,W,le){this.props=j,this.context=W,this.refs=B,this.updater=le||H}var ve=re.prototype=new te;ve.constructor=re,G(ve,Z.prototype),ve.isPureReactComponent=!0;var we=Array.isArray;function se(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(j,W,le){var ue=le.ref;return{$$typeof:i,type:j,key:W,ref:ue!==void 0?ue:null,props:le}}function I(j,W){return R(j.type,W,j.props)}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function z(j){var W={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(le){return W[le]})}var w=/\/+/g;function de(j,W){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):W.toString(36)}function Ve(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(se,se):(j.status="pending",j.then(function(W){j.status==="pending"&&(j.status="fulfilled",j.value=W)},function(W){j.status==="pending"&&(j.status="rejected",j.reason=W)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function X(j,W,le,ue,_e){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var Ue=!1;if(j===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(j.$$typeof){case i:case t:Ue=!0;break;case _:return Ue=j._init,X(Ue(j._payload),W,le,ue,_e)}}if(Ue)return _e=_e(j),Ue=ue===""?"."+de(j,0):ue,we(_e)?(le="",Ue!=null&&(le=Ue.replace(w,"$&/")+"/"),X(_e,W,le,"",function(ts){return ts})):_e!=null&&(M(_e)&&(_e=I(_e,le+(_e.key==null||j&&j.key===_e.key?"":(""+_e.key).replace(w,"$&/")+"/")+Ue)),W.push(_e)),1;Ue=0;var Dt=ue===""?".":ue+":";if(we(j))for(var st=0;st<j.length;st++)ue=j[st],Ce=Dt+de(ue,st),Ue+=X(ue,W,le,Ce,_e);else if(st=V(j),typeof st=="function")for(j=st.call(j),st=0;!(ue=j.next()).done;)ue=ue.value,Ce=Dt+de(ue,st++),Ue+=X(ue,W,le,Ce,_e);else if(Ce==="object"){if(typeof j.then=="function")return X(Ve(j),W,le,ue,_e);throw W=String(j),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(j,W,le){if(j==null)return j;var ue=[],_e=0;return X(j,ue,"","",function(Ce){return W.call(le,Ce,_e++)}),ue}function me(j){if(j._status===-1){var W=j._result;W=W(),W.then(function(le){(j._status===0||j._status===-1)&&(j._status=1,j._result=le)},function(le){(j._status===0||j._status===-1)&&(j._status=2,j._result=le)}),j._status===-1&&(j._status=0,j._result=W)}if(j._status===1)return j._result.default;throw j._result}var Re=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},He={map:ae,forEach:function(j,W,le){ae(j,function(){W.apply(this,arguments)},le)},count:function(j){var W=0;return ae(j,function(){W++}),W},toArray:function(j){return ae(j,function(W){return W})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ee.Activity=T,Ee.Children=He,Ee.Component=Z,Ee.Fragment=a,Ee.Profiler=o,Ee.PureComponent=re,Ee.StrictMode=r,Ee.Suspense=y,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},Ee.cache=function(j){return function(){return j.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(j,W,le){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ue=G({},j.props),_e=j.key;if(W!=null)for(Ce in W.key!==void 0&&(_e=""+W.key),W)!A.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(ue[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=le;else if(1<Ce){for(var Ue=Array(Ce),Dt=0;Dt<Ce;Dt++)Ue[Dt]=arguments[Dt+2];ue.children=Ue}return R(j.type,_e,ue)},Ee.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Ee.createElement=function(j,W,le){var ue,_e={},Ce=null;if(W!=null)for(ue in W.key!==void 0&&(Ce=""+W.key),W)A.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=W[ue]);var Ue=arguments.length-2;if(Ue===1)_e.children=le;else if(1<Ue){for(var Dt=Array(Ue),st=0;st<Ue;st++)Dt[st]=arguments[st+2];_e.children=Dt}if(j&&j.defaultProps)for(ue in Ue=j.defaultProps,Ue)_e[ue]===void 0&&(_e[ue]=Ue[ue]);return R(j,Ce,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(j){return{$$typeof:m,render:j}},Ee.isValidElement=M,Ee.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:me}},Ee.memo=function(j,W){return{$$typeof:g,type:j,compare:W===void 0?null:W}},Ee.startTransition=function(j){var W=C.T,le={};C.T=le;try{var ue=j(),_e=C.S;_e!==null&&_e(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(se,Re)}catch(Ce){Re(Ce)}finally{W!==null&&le.types!==null&&(W.types=le.types),C.T=W}},Ee.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ee.use=function(j){return C.H.use(j)},Ee.useActionState=function(j,W,le){return C.H.useActionState(j,W,le)},Ee.useCallback=function(j,W){return C.H.useCallback(j,W)},Ee.useContext=function(j){return C.H.useContext(j)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(j,W){return C.H.useDeferredValue(j,W)},Ee.useEffect=function(j,W){return C.H.useEffect(j,W)},Ee.useEffectEvent=function(j){return C.H.useEffectEvent(j)},Ee.useId=function(){return C.H.useId()},Ee.useImperativeHandle=function(j,W,le){return C.H.useImperativeHandle(j,W,le)},Ee.useInsertionEffect=function(j,W){return C.H.useInsertionEffect(j,W)},Ee.useLayoutEffect=function(j,W){return C.H.useLayoutEffect(j,W)},Ee.useMemo=function(j,W){return C.H.useMemo(j,W)},Ee.useOptimistic=function(j,W){return C.H.useOptimistic(j,W)},Ee.useReducer=function(j,W,le){return C.H.useReducer(j,W,le)},Ee.useRef=function(j){return C.H.useRef(j)},Ee.useState=function(j){return C.H.useState(j)},Ee.useSyncExternalStore=function(j,W,le){return C.H.useSyncExternalStore(j,W,le)},Ee.useTransition=function(){return C.H.useTransition()},Ee.version="19.2.0",Ee}var vy;function rm(){return vy||(vy=1,dd.exports=lb()),dd.exports}var U=rm();const Bi=$1(U);var md={exports:{}},ro={},gd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function ob(){return _y||(_y=1,(function(i){function t(X,ae){var me=X.length;X.push(ae);e:for(;0<me;){var Re=me-1>>>1,He=X[Re];if(0<o(He,ae))X[Re]=ae,X[me]=He,me=Re;else break e}}function a(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],me=X.pop();if(me!==ae){X[0]=me;e:for(var Re=0,He=X.length,j=He>>>1;Re<j;){var W=2*(Re+1)-1,le=X[W],ue=W+1,_e=X[ue];if(0>o(le,me))ue<He&&0>o(_e,le)?(X[Re]=_e,X[ue]=me,Re=ue):(X[Re]=le,X[W]=me,Re=W);else if(ue<He&&0>o(_e,me))X[Re]=_e,X[ue]=me,Re=ue;else break e}}return ae}function o(X,ae){var me=X.sortIndex-ae.sortIndex;return me!==0?me:X.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],g=[],_=1,T=null,N=3,V=!1,H=!1,G=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ve(X){for(var ae=a(g);ae!==null;){if(ae.callback===null)r(g);else if(ae.startTime<=X)r(g),ae.sortIndex=ae.expirationTime,t(y,ae);else break;ae=a(g)}}function we(X){if(G=!1,ve(X),!H)if(a(y)!==null)H=!0,se||(se=!0,z());else{var ae=a(g);ae!==null&&Ve(we,ae.startTime-X)}}var se=!1,C=-1,A=5,R=-1;function I(){return B?!0:!(i.unstable_now()-R<A)}function M(){if(B=!1,se){var X=i.unstable_now();R=X;var ae=!0;try{e:{H=!1,G&&(G=!1,te(C),C=-1),V=!0;var me=N;try{t:{for(ve(X),T=a(y);T!==null&&!(T.expirationTime>X&&I());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,N=T.priorityLevel;var He=Re(T.expirationTime<=X);if(X=i.unstable_now(),typeof He=="function"){T.callback=He,ve(X),ae=!0;break t}T===a(y)&&r(y),ve(X)}else r(y);T=a(y)}if(T!==null)ae=!0;else{var j=a(g);j!==null&&Ve(we,j.startTime-X),ae=!1}}break e}finally{T=null,N=me,V=!1}ae=void 0}}finally{ae?z():se=!1}}}var z;if(typeof re=="function")z=function(){re(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,de=w.port2;w.port1.onmessage=M,z=function(){de.postMessage(null)}}else z=function(){Z(M,0)};function Ve(X,ae){C=Z(function(){X(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(X){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var me=N;N=ae;try{return X()}finally{N=me}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=N;N=X;try{return ae()}finally{N=me}},i.unstable_scheduleCallback=function(X,ae,me){var Re=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Re+me:Re):me=Re,X){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=me+He,X={id:_++,callback:ae,priorityLevel:X,startTime:me,expirationTime:He,sortIndex:-1},me>Re?(X.sortIndex=me,t(g,X),a(y)===null&&X===a(g)&&(G?(te(C),C=-1):G=!0,Ve(we,me-Re))):(X.sortIndex=He,t(y,X),H||V||(H=!0,se||(se=!0,z()))),X},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(X){var ae=N;return function(){var me=N;N=ae;try{return X.apply(this,arguments)}finally{N=me}}}})(pd)),pd}var by;function ub(){return by||(by=1,gd.exports=ob()),gd.exports}var yd={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function cb(){if(Ey)return Xt;Ey=1;var i=rm();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:y,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(y,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,_)},Xt.flushSync=function(y){var g=h.T,_=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=g,r.p=_,r.d.f()}},Xt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},Xt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Xt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:N,fetchPriority:V}):_==="script"&&r.d.X(y,{crossOrigin:T,integrity:N,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},Xt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);r.d.L(y,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(y,g){if(typeof y=="string")if(g){var _=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},Xt.requestFormReset=function(y){r.d.r(y)},Xt.unstable_batchedUpdates=function(y,g){return y(g)},Xt.useFormState=function(y,g,_){return h.H.useFormState(y,g,_)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var Ty;function fb(){if(Ty)return yd.exports;Ty=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),yd.exports=cb(),yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function hb(){if(Sy)return ro;Sy=1;var i=ub(),t=rm(),a=fb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return y(f),e;if(d===l)return y(f),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=f,l=d;else{for(var x=!1,E=f.child;E;){if(E===s){x=!0,s=f,l=d;break}if(E===l){x=!0,l=f,s=d;break}E=E.sibling}if(!x){for(E=d.child;E;){if(E===s){x=!0,s=d,l=f;break}if(E===l){x=!0,l=d,s=f;break}E=E.sibling}if(!x)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case we:return"Suspense";case se:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case re:return e.displayName||"Context";case te:return(e._context.displayName||"Context")+".Consumer";case ve:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:de(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return de(e(n))}catch{}}return null}var Ve=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Re=[],He=-1;function j(e){return{current:e}}function W(e){0>He||(e.current=Re[He],Re[He]=null,He--)}function le(e,n){He++,Re[He]=e.current,e.current=n}var ue=j(null),_e=j(null),Ce=j(null),Ue=j(null);function Dt(e,n){switch(le(Ce,n),le(_e,e),le(ue,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Pp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Pp(n),e=Bp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ue),le(ue,e)}function st(){W(ue),W(_e),W(Ce)}function ts(e){e.memoizedState!==null&&le(Ue,e);var n=ue.current,s=Bp(n,e.type);n!==s&&(le(_e,e),le(ue,s))}function Bs(e){_e.current===e&&(W(ue),W(_e)),Ue.current===e&&(W(Ue),to._currentValue=me)}var ks,qs;function ia(e){if(ks===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ks=n&&n[1]||"",qs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+e+qs}var tl=!1;function ns(e,n){if(!e||tl)return"";tl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var F=Y}Reflect.construct(e,[],J)}else{try{J.call()}catch(Y){F=Y}e.call(J.prototype)}}else{try{throw Error()}catch(Y){F=Y}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),x=d[0],E=d[1];if(x&&E){var D=x.split(`
`),q=E.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===q.length)for(l=D.length-1,f=q.length-1;1<=l&&0<=f&&D[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==q[f]){var K=`
`+D[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=f);break}}}finally{tl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ia(s):""}function nl(e,n){switch(e.tag){case 26:case 27:case 5:return ia(e.type);case 16:return ia("Lazy");case 13:return e.child!==n&&n!==null?ia("Suspense Fallback"):ia("Suspense");case 19:return ia("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return ia("Activity");default:return""}}function al(e){try{var n="",s=null;do n+=nl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,si=i.unstable_cancelCallback,mf=i.unstable_shouldYield,Uo=i.unstable_requestPaint,Jt=i.unstable_now,as=i.unstable_getCurrentPriorityLevel,il=i.unstable_ImmediatePriority,sl=i.unstable_UserBlockingPriority,ri=i.unstable_NormalPriority,gf=i.unstable_LowPriority,Po=i.unstable_IdlePriority,Bo=i.log,ko=i.unstable_setDisableYieldValue,kn=null,Pt=null;function Sn(e){if(typeof Bo=="function"&&ko(e),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(kn,e)}catch{}}var dt=Math.clz32?Math.clz32:Ho,qo=Math.log,Hs=Math.LN2;function Ho(e){return e>>>=0,e===0?32:31-(qo(e)/Hs|0)|0}var sa=256,is=262144,vt=4194304;function ra(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function la(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?f=ra(l):(x&=E,x!==0?f=ra(x):s||(s=E&~e,s!==0&&(f=ra(s))))):(E=l&~d,E!==0?f=ra(E):x!==0?f=ra(x):s||(s=l&~e,s!==0&&(f=ra(s)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:f}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function pf(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var e=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),e}function oa(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ss(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yf(e,n,s,l,f,d){var x=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,D=e.expirationTimes,q=e.hiddenUpdates;for(s=x&~s;0<s;){var K=31-dt(s),J=1<<K;E[K]=0,D[K]=-1;var F=q[K];if(F!==null)for(q[K]=null,K=0;K<F.length;K++){var Y=F[K];Y!==null&&(Y.lane&=-536870913)}s&=~J}l!==0&&rs(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(x&~n))}function rs(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-dt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function rl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-dt(s),f=1<<l;f&n|e[l]&n&&(e[l]|=n),s&=~f}}function ll(e,n){var s=n&-n;return s=(s&42)!==0?1:ls(s),(s&(e.suspendedLanes|n))!==0?0:s}function ls(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Go(){var e=ae.p;return e!==0?e:(e=window.event,e===void 0?32:uy(e.type))}function Hn(e,n){var s=ae.p;try{return ae.p=e,n()}finally{ae.p=s}}var Fn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Fn,jt="__reactProps$"+Fn,ua="__reactContainer$"+Fn,Fs="__reactEvents$"+Fn,xf="__reactListeners$"+Fn,Qo="__reactHandles$"+Fn,Yo="__reactResources$"+Fn,ca="__reactMarker$"+Fn;function Gs(e){delete e[_t],delete e[jt],delete e[Fs],delete e[xf],delete e[Qo]}function fa(e){var n=e[_t];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ua]||s[_t]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Yp(e);e!==null;){if(s=e[_t])return s;e=Yp(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[_t]||e[ua]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ha(e){var n=e[Yo];return n||(n=e[Yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(e){e[ca]=!0}var ol=new Set,ul={};function da(e,n){ma(e,n),ma(e+"Capture",n)}function ma(e,n){for(ul[e]=n,e=0;e<n.length;e++)ol.add(n[e])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},hl={};function Xo(e){return xt.call(hl,e)?!0:xt.call(fl,e)?!1:cl.test(e)?hl[e]=!0:(fl[e]=!0,!1)}function Qs(e,n,s){if(Xo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Et(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function li(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(x){s=""+x,d.call(this,x)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(x){s=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ye(e){if(!e._valueTracker){var n=li(e)?"checked":"value";e._valueTracker=dl(e,n,""+e[n])}}function os(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=li(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var us=/[\n"\\]/g;function tn(e){return e.replace(us,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ys(e,n,s,l,f,d,x,E){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),n!=null?x==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+zt(n)):e.value!==""+zt(n)&&(e.value=""+zt(n)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),n!=null?ml(e,x,zt(n)):s!=null?ml(e,x,zt(s)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+zt(E):e.removeAttribute("name")}function Ko(e,n,s,l,f,d,x,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Ye(e);return}s=s!=null?""+zt(s):"",n=n!=null?""+zt(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Ye(e)}function ml(e,n,s){n==="number"&&ga(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function oi(e,n,s,l){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&l&&(e[s].defaultSelected=!0)}else{for(s=""+zt(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function $o(e,n,s){if(n!=null&&(n=""+zt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+zt(s):""}function ui(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(Ve(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=zt(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Ye(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Zo.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function pl(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&s[f]!==l&&gl(e,f,l)}else for(var d in n)n.hasOwnProperty(d)&&gl(e,d,n[d])}function Xs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ci=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return ci.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var yl=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fi=null,pa=null;function cs(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[jt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ys(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var f=l[jt]||null;if(!f)throw Error(r(90));Ys(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&os(l)}break e;case"textarea":$o(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&oi(e,!!s.multiple,n,!1)}}}var $s=!1;function hi(e,n,s){if($s)return e(n,s);$s=!0;try{var l=e(n);return l}finally{if($s=!1,(fi!==null||pa!==null)&&(Gu(),fi&&(n=fi,e=pa,pa=fi=null,cs(n),e)))for(n=0;n<e.length;n++)cs(e[n])}}function Qn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[jt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(Rn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){fs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{fs=!1}var ya=null,xl=null,hs=null;function vl(){if(hs)return hs;var e,n=xl,s=n.length,l,f="value"in ya?ya.value:ya.textContent,d=f.length;for(e=0;e<s&&n[e]===f[e];e++);var x=s-e;for(l=1;l<=x&&n[s-l]===f[d-l];l++);return hs=f.slice(e,1<l?1-l:void 0)}function ds(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ja(){return!0}function Yn(){return!1}function Bt(e){function n(s,l,f,d,x){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ja:Yn,this.isPropagationStopped=Yn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),n}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Bt(za),di=T({},za,{view:0,detail:0}),_l=Bt(di),mi,Zs,va,Js=T({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==va&&(va&&e.type==="mousemove"?(mi=e.screenX-va.screenX,Zs=e.screenY-va.screenY):Zs=mi=0,va=e),mi)},movementY:function(e){return"movementY"in e?e.movementY:Zs}}),bl=Bt(Js),ms=T({},Js,{dataTransfer:0}),Wo=Bt(ms),eu=T({},di,{relatedTarget:0}),gs=Bt(eu),El=T({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=Bt(El),Ws=T({},za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nu=Bt(Ws),au=T({},za,{data:0}),_a=Bt(au),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ru[e])?!!n[e]:!1}function gi(){return lu}var Wt=T({},di,{key:function(e){if(e.key){var n=iu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ou=Bt(Wt),uu=T({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),La=Bt(uu),c=T({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),p=Bt(c),v=T({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Bt(v),P=T({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Bt(P),ie=T({},za,{newState:0,oldState:0}),Se=Bt(ie),mt=[9,13,27,32],Fe=Rn&&"CompositionEvent"in window,rt=null;Rn&&"documentMode"in document&&(rt=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!rt,ba=Rn&&(!Fe||rt&&8<rt&&11>=rt),Xn=" ",Kn=!1;function ps(e,n){switch(e){case"keyup":return mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function er(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tr=!1;function Nv(e,n){switch(e){case"compositionend":return er(n);case"keypress":return n.which!==32?null:(Kn=!0,Xn);case"textInput":return e=n.data,e===Xn&&Kn?null:e;default:return null}}function Dv(e,n){if(tr)return e==="compositionend"||!Fe&&ps(e,n)?(e=vl(),hs=xl=ya=null,tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ba&&n.locale!=="ko"?null:n.data;default:return null}}var Mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Mv[e.type]:n==="textarea"}function Zm(e,n,s,l){fi?pa?pa.push(l):pa=[l]:fi=l,n=Ju(n,"onChange"),0<n.length&&(s=new xa("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Tl=null,Sl=null;function Vv(e){Ip(e,0)}function cu(e){var n=hn(e);if(os(n))return e}function Jm(e,n){if(e==="change")return n}var Wm=!1;if(Rn){var vf;if(Rn){var _f="oninput"in document;if(!_f){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),_f=typeof e0.oninput=="function"}vf=_f}else vf=!1;Wm=vf&&(!document.documentMode||9<document.documentMode)}function t0(){Tl&&(Tl.detachEvent("onpropertychange",n0),Sl=Tl=null)}function n0(e){if(e.propertyName==="value"&&cu(Sl)){var n=[];Zm(n,Sl,e,wn(e)),hi(Vv,n)}}function Iv(e,n,s){e==="focusin"?(t0(),Tl=n,Sl=s,Tl.attachEvent("onpropertychange",n0)):e==="focusout"&&t0()}function Ov(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cu(Sl)}function jv(e,n){if(e==="click")return cu(n)}function zv(e,n){if(e==="input"||e==="change")return cu(n)}function Lv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:Lv;function Al(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!xt.call(n,f)||!mn(e[f],n[f]))return!1}return!0}function a0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i0(e,n){var s=a0(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=a0(s)}}function s0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?s0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function r0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ga(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ga(e.document)}return n}function bf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Uv=Rn&&"documentMode"in document&&11>=document.documentMode,nr=null,Ef=null,wl=null,Tf=!1;function l0(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tf||nr==null||nr!==ga(l)||(l=nr,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wl&&Al(wl,l)||(wl=l,l=Ju(Ef,"onSelect"),0<l.length&&(n=new xa("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=nr)))}function ys(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ar={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Sf={},o0={};Rn&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function xs(e){if(Sf[e])return Sf[e];if(!ar[e])return e;var n=ar[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in o0)return Sf[e]=n[s];return e}var u0=xs("animationend"),c0=xs("animationiteration"),f0=xs("animationstart"),Pv=xs("transitionrun"),Bv=xs("transitionstart"),kv=xs("transitioncancel"),h0=xs("transitionend"),d0=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function $n(e,n){d0.set(e,n),da(n,[e])}var fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],ir=0,wf=0;function hu(){for(var e=ir,n=wf=ir=0;n<e;){var s=Nn[n];Nn[n++]=null;var l=Nn[n];Nn[n++]=null;var f=Nn[n];Nn[n++]=null;var d=Nn[n];if(Nn[n++]=null,l!==null&&f!==null){var x=l.pending;x===null?f.next=f:(f.next=x.next,x.next=f),l.pending=f}d!==0&&m0(s,f,d)}}function du(e,n,s,l){Nn[ir++]=e,Nn[ir++]=n,Nn[ir++]=s,Nn[ir++]=l,wf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Rf(e,n,s,l){return du(e,n,s,l),mu(e)}function vs(e,n){return du(e,null,null,n),mu(e)}function m0(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-dt(s),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=s|536870912),d):null}function mu(e){if(50<Xl)throw Xl=0,zh=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var sr={};function qv(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,l){return new qv(e,n,s,l)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ua(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function g0(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function gu(e,n,s,l,f,d){var x=0;if(l=e,typeof e=="function")Cf(e)&&(x=1);else if(typeof e=="string")x=Y_(e,s,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=gn(31,s,n,f),e.elementType=R,e.lanes=d,e;case G:return _s(s.children,f,d,n);case B:x=8,f|=24;break;case Z:return e=gn(12,s,n,f|2),e.elementType=Z,e.lanes=d,e;case we:return e=gn(13,s,n,f),e.elementType=we,e.lanes=d,e;case se:return e=gn(19,s,n,f),e.elementType=se,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case re:x=10;break e;case te:x=9;break e;case ve:x=11;break e;case C:x=14;break e;case A:x=16,l=null;break e}x=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=gn(x,s,n,f),n.elementType=e,n.type=l,n.lanes=d,n}function _s(e,n,s,l){return e=gn(7,e,l,n),e.lanes=s,e}function Nf(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function p0(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Df(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var y0=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var s=y0.get(e);return s!==void 0?s:(n={value:e,source:n,stack:al(n)},y0.set(e,n),n)}return{value:e,source:n,stack:al(n)}}var rr=[],lr=0,pu=null,Rl=0,Mn=[],Vn=0,pi=null,Ea=1,Ta="";function Pa(e,n){rr[lr++]=Rl,rr[lr++]=pu,pu=e,Rl=n}function x0(e,n,s){Mn[Vn++]=Ea,Mn[Vn++]=Ta,Mn[Vn++]=pi,pi=e;var l=Ea;e=Ta;var f=32-dt(l)-1;l&=~(1<<f),s+=1;var d=32-dt(n)+f;if(30<d){var x=f-f%5;d=(l&(1<<x)-1).toString(32),l>>=x,f-=x,Ea=1<<32-dt(n)+f|s<<f|l,Ta=d+e}else Ea=1<<d|s<<f|l,Ta=e}function Mf(e){e.return!==null&&(Pa(e,1),x0(e,1,0))}function Vf(e){for(;e===pu;)pu=rr[--lr],rr[lr]=null,Rl=rr[--lr],rr[lr]=null;for(;e===pi;)pi=Mn[--Vn],Mn[Vn]=null,Ta=Mn[--Vn],Mn[Vn]=null,Ea=Mn[--Vn],Mn[Vn]=null}function v0(e,n){Mn[Vn++]=Ea,Mn[Vn++]=Ta,Mn[Vn++]=pi,Ea=n.id,Ta=n.overflow,pi=e}var kt=null,tt=null,Le=!1,yi=null,In=!1,If=Error(r(519));function xi(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(Dn(n,e)),If}function _0(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[_t]=e,n[jt]=l,s){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<$l.length;s++)Me($l[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),Ko(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),ui(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Lp(n.textContent,s)?(l.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),l.onScroll!=null&&Me("scroll",n),l.onScrollEnd!=null&&Me("scrollend",n),l.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||xi(e,!0)}function b0(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:kt=kt.return}}function or(e){if(e!==kt)return!1;if(!Le)return b0(e),Le=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Zh(e.type,e.memoizedProps)),s=!s),s&&tt&&xi(e),b0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));tt=Qp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));tt=Qp(e)}else n===27?(n=tt,Vi(e.type)?(e=nd,nd=null,tt=e):tt=n):tt=kt?jn(e.stateNode.nextSibling):null;return!0}function bs(){tt=kt=null,Le=!1}function Of(){var e=yi;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),yi=null),e}function Cl(e){yi===null?yi=[e]:yi.push(e)}var jf=j(null),Es=null,Ba=null;function vi(e,n,s){le(jf,n._currentValue),n._currentValue=s}function ka(e){e._currentValue=jf.current,W(jf)}function zf(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Lf(e,n,s,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var x=f.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=f;for(var D=0;D<n.length;D++)if(E.context===n[D]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),zf(d.return,s,e),l||(x=null);break e}d=E.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(r(341));x.lanes|=s,d=x.alternate,d!==null&&(d.lanes|=s),zf(x,s,e),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===e){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function ur(e,n,s,l){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var E=f.type;mn(f.pendingProps.value,x.value)||(e!==null?e.push(E):e=[E])}}else if(f===Ue.current){if(x=f.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(to):e=[to])}f=f.return}e!==null&&Lf(n,e,s,l),n.flags|=262144}function yu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){Es=e,Ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return E0(Es,e)}function xu(e,n){return Es===null&&Ts(e),E0(e,n)}function E0(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ba===null){if(e===null)throw Error(r(308));Ba=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ba=Ba.next=n;return s}var Hv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},Fv=i.unstable_scheduleCallback,Gv=i.unstable_NormalPriority,Tt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new Hv,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&Fv(Gv,function(){e.controller.abort()})}var Dl=null,Pf=0,cr=0,fr=null;function Qv(e,n){if(Dl===null){var s=Dl=[];Pf=0,cr=qh(),fr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Pf++,n.then(T0,T0),n}function T0(){if(--Pf===0&&Dl!==null){fr!==null&&(fr.status="fulfilled");var e=Dl;Dl=null,cr=0,fr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Yv(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var S0=X.S;X.S=function(e,n){lp=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Qv(e,n),S0!==null&&S0(e,n)};var Ss=j(null);function Bf(){var e=Ss.current;return e!==null?e:et.pooledCache}function vu(e,n){n===null?le(Ss,Ss.current):le(Ss,n.pool)}function A0(){var e=Bf();return e===null?null:{parent:Tt._currentValue,pool:e}}var hr=Error(r(460)),kf=Error(r(474)),_u=Error(r(542)),bu={then:function(){}};function w0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function R0(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Gn,Gn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,N0(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,N0(e),e}throw ws=n,hr}}function As(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ws=s,hr):s}}var ws=null;function C0(){if(ws===null)throw Error(r(459));var e=ws;return ws=null,e}function N0(e){if(e===hr||e===_u)throw Error(r(483))}var dr=null,Ml=0;function Eu(e){var n=Ml;return Ml+=1,dr===null&&(dr=[]),R0(dr,e,n)}function Vl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Tu(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function D0(e){function n(L,O){if(e){var k=L.deletions;k===null?(L.deletions=[O],L.flags|=16):k.push(O)}}function s(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Ua(L,O),L.index=0,L.sibling=null,L}function d(L,O,k){return L.index=k,e?(k=L.alternate,k!==null?(k=k.index,k<O?(L.flags|=67108866,O):k):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function x(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,k,$){return O===null||O.tag!==6?(O=Nf(k,L.mode,$),O.return=L,O):(O=f(O,k),O.return=L,O)}function D(L,O,k,$){var ge=k.type;return ge===G?K(L,O,k.props.children,$,k.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&As(ge)===O.type)?(O=f(O,k.props),Vl(O,k),O.return=L,O):(O=gu(k.type,k.key,k.props,null,L.mode,$),Vl(O,k),O.return=L,O)}function q(L,O,k,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=Df(k,L.mode,$),O.return=L,O):(O=f(O,k.children||[]),O.return=L,O)}function K(L,O,k,$,ge){return O===null||O.tag!==7?(O=_s(k,L.mode,$,ge),O.return=L,O):(O=f(O,k),O.return=L,O)}function J(L,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Nf(""+O,L.mode,k),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return k=gu(O.type,O.key,O.props,null,L.mode,k),Vl(k,O),k.return=L,k;case H:return O=Df(O,L.mode,k),O.return=L,O;case A:return O=As(O),J(L,O,k)}if(Ve(O)||z(O))return O=_s(O,L.mode,k,null),O.return=L,O;if(typeof O.then=="function")return J(L,Eu(O),k);if(O.$$typeof===re)return J(L,xu(L,O),k);Tu(L,O)}return null}function F(L,O,k,$){var ge=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ge!==null?null:E(L,O,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case V:return k.key===ge?D(L,O,k,$):null;case H:return k.key===ge?q(L,O,k,$):null;case A:return k=As(k),F(L,O,k,$)}if(Ve(k)||z(k))return ge!==null?null:K(L,O,k,$,null);if(typeof k.then=="function")return F(L,O,Eu(k),$);if(k.$$typeof===re)return F(L,O,xu(L,k),$);Tu(L,k)}return null}function Y(L,O,k,$,ge){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(k)||null,E(O,L,""+$,ge);if(typeof $=="object"&&$!==null){switch($.$$typeof){case V:return L=L.get($.key===null?k:$.key)||null,D(O,L,$,ge);case H:return L=L.get($.key===null?k:$.key)||null,q(O,L,$,ge);case A:return $=As($),Y(L,O,k,$,ge)}if(Ve($)||z($))return L=L.get(k)||null,K(O,L,$,ge,null);if(typeof $.then=="function")return Y(L,O,k,Eu($),ge);if($.$$typeof===re)return Y(L,O,k,xu(O,$),ge);Tu(O,$)}return null}function ce(L,O,k,$){for(var ge=null,ke=null,he=O,Ne=O=0,Oe=null;he!==null&&Ne<k.length;Ne++){he.index>Ne?(Oe=he,he=null):Oe=he.sibling;var qe=F(L,he,k[Ne],$);if(qe===null){he===null&&(he=Oe);break}e&&he&&qe.alternate===null&&n(L,he),O=d(qe,O,Ne),ke===null?ge=qe:ke.sibling=qe,ke=qe,he=Oe}if(Ne===k.length)return s(L,he),Le&&Pa(L,Ne),ge;if(he===null){for(;Ne<k.length;Ne++)he=J(L,k[Ne],$),he!==null&&(O=d(he,O,Ne),ke===null?ge=he:ke.sibling=he,ke=he);return Le&&Pa(L,Ne),ge}for(he=l(he);Ne<k.length;Ne++)Oe=Y(he,L,Ne,k[Ne],$),Oe!==null&&(e&&Oe.alternate!==null&&he.delete(Oe.key===null?Ne:Oe.key),O=d(Oe,O,Ne),ke===null?ge=Oe:ke.sibling=Oe,ke=Oe);return e&&he.forEach(function(Li){return n(L,Li)}),Le&&Pa(L,Ne),ge}function ye(L,O,k,$){if(k==null)throw Error(r(151));for(var ge=null,ke=null,he=O,Ne=O=0,Oe=null,qe=k.next();he!==null&&!qe.done;Ne++,qe=k.next()){he.index>Ne?(Oe=he,he=null):Oe=he.sibling;var Li=F(L,he,qe.value,$);if(Li===null){he===null&&(he=Oe);break}e&&he&&Li.alternate===null&&n(L,he),O=d(Li,O,Ne),ke===null?ge=Li:ke.sibling=Li,ke=Li,he=Oe}if(qe.done)return s(L,he),Le&&Pa(L,Ne),ge;if(he===null){for(;!qe.done;Ne++,qe=k.next())qe=J(L,qe.value,$),qe!==null&&(O=d(qe,O,Ne),ke===null?ge=qe:ke.sibling=qe,ke=qe);return Le&&Pa(L,Ne),ge}for(he=l(he);!qe.done;Ne++,qe=k.next())qe=Y(he,L,Ne,qe.value,$),qe!==null&&(e&&qe.alternate!==null&&he.delete(qe.key===null?Ne:qe.key),O=d(qe,O,Ne),ke===null?ge=qe:ke.sibling=qe,ke=qe);return e&&he.forEach(function(ib){return n(L,ib)}),Le&&Pa(L,Ne),ge}function We(L,O,k,$){if(typeof k=="object"&&k!==null&&k.type===G&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case V:e:{for(var ge=k.key;O!==null;){if(O.key===ge){if(ge=k.type,ge===G){if(O.tag===7){s(L,O.sibling),$=f(O,k.props.children),$.return=L,L=$;break e}}else if(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&As(ge)===O.type){s(L,O.sibling),$=f(O,k.props),Vl($,k),$.return=L,L=$;break e}s(L,O);break}else n(L,O);O=O.sibling}k.type===G?($=_s(k.props.children,L.mode,$,k.key),$.return=L,L=$):($=gu(k.type,k.key,k.props,null,L.mode,$),Vl($,k),$.return=L,L=$)}return x(L);case H:e:{for(ge=k.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){s(L,O.sibling),$=f(O,k.children||[]),$.return=L,L=$;break e}else{s(L,O);break}else n(L,O);O=O.sibling}$=Df(k,L.mode,$),$.return=L,L=$}return x(L);case A:return k=As(k),We(L,O,k,$)}if(Ve(k))return ce(L,O,k,$);if(z(k)){if(ge=z(k),typeof ge!="function")throw Error(r(150));return k=ge.call(k),ye(L,O,k,$)}if(typeof k.then=="function")return We(L,O,Eu(k),$);if(k.$$typeof===re)return We(L,O,xu(L,k),$);Tu(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(s(L,O.sibling),$=f(O,k),$.return=L,L=$):(s(L,O),$=Nf(k,L.mode,$),$.return=L,L=$),x(L)):s(L,O)}return function(L,O,k,$){try{Ml=0;var ge=We(L,O,k,$);return dr=null,ge}catch(he){if(he===hr||he===_u)throw he;var ke=gn(29,he,null,L.mode);return ke.lanes=$,ke.return=L,ke}finally{}}}var Rs=D0(!0),M0=D0(!1),_i=!1;function qf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=mu(e),m0(e,null,s),n}return du(e,l,n,s),mu(e)}function Il(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,rl(e,s)}}function Ff(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var x={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=x:d=d.next=x,s=s.next}while(s!==null);d===null?f=d=n:d=d.next=n}else f=d=n;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Gf=!1;function Ol(){if(Gf){var e=fr;if(e!==null)throw e}}function jl(e,n,s,l){Gf=!1;var f=e.updateQueue;_i=!1;var d=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var D=E,q=D.next;D.next=null,x===null?d=q:x.next=q,x=D;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==x&&(E===null?K.firstBaseUpdate=q:E.next=q,K.lastBaseUpdate=D))}if(d!==null){var J=f.baseState;x=0,K=q=D=null,E=d;do{var F=E.lane&-536870913,Y=F!==E.lane;if(Y?(Ie&F)===F:(l&F)===F){F!==0&&F===cr&&(Gf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=e,ye=E;F=n;var We=s;switch(ye.tag){case 1:if(ce=ye.payload,typeof ce=="function"){J=ce.call(We,J,F);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ye.payload,F=typeof ce=="function"?ce.call(We,J,F):ce,F==null)break e;J=T({},J,F);break e;case 2:_i=!0}}F=E.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(q=K=Y,D=J):K=K.next=Y,x|=F;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);K===null&&(D=J),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Ri|=x,e.lanes=x,e.memoizedState=J}}function V0(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function I0(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)V0(s[e],n)}var mr=j(null),Su=j(0);function O0(e,n){e=$a,le(Su,e),le(mr,n),$a=e|n.baseLanes}function Qf(){le(Su,$a),le(mr,mr.current)}function Yf(){$a=Su.current,W(mr),W(Su)}var pn=j(null),On=null;function Ti(e){var n=e.alternate;le(gt,gt.current&1),le(pn,e),On===null&&(n===null||mr.current!==null||n.memoizedState!==null)&&(On=e)}function Xf(e){le(gt,gt.current),le(pn,e),On===null&&(On=e)}function j0(e){e.tag===22?(le(gt,gt.current),le(pn,e),On===null&&(On=e)):Si()}function Si(){le(gt,gt.current),le(pn,pn.current)}function yn(e){W(pn),On===e&&(On=null),W(gt)}var gt=j(0);function Au(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ed(s)||td(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qa=0,Ae=null,Ze=null,St=null,wu=!1,gr=!1,Cs=!1,Ru=0,zl=0,pr=null,Xv=0;function ct(){throw Error(r(321))}function Kf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function $f(e,n,s,l,f,d){return qa=d,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=e===null||e.memoizedState===null?xg:fh,Cs=!1,d=s(l,f),Cs=!1,gr&&(d=L0(n,s,l,f)),z0(e),d}function z0(e){X.H=Pl;var n=Ze!==null&&Ze.next!==null;if(qa=0,St=Ze=Ae=null,wu=!1,zl=0,pr=null,n)throw Error(r(300));e===null||At||(e=e.dependencies,e!==null&&yu(e)&&(At=!0))}function L0(e,n,s,l){Ae=e;var f=0;do{if(gr&&(pr=null),zl=0,gr=!1,25<=f)throw Error(r(301));if(f+=1,St=Ze=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=vg,d=n(s,l)}while(gr);return d}function Kv(){var e=X.H,n=e.useState()[0];return n=typeof n.then=="function"?Ll(n):n,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Ae.flags|=1024),n}function Zf(){var e=Ru!==0;return Ru=0,e}function Jf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Wf(e){if(wu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}wu=!1}qa=0,St=Ze=Ae=null,gr=!1,zl=Ru=0,pr=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ae.memoizedState=St=e:St=St.next=e,St}function pt(){if(Ze===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var n=St===null?Ae.memoizedState:St.next;if(n!==null)St=n,Ze=e;else{if(e===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?Ae.memoizedState=St=e:St=St.next=e}return St}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(e){var n=zl;return zl+=1,pr===null&&(pr=[]),e=R0(pr,e,n),n=Ae,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?xg:fh),e}function Nu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ll(e);if(e.$$typeof===re)return qt(e)}throw Error(r(438,String(e)))}function eh(e){var n=null,s=Ae.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Cu(),Ae.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=I;return n.index++,s}function Ha(e,n){return typeof n=="function"?n(e):n}function Du(e){var n=pt();return th(n,Ze,e)}function th(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var x=f.next;f.next=d.next,d.next=x}n.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var E=x=null,D=null,q=n,K=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Ie&J)===J:(qa&J)===J){var F=q.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===cr&&(K=!0);else if((qa&F)===F){q=q.next,F===cr&&(K=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=J,x=d):D=D.next=J,Ae.lanes|=F,Ri|=F;J=q.action,Cs&&s(d,J),d=q.hasEagerState?q.eagerState:s(d,J)}else F={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=F,x=d):D=D.next=F,Ae.lanes|=J,Ri|=J;q=q.next}while(q!==null&&q!==n);if(D===null?x=d:D.next=E,!mn(d,e.memoizedState)&&(At=!0,K&&(s=fr,s!==null)))throw s;e.memoizedState=d,e.baseState=x,e.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nh(e){var n=pt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,f=s.pending,d=n.memoizedState;if(f!==null){s.pending=null;var x=f=f.next;do d=e(d,x.action),x=x.next;while(x!==f);mn(d,n.memoizedState)||(At=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function U0(e,n,s){var l=Ae,f=pt(),d=Le;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var x=!mn((Ze||f).memoizedState,s);if(x&&(f.memoizedState=s,At=!0),f=f.queue,sh(k0.bind(null,l,f,e),[e]),f.getSnapshot!==n||x||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,yr(9,{destroy:void 0},B0.bind(null,l,f,s,n),null),et===null)throw Error(r(349));d||(qa&127)!==0||P0(l,n,s)}return s}function P0(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ae.updateQueue,n===null?(n=Cu(),Ae.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function B0(e,n,s,l){n.value=s,n.getSnapshot=l,q0(n)&&H0(e)}function k0(e,n,s){return s(function(){q0(n)&&H0(e)})}function q0(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function H0(e){var n=vs(e,2);n!==null&&on(n,e,2)}function ah(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Cs){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},n}function F0(e,n,s,l){return e.baseState=s,th(e,Ze,typeof l=="function"?l:Ha)}function $v(e,n,s,l,f){if(Iu(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){d.listeners.push(x)}};X.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,G0(n,d)):(d.next=s.next,n.pending=s.next=d)}}function G0(e,n){var s=n.action,l=n.payload,f=e.state;if(n.isTransition){var d=X.T,x={};X.T=x;try{var E=s(f,l),D=X.S;D!==null&&D(x,E),Q0(e,n,E)}catch(q){ih(e,n,q)}finally{d!==null&&x.types!==null&&(d.types=x.types),X.T=d}}else try{d=s(f,l),Q0(e,n,d)}catch(q){ih(e,n,q)}}function Q0(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Y0(e,n,l)},function(l){return ih(e,n,l)}):Y0(e,n,s)}function Y0(e,n,s){n.status="fulfilled",n.value=s,X0(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,G0(e,s)))}function ih(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,X0(n),n=n.next;while(n!==l)}e.action=null}function X0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function K0(e,n){return n}function $0(e,n){if(Le){var s=et.formState;if(s!==null){e:{var l=Ae;if(Le){if(tt){t:{for(var f=tt,d=In;f.nodeType!==8;){if(!d){f=null;break t}if(f=jn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=jn(f.nextSibling),l=f.data==="F!";break e}}xi(l)}l=!1}l&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K0,lastRenderedState:n},s.queue=l,s=gg.bind(null,Ae,l),l.dispatch=s,l=ah(!1),d=ch.bind(null,Ae,!1,l.queue),l=en(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,s=$v.bind(null,Ae,f,d,s),f.dispatch=s,l.memoizedState=e,[n,s,!1]}function Z0(e){var n=pt();return J0(n,Ze,e)}function J0(e,n,s){if(n=th(e,n,K0)[0],e=Du(Ha)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ll(n)}catch(x){throw x===hr?_u:x}else l=n;n=pt();var f=n.queue,d=f.dispatch;return s!==n.memoizedState&&(Ae.flags|=2048,yr(9,{destroy:void 0},Zv.bind(null,f,s),null)),[l,d,e]}function Zv(e,n){e.action=n}function W0(e){var n=pt(),s=Ze;if(s!==null)return J0(n,s,e);pt(),n=n.memoizedState,s=pt();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function yr(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=Cu(),Ae.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function eg(){return pt().memoizedState}function Mu(e,n,s,l){var f=en();Ae.flags|=e,f.memoizedState=yr(1|n,{destroy:void 0},s,l===void 0?null:l)}function Vu(e,n,s,l){var f=pt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&Kf(l,Ze.memoizedState.deps)?f.memoizedState=yr(n,d,s,l):(Ae.flags|=e,f.memoizedState=yr(1|n,d,s,l))}function tg(e,n){Mu(8390656,8,e,n)}function sh(e,n){Vu(2048,8,e,n)}function Jv(e){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=Cu(),Ae.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ng(e){var n=pt().memoizedState;return Jv({ref:n,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function ag(e,n){return Vu(4,2,e,n)}function ig(e,n){return Vu(4,4,e,n)}function sg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rg(e,n,s){s=s!=null?s.concat([e]):null,Vu(4,4,sg.bind(null,n,e),s)}function rh(){}function lg(e,n){var s=pt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Kf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function og(e,n){var s=pt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Kf(n,l[1]))return l[0];if(l=e(),Cs){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l}function lh(e,n,s){return s===void 0||(qa&1073741824)!==0&&(Ie&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=up(),Ae.lanes|=e,Ri|=e,s)}function ug(e,n,s,l){return mn(s,n)?s:mr.current!==null?(e=lh(e,s,l),mn(e,n)||(At=!0),e):(qa&42)===0||(qa&1073741824)!==0&&(Ie&261930)===0?(At=!0,e.memoizedState=s):(e=up(),Ae.lanes|=e,Ri|=e,n)}function cg(e,n,s,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var x=X.T,E={};X.T=E,ch(e,!1,n,s);try{var D=f(),q=X.S;if(q!==null&&q(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=Yv(D,l);Ul(e,n,K,_n(e))}else Ul(e,n,l,_n(e))}catch(J){Ul(e,n,{then:function(){},status:"rejected",reason:J},_n())}finally{ae.p=d,x!==null&&E.types!==null&&(x.types=E.types),X.T=x}}function Wv(){}function oh(e,n,s,l){if(e.tag!==5)throw Error(r(476));var f=fg(e).queue;cg(e,f,n,me,s===null?Wv:function(){return hg(e),s(l)})}function fg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:me},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function hg(e){var n=fg(e);n.next===null&&(n=e.alternate.memoizedState),Ul(e,n.next.queue,{},_n())}function uh(){return qt(to)}function dg(){return pt().memoizedState}function mg(){return pt().memoizedState}function e_(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();e=bi(s);var l=Ei(n,e,s);l!==null&&(on(l,n,s),Il(l,n,s)),n={cache:Uf()},e.payload=n;return}n=n.return}}function t_(e,n,s){var l=_n();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Iu(e)?pg(n,s):(s=Rf(e,n,s,l),s!==null&&(on(s,e,l),yg(s,n,l)))}function gg(e,n,s){var l=_n();Ul(e,n,s,l)}function Ul(e,n,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Iu(e))pg(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var x=n.lastRenderedState,E=d(x,s);if(f.hasEagerState=!0,f.eagerState=E,mn(E,x))return du(e,n,f,0),et===null&&hu(),!1}catch{}finally{}if(s=Rf(e,n,f,l),s!==null)return on(s,e,l),yg(s,n,l),!0}return!1}function ch(e,n,s,l){if(l={lane:2,revertLane:qh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Iu(e)){if(n)throw Error(r(479))}else n=Rf(e,s,l,2),n!==null&&on(n,e,2)}function Iu(e){var n=e.alternate;return e===Ae||n!==null&&n===Ae}function pg(e,n){gr=wu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function yg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,rl(e,s)}}var Pl={readContext:qt,use:Nu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Pl.useEffectEvent=ct;var xg={readContext:qt,use:Nu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qt,useEffect:tg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Mu(4194308,4,sg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Mu(4194308,4,e,n)},useInsertionEffect:function(e,n){Mu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var l=e();if(Cs){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=en();if(s!==void 0){var f=s(n);if(Cs){Sn(!0);try{s(n)}finally{Sn(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=t_.bind(null,Ae,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=ah(e);var n=e.queue,s=gg.bind(null,Ae,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:rh,useDeferredValue:function(e,n){var s=en();return lh(s,e,n)},useTransition:function(){var e=ah(!1);return e=cg.bind(null,Ae,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Ae,f=en();if(Le){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),et===null)throw Error(r(349));(Ie&127)!==0||P0(l,n,s)}f.memoizedState=s;var d={value:s,getSnapshot:n};return f.queue=d,tg(k0.bind(null,l,d,e),[e]),l.flags|=2048,yr(9,{destroy:void 0},B0.bind(null,l,d,s,n),null),s},useId:function(){var e=en(),n=et.identifierPrefix;if(Le){var s=Ta,l=Ea;s=(l&~(1<<32-dt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ru++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Xv++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:uh,useFormState:$0,useActionState:$0,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=ch.bind(null,Ae,!0,s),s.dispatch=n,[e,n]},useMemoCache:eh,useCacheRefresh:function(){return en().memoizedState=e_.bind(null,Ae)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Ge&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},fh={readContext:qt,use:Nu,useCallback:lg,useContext:qt,useEffect:sh,useImperativeHandle:rg,useInsertionEffect:ag,useLayoutEffect:ig,useMemo:og,useReducer:Du,useRef:eg,useState:function(){return Du(Ha)},useDebugValue:rh,useDeferredValue:function(e,n){var s=pt();return ug(s,Ze.memoizedState,e,n)},useTransition:function(){var e=Du(Ha)[0],n=pt().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:U0,useId:dg,useHostTransitionStatus:uh,useFormState:Z0,useActionState:Z0,useOptimistic:function(e,n){var s=pt();return F0(s,Ze,e,n)},useMemoCache:eh,useCacheRefresh:mg};fh.useEffectEvent=ng;var vg={readContext:qt,use:Nu,useCallback:lg,useContext:qt,useEffect:sh,useImperativeHandle:rg,useInsertionEffect:ag,useLayoutEffect:ig,useMemo:og,useReducer:nh,useRef:eg,useState:function(){return nh(Ha)},useDebugValue:rh,useDeferredValue:function(e,n){var s=pt();return Ze===null?lh(s,e,n):ug(s,Ze.memoizedState,e,n)},useTransition:function(){var e=nh(Ha)[0],n=pt().memoizedState;return[typeof e=="boolean"?e:Ll(e),n]},useSyncExternalStore:U0,useId:dg,useHostTransitionStatus:uh,useFormState:W0,useActionState:W0,useOptimistic:function(e,n){var s=pt();return Ze!==null?F0(s,Ze,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:eh,useCacheRefresh:mg};vg.useEffectEvent=ng;function hh(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:T({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var dh={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=_n(),f=bi(l);f.payload=n,s!=null&&(f.callback=s),n=Ei(e,f,l),n!==null&&(on(n,e,l),Il(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=_n(),f=bi(l);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Ei(e,f,l),n!==null&&(on(n,e,l),Il(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=_n(),l=bi(s);l.tag=2,n!=null&&(l.callback=n),n=Ei(e,l,s),n!==null&&(on(n,e,s),Il(n,e,s))}};function _g(e,n,s,l,f,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,x):n.prototype&&n.prototype.isPureReactComponent?!Al(s,l)||!Al(f,d):!0}function bg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&dh.enqueueReplaceState(n,n.state,null)}function Ns(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=T({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}function Eg(e){fu(e)}function Tg(e){console.error(e)}function Sg(e){fu(e)}function Ou(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ag(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mh(e,n,s){return s=bi(s),s.tag=3,s.payload={element:null},s.callback=function(){Ou(e,n)},s}function wg(e){return e=bi(e),e.tag=3,e}function Rg(e,n,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){Ag(n,s,l)}}var x=s.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Ag(n,s,l),typeof f!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function n_(e,n,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ur(n,s,f,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?Qu():s.alternate===null&&ft===0&&(ft=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===bu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Ph(e,l,f)),!1;case 22:return s.flags|=65536,l===bu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Ph(e,l,f)),!1}throw Error(r(435,s.tag))}return Ph(e,l,f),Qu(),!1}if(Le)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==If&&(e=Error(r(422),{cause:l}),Cl(Dn(e,s)))):(l!==If&&(n=Error(r(423),{cause:l}),Cl(Dn(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Dn(l,s),f=mh(e.stateNode,l,f),Ff(e,f),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:l});if(d=Dn(d,s),Yl===null?Yl=[d]:Yl.push(d),ft!==4&&(ft=2),n===null)return!0;l=Dn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=mh(s.stateNode,l,e),Ff(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=wg(f),Rg(f,e,s,l),Ff(s,f),!1}s=s.return}while(s!==null);return!1}var gh=Error(r(461)),At=!1;function Ht(e,n,s,l){n.child=e===null?M0(n,null,s,l):Rs(n,e.child,s,l)}function Cg(e,n,s,l,f){s=s.render;var d=n.ref;if("ref"in l){var x={};for(var E in l)E!=="ref"&&(x[E]=l[E])}else x=l;return Ts(n),l=$f(e,n,s,x,d,f),E=Zf(),e!==null&&!At?(Jf(e,n,f),Fa(e,n,f)):(Le&&E&&Mf(n),n.flags|=1,Ht(e,n,l,f),n.child)}function Ng(e,n,s,l,f){if(e===null){var d=s.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Dg(e,n,d,l,f)):(e=gu(s.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Th(e,f)){var x=d.memoizedProps;if(s=s.compare,s=s!==null?s:Al,s(x,l)&&e.ref===n.ref)return Fa(e,n,f)}return n.flags|=1,e=Ua(d,l),e.ref=n.ref,e.return=n,n.child=e}function Dg(e,n,s,l,f){if(e!==null){var d=e.memoizedProps;if(Al(d,l)&&e.ref===n.ref)if(At=!1,n.pendingProps=l=d,Th(e,f))(e.flags&131072)!==0&&(At=!0);else return n.lanes=e.lanes,Fa(e,n,f)}return ph(e,n,s,l,f)}function Mg(e,n,s,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=n.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,n.child=null;return Vg(e,n,d,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&vu(n,d!==null?d.cachePool:null),d!==null?O0(n,d):Qf(),j0(n);else return l=n.lanes=536870912,Vg(e,n,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(vu(n,d.cachePool),O0(n,d),Si(),n.memoizedState=null):(e!==null&&vu(n,null),Qf(),Si());return Ht(e,n,f,s),n.child}function Bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vg(e,n,s,l,f){var d=Bf();return d=d===null?null:{parent:Tt._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},e!==null&&vu(n,null),Qf(),j0(n),e!==null&&ur(e,n,l,!0),n.childLanes=f,null}function ju(e,n){return n=Lu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ig(e,n,s){return Rs(n,e.child,null,s),e=ju(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function a_(e,n,s){var l=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Le){if(l.mode==="hidden")return e=ju(n,l),n.lanes=536870912,Bl(null,e);if(Xf(n),(e=tt)?(e=Gp(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pi!==null?{id:Ea,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},s=p0(e),s.return=n,n.child=s,kt=n,tt=null)):e=null,e===null)throw xi(n);return n.lanes=536870912,null}return ju(n,l)}var d=e.memoizedState;if(d!==null){var x=d.dehydrated;if(Xf(n),f)if(n.flags&256)n.flags&=-257,n=Ig(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(At||ur(e,n,s,!1),f=(s&e.childLanes)!==0,At||f){if(l=et,l!==null&&(x=ll(l,s),x!==0&&x!==d.retryLane))throw d.retryLane=x,vs(e,x),on(l,e,x),gh;Qu(),n=Ig(e,n,s)}else e=d.treeContext,tt=jn(x.nextSibling),kt=n,Le=!0,yi=null,In=!1,e!==null&&v0(n,e),n=ju(n,l),n.flags|=4096;return n}return e=Ua(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function ph(e,n,s,l,f){return Ts(n),s=$f(e,n,s,l,void 0,f),l=Zf(),e!==null&&!At?(Jf(e,n,f),Fa(e,n,f)):(Le&&l&&Mf(n),n.flags|=1,Ht(e,n,s,f),n.child)}function Og(e,n,s,l,f,d){return Ts(n),n.updateQueue=null,s=L0(n,l,s,f),z0(e),l=Zf(),e!==null&&!At?(Jf(e,n,d),Fa(e,n,d)):(Le&&l&&Mf(n),n.flags|=1,Ht(e,n,s,d),n.child)}function jg(e,n,s,l,f){if(Ts(n),n.stateNode===null){var d=sr,x=s.contextType;typeof x=="object"&&x!==null&&(d=qt(x)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},qf(n),x=s.contextType,d.context=typeof x=="object"&&x!==null?qt(x):sr,d.state=n.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(hh(n,s,x,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(x=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),x!==d.state&&dh.enqueueReplaceState(d,d.state,null),jl(n,l,d,f),Ol(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var E=n.memoizedProps,D=Ns(s,E);d.props=D;var q=d.context,K=s.contextType;x=sr,typeof K=="object"&&K!==null&&(x=qt(K));var J=s.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||q!==x)&&bg(n,d,l,x),_i=!1;var F=n.memoizedState;d.state=F,jl(n,l,d,f),Ol(),q=n.memoizedState,E||F!==q||_i?(typeof J=="function"&&(hh(n,s,J,l),q=n.memoizedState),(D=_i||_g(n,s,D,l,F,q,x))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),d.props=l,d.state=q,d.context=x,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Hf(e,n),x=n.memoizedProps,K=Ns(s,x),d.props=K,J=n.pendingProps,F=d.context,q=s.contextType,D=sr,typeof q=="object"&&q!==null&&(D=qt(q)),E=s.getDerivedStateFromProps,(q=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==J||F!==D)&&bg(n,d,l,D),_i=!1,F=n.memoizedState,d.state=F,jl(n,l,d,f),Ol();var Y=n.memoizedState;x!==J||F!==Y||_i||e!==null&&e.dependencies!==null&&yu(e.dependencies)?(typeof E=="function"&&(hh(n,s,E,l),Y=n.memoizedState),(K=_i||_g(n,s,K,l,F,Y,D)||e!==null&&e.dependencies!==null&&yu(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,zu(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Rs(n,e.child,null,f),n.child=Rs(n,null,s,f)):Ht(e,n,s,f),n.memoizedState=d.state,e=n.child):e=Fa(e,n,f),e}function zg(e,n,s,l){return bs(),n.flags|=256,Ht(e,n,s,l),n.child}var yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xh(e){return{baseLanes:e,cachePool:A0()}}function vh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Lg(e,n,s){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(gt.current&2)!==0),x&&(f=!0,n.flags&=-129),x=(n.flags&32)!==0,n.flags&=-33,e===null){if(Le){if(f?Ti(n):Si(),(e=tt)?(e=Gp(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pi!==null?{id:Ea,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},s=p0(e),s.return=n,n.child=s,kt=n,tt=null)):e=null,e===null)throw xi(n);return td(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,f?(Si(),f=n.mode,E=Lu({mode:"hidden",children:E},f),l=_s(l,f,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=xh(s),l.childLanes=vh(e,x,s),n.memoizedState=yh,Bl(null,l)):(Ti(n),_h(n,E))}var D=e.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(d)n.flags&256?(Ti(n),n.flags&=-257,n=bh(e,n,s)):n.memoizedState!==null?(Si(),n.child=e.child,n.flags|=128,n=null):(Si(),E=l.fallback,f=n.mode,l=Lu({mode:"visible",children:l.children},f),E=_s(E,f,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Rs(n,e.child,null,s),l=n.child,l.memoizedState=xh(s),l.childLanes=vh(e,x,s),n.memoizedState=yh,n=Bl(null,l));else if(Ti(n),td(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var q=x.dgst;x=q,l=Error(r(419)),l.stack="",l.digest=x,Cl({value:l,source:null,stack:null}),n=bh(e,n,s)}else if(At||ur(e,n,s,!1),x=(s&e.childLanes)!==0,At||x){if(x=et,x!==null&&(l=ll(x,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,vs(e,l),on(x,e,l),gh;ed(E)||Qu(),n=bh(e,n,s)}else ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,tt=jn(E.nextSibling),kt=n,Le=!0,yi=null,In=!1,e!==null&&v0(n,e),n=_h(n,l.children),n.flags|=4096);return n}return f?(Si(),E=l.fallback,f=n.mode,D=e.child,q=D.sibling,l=Ua(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?E=Ua(q,E):(E=_s(E,f,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Bl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=xh(s):(f=E.cachePool,f!==null?(D=Tt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=A0(),E={baseLanes:E.baseLanes|s,cachePool:f}),l.memoizedState=E,l.childLanes=vh(e,x,s),n.memoizedState=yh,Bl(e.child,l)):(Ti(n),s=e.child,e=s.sibling,s=Ua(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(x=n.deletions,x===null?(n.deletions=[e],n.flags|=16):x.push(e)),n.child=s,n.memoizedState=null,s)}function _h(e,n){return n=Lu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Lu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function bh(e,n,s){return Rs(n,e.child,null,s),e=_h(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ug(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),zf(e.return,n,s)}function Eh(e,n,s,l,f,d){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:d}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=s,x.tailMode=f,x.treeForkCount=d)}function Pg(e,n,s){var l=n.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var x=gt.current,E=(x&2)!==0;if(E?(x=x&1|2,n.flags|=128):x&=1,le(gt,x),Ht(e,n,l,s),l=Le?Rl:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ug(e,s,n);else if(e.tag===19)Ug(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&Au(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Eh(n,!1,f,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Au(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Eh(n,!0,s,null,d,l);break;case"together":Eh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Fa(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ri|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ur(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Ua(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ua(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Th(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&yu(e)))}function i_(e,n,s){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),vi(n,Tt,e.memoizedState.cache),bs();break;case 27:case 5:ts(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:vi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ti(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Lg(e,n,s):(Ti(n),e=Fa(e,n,s),e!==null?e.sibling:null);Ti(n);break;case 19:var f=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ur(e,n,s,!1),l=(s&n.childLanes)!==0),f){if(l)return Pg(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(gt,gt.current),l)break;return null;case 22:return n.lanes=0,Mg(e,n,s,n.pendingProps);case 24:vi(n,Tt,e.memoizedState.cache)}return Fa(e,n,s)}function Bg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)At=!0;else{if(!Th(e,s)&&(n.flags&128)===0)return At=!1,i_(e,n,s);At=(e.flags&131072)!==0}else At=!1,Le&&(n.flags&1048576)!==0&&x0(n,Rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=As(n.elementType),n.type=e,typeof e=="function")Cf(e)?(l=Ns(e,l),n.tag=1,n=jg(null,n,e,l,s)):(n.tag=0,n=ph(null,n,e,l,s));else{if(e!=null){var f=e.$$typeof;if(f===ve){n.tag=11,n=Cg(null,n,e,l,s);break e}else if(f===C){n.tag=14,n=Ng(null,n,e,l,s);break e}}throw n=de(e)||e,Error(r(306,n,""))}}return n;case 0:return ph(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,f=Ns(l,n.pendingProps),jg(e,n,l,f,s);case 3:e:{if(Dt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;f=d.element,Hf(e,n),jl(n,l,null,s);var x=n.memoizedState;if(l=x.cache,vi(n,Tt,l),l!==d.cache&&Lf(n,[Tt],s,!0),Ol(),l=x.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:x.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=zg(e,n,l,s);break e}else if(l!==f){f=Dn(Error(r(424)),n),Cl(f),n=zg(e,n,l,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=jn(e.firstChild),kt=n,Le=!0,yi=null,In=!0,s=M0(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(bs(),l===f){n=Fa(e,n,s);break e}Ht(e,n,l,s)}n=n.child}return n;case 26:return zu(e,n),e===null?(s=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=s:Le||(s=n.type,e=n.pendingProps,l=Wu(Ce.current).createElement(s),l[_t]=n,l[jt]=e,Ft(l,s,e),bt(l),n.stateNode=l):n.memoizedState=Zp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ts(n),e===null&&Le&&(l=n.stateNode=Xp(n.type,n.pendingProps,Ce.current),kt=n,In=!0,f=tt,Vi(n.type)?(nd=f,tt=jn(l.firstChild)):tt=f),Ht(e,n,n.pendingProps.children,s),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Le&&((f=l=tt)&&(l=O_(l,n.type,n.pendingProps,In),l!==null?(n.stateNode=l,kt=n,tt=jn(l.firstChild),In=!1,f=!0):f=!1),f||xi(n)),ts(n),f=n.type,d=n.pendingProps,x=e!==null?e.memoizedProps:null,l=d.children,Zh(f,d)?l=null:x!==null&&Zh(f,x)&&(n.flags|=32),n.memoizedState!==null&&(f=$f(e,n,Kv,null,null,s),to._currentValue=f),zu(e,n),Ht(e,n,l,s),n.child;case 6:return e===null&&Le&&((e=s=tt)&&(s=j_(s,n.pendingProps,In),s!==null?(n.stateNode=s,kt=n,tt=null,e=!0):e=!1),e||xi(n)),null;case 13:return Lg(e,n,s);case 4:return Dt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Rs(n,null,l,s):Ht(e,n,l,s),n.child;case 11:return Cg(e,n,n.type,n.pendingProps,s);case 7:return Ht(e,n,n.pendingProps,s),n.child;case 8:return Ht(e,n,n.pendingProps.children,s),n.child;case 12:return Ht(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,vi(n,n.type,l.value),Ht(e,n,l.children,s),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Ts(n),f=qt(f),l=l(f),n.flags|=1,Ht(e,n,l,s),n.child;case 14:return Ng(e,n,n.type,n.pendingProps,s);case 15:return Dg(e,n,n.type,n.pendingProps,s);case 19:return Pg(e,n,s);case 31:return a_(e,n,s);case 22:return Mg(e,n,s,n.pendingProps);case 24:return Ts(n),l=qt(Tt),e===null?(f=Bf(),f===null&&(f=et,d=Uf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),n.memoizedState={parent:l,cache:f},qf(n),vi(n,Tt,f)):((e.lanes&s)!==0&&(Hf(e,n),jl(n,null,null,s),Ol()),f=e.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),vi(n,Tt,l)):(l=d.cache,vi(n,Tt,l),l!==f.cache&&Lf(n,[Tt],s,!0))),Ht(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ga(e){e.flags|=4}function Sh(e,n,s,l,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(dp())e.flags|=8192;else throw ws=bu,kf}else e.flags&=-16777217}function kg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ny(n))if(dp())e.flags|=8192;else throw ws=bu,kf}function Uu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Fo():536870912,e.lanes|=n,br|=n)}function kl(e,n){if(!Le)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function s_(e,n,s){var l=n.pendingProps;switch(Vf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ka(Tt),st(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(or(n)?Ga(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Of())),nt(n),null;case 26:var f=n.type,d=n.memoizedState;return e===null?(Ga(n),d!==null?(nt(n),kg(n,d)):(nt(n),Sh(n,f,null,l,s))):d?d!==e.memoizedState?(Ga(n),nt(n),kg(n,d)):(nt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ga(n),nt(n),Sh(n,f,e,l,s)),null;case 27:if(Bs(n),s=Ce.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ga(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return nt(n),null}e=ue.current,or(n)?_0(n):(e=Xp(f,l,s),n.stateNode=e,Ga(n))}return nt(n),null;case 5:if(Bs(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ga(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return nt(n),null}if(d=ue.current,or(n))_0(n);else{var x=Wu(Ce.current);switch(d){case 1:d=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=x.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?x.createElement(f,{is:l.is}):x.createElement(f)}}d[_t]=n,d[jt]=l;e:for(x=n.child;x!==null;){if(x.tag===5||x.tag===6)d.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===n)break e;for(;x.sibling===null;){if(x.return===null||x.return===n)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}n.stateNode=d;e:switch(Ft(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ga(n)}}return nt(n),Sh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ga(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=Ce.current,or(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,f=kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[_t]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Lp(e.nodeValue,s)),e||xi(n,!0)}else e=Wu(e).createTextNode(l),e[_t]=n,n.stateNode=e}return nt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=or(n),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[_t]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),e=!1}else s=Of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return nt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=or(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[_t]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),f=!1}else f=Of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Uu(n,n.updateQueue),nt(n),null);case 4:return st(),e===null&&Qh(n.stateNode.containerInfo),nt(n),null;case 10:return ka(n.type),nt(n),null;case 19:if(W(gt),l=n.memoizedState,l===null)return nt(n),null;if(f=(n.flags&128)!==0,d=l.rendering,d===null)if(f)kl(l,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Au(e),d!==null){for(n.flags|=128,kl(l,!1),e=d.updateQueue,n.updateQueue=e,Uu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)g0(s,e),s=s.sibling;return le(gt,gt.current&1|2),Le&&Pa(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Jt()>Hu&&(n.flags|=128,f=!0,kl(l,!1),n.lanes=4194304)}else{if(!f)if(e=Au(d),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Uu(n,e),kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(n),null}else 2*Jt()-l.renderingStartTime>Hu&&s!==536870912&&(n.flags|=128,f=!0,kl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Jt(),e.sibling=null,s=gt.current,le(gt,f?s&1|2:s&1),Le&&Pa(n,l.treeForkCount),e):(nt(n),null);case 22:case 23:return yn(n),Yf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),s=n.updateQueue,s!==null&&Uu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&W(Ss),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ka(Tt),nt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function r_(e,n){switch(Vf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ka(Tt),st(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Bs(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return W(gt),null;case 4:return st(),null;case 10:return ka(n.type),null;case 22:case 23:return yn(n),Yf(),e!==null&&W(Ss),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ka(Tt),null;case 25:return null;default:return null}}function qg(e,n){switch(Vf(n),n.tag){case 3:ka(Tt),st();break;case 26:case 27:case 5:Bs(n);break;case 4:st();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:W(gt);break;case 10:ka(n.type);break;case 22:case 23:yn(n),Yf(),e!==null&&W(Ss);break;case 24:ka(Tt)}}function ql(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&e)===e){l=void 0;var d=s.create,x=s.inst;l=d(),x.destroy=l}s=s.next}while(s!==f)}}catch(E){Ke(n,n.return,E)}}function Ai(e,n,s){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var x=l.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,f=n;var D=s,q=E;try{q()}catch(K){Ke(f,D,K)}}}l=l.next}while(l!==d)}}catch(K){Ke(n,n.return,K)}}function Hg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{I0(n,s)}catch(l){Ke(e,e.return,l)}}}function Fg(e,n,s){s.props=Ns(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Ke(e,n,l)}}function Hl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(f){Ke(e,n,f)}}function Sa(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Ke(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Ke(e,n,f)}else s.current=null}function Gg(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Ke(e,e.return,f)}}function Ah(e,n,s){try{var l=e.stateNode;C_(l,e.type,s,n),l[jt]=n}catch(f){Ke(e,e.return,f)}}function Qg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vi(e.type)||e.tag===4}function wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rh(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gn));else if(l!==4&&(l===27&&Vi(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Rh(e,n,s),e=e.sibling;e!==null;)Rh(e,n,s),e=e.sibling}function Pu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Vi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Pu(e,n,s),e=e.sibling;e!==null;)Pu(e,n,s),e=e.sibling}function Yg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Ft(n,l,s),n[_t]=e,n[jt]=s}catch(d){Ke(e,e.return,d)}}var Qa=!1,wt=!1,Ch=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function l_(e,n){if(e=e.containerInfo,Kh=rc,e=r0(e),bf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var x=0,E=-1,D=-1,q=0,K=0,J=e,F=null;t:for(;;){for(var Y;J!==s||f!==0&&J.nodeType!==3||(E=x+f),J!==d||l!==0&&J.nodeType!==3||(D=x+l),J.nodeType===3&&(x+=J.nodeValue.length),(Y=J.firstChild)!==null;)F=J,J=Y;for(;;){if(J===e)break t;if(F===s&&++q===f&&(E=x),F===d&&++K===l&&(D=x),(Y=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=Y}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for($h={focusedElem:e,selectionRange:s},rc=!1,Lt=n;Lt!==null;)if(n=Lt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Lt=e;else for(;Lt!==null;){switch(n=Lt,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)f=e[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var ce=Ns(s.type,f);e=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Ke(s,s.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Wh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Lt=e;break}Lt=n.return}}function Kg(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Xa(e,s),l&4&&ql(5,s);break;case 1:if(Xa(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(x){Ke(s,s.return,x)}else{var f=Ns(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ke(s,s.return,x)}}l&64&&Hg(s),l&512&&Hl(s,s.return);break;case 3:if(Xa(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{I0(e,n)}catch(x){Ke(s,s.return,x)}}break;case 27:n===null&&l&4&&Yg(s);case 26:case 5:Xa(e,s),n===null&&l&4&&Gg(s),l&512&&Hl(s,s.return);break;case 12:Xa(e,s);break;case 31:Xa(e,s),l&4&&Jg(e,s);break;case 13:Xa(e,s),l&4&&Wg(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=p_.bind(null,s),z_(e,s))));break;case 22:if(l=s.memoizedState!==null||Qa,!l){n=n!==null&&n.memoizedState!==null||wt,f=Qa;var d=wt;Qa=l,(wt=n)&&!d?Ka(e,s,(s.subtreeFlags&8772)!==0):Xa(e,s),Qa=f,wt=d}break;case 30:break;default:Xa(e,s)}}function $g(e){var n=e.alternate;n!==null&&(e.alternate=null,$g(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Gs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,an=!1;function Ya(e,n,s){for(s=s.child;s!==null;)Zg(e,n,s),s=s.sibling}function Zg(e,n,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:wt||Sa(s,n),Ya(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:wt||Sa(s,n);var l=lt,f=an;Vi(s.type)&&(lt=s.stateNode,an=!1),Ya(e,n,s),Jl(s.stateNode),lt=l,an=f;break;case 5:wt||Sa(s,n);case 6:if(l=lt,f=an,lt=null,Ya(e,n,s),lt=l,an=f,lt!==null)if(an)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(d){Ke(s,n,d)}else try{lt.removeChild(s.stateNode)}catch(d){Ke(s,n,d)}break;case 18:lt!==null&&(an?(e=lt,Hp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Nr(e)):Hp(lt,s.stateNode));break;case 4:l=lt,f=an,lt=s.stateNode.containerInfo,an=!0,Ya(e,n,s),lt=l,an=f;break;case 0:case 11:case 14:case 15:Ai(2,s,n),wt||Ai(4,s,n),Ya(e,n,s);break;case 1:wt||(Sa(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Fg(s,n,l)),Ya(e,n,s);break;case 21:Ya(e,n,s);break;case 22:wt=(l=wt)||s.memoizedState!==null,Ya(e,n,s),wt=l;break;default:Ya(e,n,s)}}function Jg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Nr(e)}catch(s){Ke(n,n.return,s)}}}function Wg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nr(e)}catch(s){Ke(n,n.return,s)}}function o_(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xg),n;default:throw Error(r(435,e.tag))}}function Bu(e,n){var s=o_(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var f=y_.bind(null,e,l);l.then(f,f)}})}function sn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=e,x=n,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Vi(E.type)){lt=E.stateNode,an=!1;break e}break;case 5:lt=E.stateNode,an=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,an=!0;break e}E=E.return}if(lt===null)throw Error(r(160));Zg(d,x,f),lt=null,an=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ep(n,e),n=n.sibling}var Zn=null;function ep(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),rn(e),l&4&&(Ai(3,e,e.return),ql(3,e),Ai(5,e,e.return));break;case 1:sn(n,e),rn(e),l&512&&(wt||s===null||Sa(s,s.return)),l&64&&Qa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Zn;if(sn(n,e),rn(e),l&512&&(wt||s===null||Sa(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ca]||d[_t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ft(d,l,s),d[_t]=e,bt(d),l=d;break e;case"link":var x=ey("link","href",f).get(l+(s.href||""));if(x){for(var E=0;E<x.length;E++)if(d=x[E],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){x.splice(E,1);break t}}d=f.createElement(l),Ft(d,l,s),f.head.appendChild(d);break;case"meta":if(x=ey("meta","content",f).get(l+(s.content||""))){for(E=0;E<x.length;E++)if(d=x[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){x.splice(E,1);break t}}d=f.createElement(l),Ft(d,l,s),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[_t]=e,bt(d),l=d}e.stateNode=l}else ty(f,e.type,e.stateNode);else e.stateNode=Wp(f,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?ty(f,e.type,e.stateNode):Wp(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ah(e,e.memoizedProps,s.memoizedProps)}break;case 27:sn(n,e),rn(e),l&512&&(wt||s===null||Sa(s,s.return)),s!==null&&l&4&&Ah(e,e.memoizedProps,s.memoizedProps);break;case 5:if(sn(n,e),rn(e),l&512&&(wt||s===null||Sa(s,s.return)),e.flags&32){f=e.stateNode;try{nn(f,"")}catch(ce){Ke(e,e.return,ce)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Ah(e,f,s!==null?s.memoizedProps:f)),l&1024&&(Ch=!0);break;case 6:if(sn(n,e),rn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ce){Ke(e,e.return,ce)}}break;case 3:if(nc=null,f=Zn,Zn=ec(n.containerInfo),sn(n,e),Zn=f,rn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Nr(n.containerInfo)}catch(ce){Ke(e,e.return,ce)}Ch&&(Ch=!1,tp(e));break;case 4:l=Zn,Zn=ec(e.stateNode.containerInfo),sn(n,e),rn(e),Zn=l;break;case 12:sn(n,e),rn(e);break;case 31:sn(n,e),rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bu(e,l)));break;case 13:sn(n,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(qu=Jt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bu(e,l)));break;case 22:f=e.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,q=Qa,K=wt;if(Qa=q||f,wt=K||D,sn(n,e),wt=K,Qa=q,rn(e),l&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||D||Qa||wt||Ds(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(d=D.stateNode,f)x=d.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=D.stateNode;var J=D.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){Ke(D,D.return,ce)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ce){Ke(D,D.return,ce)}}}else if(n.tag===18){if(s===null){D=n;try{var Y=D.stateNode;f?Fp(Y,!0):Fp(D.stateNode,!1)}catch(ce){Ke(D,D.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Bu(e,s))));break;case 19:sn(n,e),rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bu(e,l)));break;case 30:break;case 21:break;default:sn(n,e),rn(e)}}function rn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Qg(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,d=wh(e);Pu(e,d,f);break;case 5:var x=s.stateNode;s.flags&32&&(nn(x,""),s.flags&=-33);var E=wh(e);Pu(e,E,x);break;case 3:case 4:var D=s.stateNode.containerInfo,q=wh(e);Rh(e,q,D);break;default:throw Error(r(161))}}catch(K){Ke(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function tp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kg(e,n.alternate,n),n=n.sibling}function Ds(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ai(4,n,n.return),Ds(n);break;case 1:Sa(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fg(n,n.return,s),Ds(n);break;case 27:Jl(n.stateNode);case 26:case 5:Sa(n,n.return),Ds(n);break;case 22:n.memoizedState===null&&Ds(n);break;case 30:Ds(n);break;default:Ds(n)}e=e.sibling}}function Ka(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,d=n,x=d.flags;switch(d.tag){case 0:case 11:case 15:Ka(f,d,s),ql(4,d);break;case 1:if(Ka(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Ke(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var E=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)V0(D[f],E)}catch(q){Ke(l,l.return,q)}}s&&x&64&&Hg(d),Hl(d,d.return);break;case 27:Yg(d);case 26:case 5:Ka(f,d,s),s&&l===null&&x&4&&Gg(d),Hl(d,d.return);break;case 12:Ka(f,d,s);break;case 31:Ka(f,d,s),s&&x&4&&Jg(f,d);break;case 13:Ka(f,d,s),s&&x&4&&Wg(f,d);break;case 22:d.memoizedState===null&&Ka(f,d,s),Hl(d,d.return);break;case 30:break;default:Ka(f,d,s)}n=n.sibling}}function Nh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Nl(s))}function Dh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e))}function Jn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)np(e,n,s,l),n=n.sibling}function np(e,n,s,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,s,l),f&2048&&ql(9,n);break;case 1:Jn(e,n,s,l);break;case 3:Jn(e,n,s,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e)));break;case 12:if(f&2048){Jn(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,x=d.id,E=d.onPostCommit;typeof E=="function"&&E(x,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Ke(n,n.return,D)}}else Jn(e,n,s,l);break;case 31:Jn(e,n,s,l);break;case 13:Jn(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,x=n.alternate,n.memoizedState!==null?d._visibility&2?Jn(e,n,s,l):Fl(e,n):d._visibility&2?Jn(e,n,s,l):(d._visibility|=2,xr(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Nh(x,n);break;case 24:Jn(e,n,s,l),f&2048&&Dh(n.alternate,n);break;default:Jn(e,n,s,l)}}function xr(e,n,s,l,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,x=n,E=s,D=l,q=x.flags;switch(x.tag){case 0:case 11:case 15:xr(d,x,E,D,f),ql(8,x);break;case 23:break;case 22:var K=x.stateNode;x.memoizedState!==null?K._visibility&2?xr(d,x,E,D,f):Fl(d,x):(K._visibility|=2,xr(d,x,E,D,f)),f&&q&2048&&Nh(x.alternate,x);break;case 24:xr(d,x,E,D,f),f&&q&2048&&Dh(x.alternate,x);break;default:xr(d,x,E,D,f)}n=n.sibling}}function Fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,f=l.flags;switch(l.tag){case 22:Fl(s,l),f&2048&&Nh(l.alternate,l);break;case 24:Fl(s,l),f&2048&&Dh(l.alternate,l);break;default:Fl(s,l)}n=n.sibling}}var Gl=8192;function vr(e,n,s){if(e.subtreeFlags&Gl)for(e=e.child;e!==null;)ap(e,n,s),e=e.sibling}function ap(e,n,s){switch(e.tag){case 26:vr(e,n,s),e.flags&Gl&&e.memoizedState!==null&&X_(s,Zn,e.memoizedState,e.memoizedProps);break;case 5:vr(e,n,s);break;case 3:case 4:var l=Zn;Zn=ec(e.stateNode.containerInfo),vr(e,n,s),Zn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,vr(e,n,s),Gl=l):vr(e,n,s));break;default:vr(e,n,s)}}function ip(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ql(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Lt=l,rp(l,e)}ip(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sp(e),e=e.sibling}function sp(e){switch(e.tag){case 0:case 11:case 15:Ql(e),e.flags&2048&&Ai(9,e,e.return);break;case 3:Ql(e);break;case 12:Ql(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ku(e)):Ql(e);break;default:Ql(e)}}function ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Lt=l,rp(l,e)}ip(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ai(8,n,n.return),ku(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ku(n));break;default:ku(n)}e=e.sibling}}function rp(e,n){for(;Lt!==null;){var s=Lt;switch(s.tag){case 0:case 11:case 15:Ai(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Lt=l;else e:for(s=e;Lt!==null;){l=Lt;var f=l.sibling,d=l.return;if($g(l),l===s){Lt=null;break e}if(f!==null){f.return=d,Lt=f;break e}Lt=d}}}var u_={getCacheForType:function(e){var n=qt(Tt),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qt(Tt).controller.signal}},c_=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,De=null,Ie=0,Xe=0,xn=null,wi=!1,_r=!1,Mh=!1,$a=0,ft=0,Ri=0,Ms=0,Vh=0,vn=0,br=0,Yl=null,ln=null,Ih=!1,qu=0,lp=0,Hu=1/0,Fu=null,Ci=null,Vt=0,Ni=null,Er=null,Za=0,Oh=0,jh=null,op=null,Xl=0,zh=null;function _n(){return(Ge&2)!==0&&Ie!==0?Ie&-Ie:X.T!==null?qh():Go()}function up(){if(vn===0)if((Ie&536870912)===0||Le){var e=is;is<<=1,(is&3932160)===0&&(is=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function on(e,n,s){(e===et&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(Tr(e,0),Di(e,Ie,vn,!1)),ss(e,s),((Ge&2)===0||e!==et)&&(e===et&&((Ge&2)===0&&(Ms|=s),ft===4&&Di(e,Ie,vn,!1)),Aa(e))}function cp(e,n,s){if((Ge&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||qn(e,n),f=l?d_(e,n):Uh(e,n,!0),d=l;do{if(f===0){_r&&!l&&Di(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!f_(s)){f=Uh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){n=x;e:{var E=e;f=Yl;var D=E.current.memoizedState.isDehydrated;if(D&&(Tr(E,x).flags|=256),x=Uh(E,x,!1),x!==2){if(Mh&&!D){E.errorRecoveryDisabledLanes|=d,Ms|=d,f=4;break e}d=ln,ln=f,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}f=x}if(d=!1,f!==2)continue}}if(f===1){Tr(e,0),Di(e,n,0,!0);break}e:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Di(l,n,vn,!wi);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(f=qu+300-Jt(),10<f)){if(Di(l,n,vn,!wi),la(l,0,!0)!==0)break e;Za=n,l.timeoutHandle=kp(fp.bind(null,l,s,ln,Fu,Ih,n,vn,Ms,br,wi,d,"Throttled",-0,0),f);break e}fp(l,s,ln,Fu,Ih,n,vn,Ms,br,wi,d,null,-0,0)}}break}while(!0);Aa(e)}function fp(e,n,s,l,f,d,x,E,D,q,K,J,F,Y){if(e.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},ap(n,d,J);var ce=(d&62914560)===d?qu-Jt():(d&4194048)===d?lp-Jt():0;if(ce=K_(J,ce),ce!==null){Za=d,e.cancelPendingCommit=ce(vp.bind(null,e,n,d,s,l,f,x,E,D,K,J,null,F,Y)),Di(e,d,x,!q);return}}vp(e,n,d,s,l,f,x,E,D)}function f_(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!mn(d(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(e,n,s,l){n&=~Vh,n&=~Ms,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var d=31-dt(f),x=1<<d;l[d]=-1,f&=~x}s!==0&&rs(e,s,n)}function Gu(){return(Ge&6)===0?(Kl(0),!1):!0}function Lh(){if(De!==null){if(Xe===0)var e=De.return;else e=De,Ba=Es=null,Wf(e),dr=null,Ml=0,e=De;for(;e!==null;)qg(e.alternate,e),e=e.return;De=null}}function Tr(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,M_(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Za=0,Lh(),et=e,De=s=Ua(e.current,null),Ie=n,Xe=0,xn=null,wi=!1,_r=qn(e,n),Mh=!1,br=vn=Vh=Ms=Ri=ft=0,ln=Yl=null,Ih=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-dt(l),d=1<<f;n|=e[f],l&=~d}return $a=n,hu(),s}function hp(e,n){Ae=null,X.H=Pl,n===hr||n===_u?(n=C0(),Xe=3):n===kf?(n=C0(),Xe=4):Xe=n===gh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,De===null&&(ft=1,Ou(e,Dn(n,e.current)))}function dp(){var e=pn.current;return e===null?!0:(Ie&4194048)===Ie?On===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?e===On:!1}function mp(){var e=X.H;return X.H=Pl,e===null?Pl:e}function gp(){var e=X.A;return X.A=u_,e}function Qu(){ft=4,wi||(Ie&4194048)!==Ie&&pn.current!==null||(_r=!0),(Ri&134217727)===0&&(Ms&134217727)===0||et===null||Di(et,Ie,vn,!1)}function Uh(e,n,s){var l=Ge;Ge|=2;var f=mp(),d=gp();(et!==e||Ie!==n)&&(Fu=null,Tr(e,n)),n=!1;var x=ft;e:do try{if(Xe!==0&&De!==null){var E=De,D=xn;switch(Xe){case 8:Lh(),x=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var q=Xe;if(Xe=0,xn=null,Sr(e,E,D,q),s&&_r){x=0;break e}break;default:q=Xe,Xe=0,xn=null,Sr(e,E,D,q)}}h_(),x=ft;break}catch(K){hp(e,K)}while(!0);return n&&e.shellSuspendCounter++,Ba=Es=null,Ge=l,X.H=f,X.A=d,De===null&&(et=null,Ie=0,hu()),x}function h_(){for(;De!==null;)pp(De)}function d_(e,n){var s=Ge;Ge|=2;var l=mp(),f=gp();et!==e||Ie!==n?(Fu=null,Hu=Jt()+500,Tr(e,n)):_r=qn(e,n);e:do try{if(Xe!==0&&De!==null){n=De;var d=xn;t:switch(Xe){case 1:Xe=0,xn=null,Sr(e,n,d,1);break;case 2:case 9:if(w0(d)){Xe=0,xn=null,yp(n);break}n=function(){Xe!==2&&Xe!==9||et!==e||(Xe=7),Aa(e)},d.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:w0(d)?(Xe=0,xn=null,yp(n)):(Xe=0,xn=null,Sr(e,n,d,7));break;case 5:var x=null;switch(De.tag){case 26:x=De.memoizedState;case 5:case 27:var E=De;if(x?ny(x):E.stateNode.complete){Xe=0,xn=null;var D=E.sibling;if(D!==null)De=D;else{var q=E.return;q!==null?(De=q,Yu(q)):De=null}break t}}Xe=0,xn=null,Sr(e,n,d,5);break;case 6:Xe=0,xn=null,Sr(e,n,d,6);break;case 8:Lh(),ft=6;break e;default:throw Error(r(462))}}m_();break}catch(K){hp(e,K)}while(!0);return Ba=Es=null,X.H=l,X.A=f,Ge=s,De!==null?0:(et=null,Ie=0,hu(),ft)}function m_(){for(;De!==null&&!mf();)pp(De)}function pp(e){var n=Bg(e.alternate,e,$a);e.memoizedProps=e.pendingProps,n===null?Yu(e):De=n}function yp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Og(s,n,n.pendingProps,n.type,void 0,Ie);break;case 11:n=Og(s,n,n.pendingProps,n.type.render,n.ref,Ie);break;case 5:Wf(n);default:qg(s,n),n=De=g0(n,$a),n=Bg(s,n,$a)}e.memoizedProps=e.pendingProps,n===null?Yu(e):De=n}function Sr(e,n,s,l){Ba=Es=null,Wf(n),dr=null,Ml=0;var f=n.return;try{if(n_(e,f,n,s,Ie)){ft=1,Ou(e,Dn(s,e.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;ft=1,Ou(e,Dn(s,e.current)),De=null;return}n.flags&32768?(Le||l===1?e=!0:_r||(Ie&536870912)!==0?e=!1:(wi=e=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xp(n,e)):Yu(n)}function Yu(e){var n=e;do{if((n.flags&32768)!==0){xp(n,wi);return}e=n.return;var s=s_(n.alternate,n,$a);if(s!==null){De=s;return}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);ft===0&&(ft=5)}function xp(e,n){do{var s=r_(e.alternate,e);if(s!==null){s.flags&=32767,De=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){De=e;return}De=e=s}while(e!==null);ft=6,De=null}function vp(e,n,s,l,f,d,x,E,D){e.cancelPendingCommit=null;do Xu();while(Vt!==0);if((Ge&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=wf,yf(e,s,d,x,E,D),e===et&&(De=et=null,Ie=0),Er=n,Ni=e,Za=s,Oh=d,jh=f,op=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,x_(ri,function(){return Sp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ae.p,ae.p=2,x=Ge,Ge|=4;try{l_(e,n,s)}finally{Ge=x,ae.p=f,X.T=l}}Vt=1,_p(),bp(),Ep()}}function _p(){if(Vt===1){Vt=0;var e=Ni,n=Er,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ae.p;ae.p=2;var f=Ge;Ge|=4;try{ep(n,e);var d=$h,x=r0(e.containerInfo),E=d.focusedElem,D=d.selectionRange;if(x!==E&&E&&E.ownerDocument&&s0(E.ownerDocument.documentElement,E)){if(D!==null&&bf(E)){var q=D.start,K=D.end;if(K===void 0&&(K=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(K,E.value.length);else{var J=E.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ce=E.textContent.length,ye=Math.min(D.start,ce),We=D.end===void 0?ye:Math.min(D.end,ce);!Y.extend&&ye>We&&(x=We,We=ye,ye=x);var L=i0(E,ye),O=i0(E,We);if(L&&O&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var k=J.createRange();k.setStart(L.node,L.offset),Y.removeAllRanges(),ye>We?(Y.addRange(k),Y.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),Y.addRange(k))}}}}for(J=[],Y=E;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var $=J[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}rc=!!Kh,$h=Kh=null}finally{Ge=f,ae.p=l,X.T=s}}e.current=n,Vt=2}}function bp(){if(Vt===2){Vt=0;var e=Ni,n=Er,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ae.p;ae.p=2;var f=Ge;Ge|=4;try{Kg(e,n.alternate,n)}finally{Ge=f,ae.p=l,X.T=s}}Vt=3}}function Ep(){if(Vt===4||Vt===3){Vt=0,Uo();var e=Ni,n=Er,s=Za,l=op;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,Er=Ni=null,Tp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ci=null),Oa(s),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,f=ae.p,ae.p=2,X.T=null;try{for(var d=e.onRecoverableError,x=0;x<l.length;x++){var E=l[x];d(E.value,{componentStack:E.stack})}}finally{X.T=n,ae.p=f}}(Za&3)!==0&&Xu(),Aa(e),f=e.pendingLanes,(s&261930)!==0&&(f&42)!==0?e===zh?Xl++:(Xl=0,zh=e):Xl=0,Kl(0)}}function Tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Nl(n)))}function Xu(){return _p(),bp(),Ep(),Sp()}function Sp(){if(Vt!==5)return!1;var e=Ni,n=Oh;Oh=0;var s=Oa(Za),l=X.T,f=ae.p;try{ae.p=32>s?32:s,X.T=null,s=jh,jh=null;var d=Ni,x=Za;if(Vt=0,Er=Ni=null,Za=0,(Ge&6)!==0)throw Error(r(331));var E=Ge;if(Ge|=4,sp(d.current),np(d,d.current,x,s),Ge=E,Kl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(kn,d)}catch{}return!0}finally{ae.p=f,X.T=l,Tp(e,n)}}function Ap(e,n,s){n=Dn(s,n),n=mh(e.stateNode,n,2),e=Ei(e,n,2),e!==null&&(ss(e,2),Aa(e))}function Ke(e,n,s){if(e.tag===3)Ap(e,e,s);else for(;n!==null;){if(n.tag===3){Ap(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){e=Dn(s,e),s=wg(2),l=Ei(n,s,2),l!==null&&(Rg(s,l,n,e),ss(l,2),Aa(l));break}}n=n.return}}function Ph(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new c_;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(s)||(Mh=!0,f.add(s),e=g_.bind(null,e,n,s),n.then(e,e))}function g_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,et===e&&(Ie&s)===s&&(ft===4||ft===3&&(Ie&62914560)===Ie&&300>Jt()-qu?(Ge&2)===0&&Tr(e,0):Vh|=s,br===Ie&&(br=0)),Aa(e)}function wp(e,n){n===0&&(n=Fo()),e=vs(e,n),e!==null&&(ss(e,n),Aa(e))}function p_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),wp(e,s)}function y_(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),wp(e,s)}function x_(e,n){return Mt(e,n)}var Ku=null,Ar=null,Bh=!1,$u=!1,kh=!1,Mi=0;function Aa(e){e!==Ar&&e.next===null&&(Ar===null?Ku=Ar=e:Ar=Ar.next=e),$u=!0,Bh||(Bh=!0,__())}function Kl(e,n){if(!kh&&$u){kh=!0;do for(var s=!1,l=Ku;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var x=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-dt(42|e)+1)-1,d&=f&~(x&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Dp(l,d))}else d=Ie,d=la(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(s=!0,Dp(l,d));l=l.next}while(s);kh=!1}}function v_(){Rp()}function Rp(){$u=Bh=!1;var e=0;Mi!==0&&D_()&&(e=Mi);for(var n=Jt(),s=null,l=Ku;l!==null;){var f=l.next,d=Cp(l,n);d===0?(l.next=null,s===null?Ku=f:s.next=f,f===null&&(Ar=s)):(s=l,(e!==0||(d&3)!==0)&&($u=!0)),l=f}Vt!==0&&Vt!==5||Kl(e),Mi!==0&&(Mi=0)}function Cp(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var x=31-dt(d),E=1<<x,D=f[x];D===-1?((E&s)===0||(E&l)!==0)&&(f[x]=pf(E,n)):D<=n&&(e.expiredLanes|=E),d&=~E}if(n=et,s=Ie,s=la(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&si(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||qn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&si(l),Oa(s)){case 2:case 8:s=sl;break;case 32:s=ri;break;case 268435456:s=Po;break;default:s=ri}return l=Np.bind(null,e),s=Mt(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&si(l),e.callbackPriority=2,e.callbackNode=null,2}function Np(e,n){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Xu()&&e.callbackNode!==s)return null;var l=Ie;return l=la(e,e===et?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(cp(e,l,n),Cp(e,Jt()),e.callbackNode!=null&&e.callbackNode===s?Np.bind(null,e):null)}function Dp(e,n){if(Xu())return null;cp(e,n,!0)}function __(){V_(function(){(Ge&6)!==0?Mt(il,v_):Rp()})}function qh(){if(Mi===0){var e=cr;e===0&&(e=sa,sa<<=1,(sa&261888)===0&&(sa=256)),Mi=e}return Mi}function Mp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function Vp(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function b_(e,n,s,l,f){if(n==="submit"&&s&&s.stateNode===f){var d=Mp((f[jt]||null).action),x=l.submitter;x&&(n=(n=x[jt]||null)?Mp(n.formAction):x.getAttribute("formAction"),n!==null&&(d=n,x=null));var E=new xa("action","action",null,l,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Mi!==0){var D=x?Vp(f,x):new FormData(f);oh(s,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(E.preventDefault(),D=x?Vp(f,x):new FormData(f),oh(s,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Hh=0;Hh<Af.length;Hh++){var Fh=Af[Hh],E_=Fh.toLowerCase(),T_=Fh[0].toUpperCase()+Fh.slice(1);$n(E_,"on"+T_)}$n(u0,"onAnimationEnd"),$n(c0,"onAnimationIteration"),$n(f0,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Pv,"onTransitionRun"),$n(Bv,"onTransitionStart"),$n(kv,"onTransitionCancel"),$n(h0,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Ip(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],f=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var x=l.length-1;0<=x;x--){var E=l[x],D=E.instance,q=E.currentTarget;if(E=E.listener,D!==d&&f.isPropagationStopped())break e;d=E,f.currentTarget=q;try{d(f)}catch(K){fu(K)}f.currentTarget=null,d=D}else for(x=0;x<l.length;x++){if(E=l[x],D=E.instance,q=E.currentTarget,E=E.listener,D!==d&&f.isPropagationStopped())break e;d=E,f.currentTarget=q;try{d(f)}catch(K){fu(K)}f.currentTarget=null,d=D}}}}function Me(e,n){var s=n[Fs];s===void 0&&(s=n[Fs]=new Set);var l=e+"__bubble";s.has(l)||(Op(n,e,2,!1),s.add(l))}function Gh(e,n,s){var l=0;n&&(l|=4),Op(s,e,l,n)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Qh(e){if(!e[Zu]){e[Zu]=!0,ol.forEach(function(s){s!=="selectionchange"&&(S_.has(s)||Gh(s,!1,e),Gh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Zu]||(n[Zu]=!0,Gh("selectionchange",!1,n))}}function Op(e,n,s,l){switch(uy(n)){case 2:var f=J_;break;case 8:f=W_;break;default:f=ld}s=f.bind(null,n,s,e),f=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function Yh(e,n,s,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var E=l.stateNode.containerInfo;if(E===f)break;if(x===4)for(x=l.return;x!==null;){var D=x.tag;if((D===3||D===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;E!==null;){if(x=fa(E),x===null)return;if(D=x.tag,D===5||D===6||D===26||D===27){l=d=x;continue e}E=E.parentNode}}l=l.return}hi(function(){var q=d,K=wn(s),J=[];e:{var F=d0.get(e);if(F!==void 0){var Y=xa,ce=e;switch(e){case"keypress":if(ds(s)===0)break e;case"keydown":case"keyup":Y=ou;break;case"focusin":ce="focus",Y=gs;break;case"focusout":ce="blur",Y=gs;break;case"beforeblur":case"afterblur":Y=gs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Wo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=p;break;case u0:case c0:case f0:Y=tu;break;case h0:Y=S;break;case"scroll":case"scrollend":Y=_l;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=La;break;case"toggle":case"beforetoggle":Y=Se}var ye=(n&4)!==0,We=!ye&&(e==="scroll"||e==="scrollend"),L=ye?F!==null?F+"Capture":null:F;ye=[];for(var O=q,k;O!==null;){var $=O;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||L===null||($=Qn(O,L),$!=null&&ye.push(Zl(O,$,k))),We)break;O=O.return}0<ye.length&&(F=new Y(F,ce,null,s,K),J.push({event:F,listeners:ye}))}}if((n&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&s!==yl&&(ce=s.relatedTarget||s.fromElement)&&(fa(ce)||ce[ua]))break e;if((Y||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ce=s.relatedTarget||s.toElement,Y=q,ce=ce?fa(ce):null,ce!==null&&(We=u(ce),ye=ce.tag,ce!==We||ye!==5&&ye!==27&&ye!==6)&&(ce=null)):(Y=null,ce=q),Y!==ce)){if(ye=bl,$="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ye=La,$="onPointerLeave",L="onPointerEnter",O="pointer"),We=Y==null?F:hn(Y),k=ce==null?F:hn(ce),F=new ye($,O+"leave",Y,s,K),F.target=We,F.relatedTarget=k,$=null,fa(K)===q&&(ye=new ye(L,O+"enter",ce,s,K),ye.target=k,ye.relatedTarget=We,$=ye),We=$,Y&&ce)t:{for(ye=A_,L=Y,O=ce,k=0,$=L;$;$=ye($))k++;$=0;for(var ge=O;ge;ge=ye(ge))$++;for(;0<k-$;)L=ye(L),k--;for(;0<$-k;)O=ye(O),$--;for(;k--;){if(L===O||O!==null&&L===O.alternate){ye=L;break t}L=ye(L),O=ye(O)}ye=null}else ye=null;Y!==null&&jp(J,F,Y,ye,!1),ce!==null&&We!==null&&jp(J,We,ce,ye,!0)}}e:{if(F=q?hn(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ke=Jm;else if($m(F))if(Wm)ke=zv;else{ke=Ov;var he=Iv}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Xs(q.elementType)&&(ke=Jm):ke=jv;if(ke&&(ke=ke(e,q))){Zm(J,ke,s,K);break e}he&&he(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&ml(F,"number",F.value)}switch(he=q?hn(q):window,e){case"focusin":($m(he)||he.contentEditable==="true")&&(nr=he,Ef=q,wl=null);break;case"focusout":wl=Ef=nr=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,l0(J,s,K);break;case"selectionchange":if(Uv)break;case"keydown":case"keyup":l0(J,s,K)}var Ne;if(Fe)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else tr?ps(e,s)&&(Oe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Oe="onCompositionStart");Oe&&(ba&&s.locale!=="ko"&&(tr||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&tr&&(Ne=vl()):(ya=K,xl="value"in ya?ya.value:ya.textContent,tr=!0)),he=Ju(q,Oe),0<he.length&&(Oe=new _a(Oe,e,null,s,K),J.push({event:Oe,listeners:he}),Ne?Oe.data=Ne:(Ne=er(s),Ne!==null&&(Oe.data=Ne)))),(Ne=Cn?Nv(e,s):Dv(e,s))&&(Oe=Ju(q,"onBeforeInput"),0<Oe.length&&(he=new _a("onBeforeInput","beforeinput",null,s,K),J.push({event:he,listeners:Oe}),he.data=Ne)),b_(J,e,q,s,K)}Ip(J,n)})}function Zl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ju(e,n){for(var s=n+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Qn(e,s),f!=null&&l.unshift(Zl(e,f,d)),f=Qn(e,n),f!=null&&l.push(Zl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function A_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jp(e,n,s,l,f){for(var d=n._reactName,x=[];s!==null&&s!==l;){var E=s,D=E.alternate,q=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||q===null||(D=q,f?(q=Qn(s,d),q!=null&&x.unshift(Zl(s,q,D))):f||(q=Qn(s,d),q!=null&&x.push(Zl(s,q,D)))),s=s.return}x.length!==0&&e.push({event:n,listeners:x})}var w_=/\r\n?/g,R_=/\u0000|\uFFFD/g;function zp(e){return(typeof e=="string"?e:""+e).replace(w_,`
`).replace(R_,"")}function Lp(e,n){return n=zp(n),zp(e)===n}function Je(e,n,s,l,f,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(e,""+l);break;case"className":dn(e,"class",l);break;case"tabIndex":dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,l);break;case"style":pl(e,l,d);break;case"data":if(n!=="object"){dn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ks(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Je(e,n,"name",f.name,f,null),Je(e,n,"formEncType",f.formEncType,f,null),Je(e,n,"formMethod",f.formMethod,f,null),Je(e,n,"formTarget",f.formTarget,f,null)):(Je(e,n,"encType",f.encType,f,null),Je(e,n,"method",f.method,f,null),Je(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ks(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Gn);break;case"onScroll":l!=null&&Me("scroll",e);break;case"onScrollEnd":l!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Ks(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Me("beforetoggle",e),Me("toggle",e),Qs(e,"popover",l);break;case"xlinkActuate":Et(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Et(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Et(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Et(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Et(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Et(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Et(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Et(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Et(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Jo.get(s)||s,Qs(e,s,l))}}function Xh(e,n,s,l,f,d){switch(s){case"style":pl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?nn(e,l):(typeof l=="number"||typeof l=="bigint")&&nn(e,""+l);break;case"onScroll":l!=null&&Me("scroll",e);break;case"onScrollEnd":l!=null&&Me("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),d=e[jt]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,f);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Qs(e,s,l)}}}function Ft(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var x=s[d];if(x!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(e,n,d,x,s,null)}}f&&Je(e,n,"srcSet",s.srcSet,s,null),l&&Je(e,n,"src",s.src,s,null);return;case"input":Me("invalid",e);var E=d=x=f=null,D=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var K=s[l];if(K!=null)switch(l){case"name":f=K;break;case"type":x=K;break;case"checked":D=K;break;case"defaultChecked":q=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:Je(e,n,l,K,s,null)}}Ko(e,d,E,D,q,x,f,!1);return;case"select":Me("invalid",e),l=x=d=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":x=E;break;case"multiple":l=E;default:Je(e,n,f,E,s,null)}n=d,s=x,e.multiple=!!l,n!=null?oi(e,!!l,n,!1):s!=null&&oi(e,!!l,s,!0);return;case"textarea":Me("invalid",e),d=f=l=null;for(x in s)if(s.hasOwnProperty(x)&&(E=s[x],E!=null))switch(x){case"value":l=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Je(e,n,x,E,s,null)}ui(e,l,f,d);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(e,n,D,l,s,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(l=0;l<$l.length;l++)Me($l[l],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(e,n,q,l,s,null)}return;default:if(Xs(n)){for(K in s)s.hasOwnProperty(K)&&(l=s[K],l!==void 0&&Xh(e,n,K,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Je(e,n,E,l,s,null))}function C_(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,x=null,E=null,D=null,q=null,K=null;for(Y in s){var J=s[Y];if(s.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(Y)||Je(e,n,Y,null,l,J)}}for(var F in l){var Y=l[F];if(J=s[F],l.hasOwnProperty(F)&&(Y!=null||J!=null))switch(F){case"type":d=Y;break;case"name":f=Y;break;case"checked":q=Y;break;case"defaultChecked":K=Y;break;case"value":x=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Y!==J&&Je(e,n,F,Y,l,J)}}Ys(e,x,E,D,q,K,d,f);return;case"select":Y=x=E=F=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||Je(e,n,d,null,l,D)}for(f in l)if(d=l[f],D=s[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":F=d;break;case"defaultValue":E=d;break;case"multiple":x=d;default:d!==D&&Je(e,n,f,d,l,D)}n=E,s=x,l=Y,F!=null?oi(e,!!s,F,!1):!!l!=!!s&&(n!=null?oi(e,!!s,n,!0):oi(e,!!s,s?[]:"",!1));return;case"textarea":Y=F=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(e,n,E,null,l,f)}for(x in l)if(f=l[x],d=s[x],l.hasOwnProperty(x)&&(f!=null||d!=null))switch(x){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Je(e,n,x,f,l,d)}$o(e,F,Y);return;case"option":for(var ce in s)if(F=s[ce],s.hasOwnProperty(ce)&&F!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:Je(e,n,ce,null,l,F)}for(D in l)if(F=l[D],Y=s[D],l.hasOwnProperty(D)&&F!==Y&&(F!=null||Y!=null))switch(D){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(e,n,D,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)F=s[ye],s.hasOwnProperty(ye)&&F!=null&&!l.hasOwnProperty(ye)&&Je(e,n,ye,null,l,F);for(q in l)if(F=l[q],Y=s[q],l.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Je(e,n,q,F,l,Y)}return;default:if(Xs(n)){for(var We in s)F=s[We],s.hasOwnProperty(We)&&F!==void 0&&!l.hasOwnProperty(We)&&Xh(e,n,We,void 0,l,F);for(K in l)F=l[K],Y=s[K],!l.hasOwnProperty(K)||F===Y||F===void 0&&Y===void 0||Xh(e,n,K,F,l,Y);return}}for(var L in s)F=s[L],s.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Je(e,n,L,null,l,F);for(J in l)F=l[J],Y=s[J],!l.hasOwnProperty(J)||F===Y||F==null&&Y==null||Je(e,n,J,F,l,Y)}function Up(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],d=f.transferSize,x=f.initiatorType,E=f.duration;if(d&&E&&Up(x)){for(x=0,E=f.responseEnd,l+=1;l<s.length;l++){var D=s[l],q=D.startTime;if(q>E)break;var K=D.transferSize,J=D.initiatorType;K&&Up(J)&&(D=D.responseEnd,x+=K*(D<E?1:(E-q)/(D-q)))}if(--l,n+=8*(d+x)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kh=null,$h=null;function Wu(e){return e.nodeType===9?e:e.ownerDocument}function Pp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jh=null;function D_(){var e=window.event;return e&&e.type==="popstate"?e===Jh?!1:(Jh=e,!0):(Jh=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,M_=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,V_=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(e){return qp.resolve(null).then(e).catch(I_)}:kp;function I_(e){setTimeout(function(){throw e})}function Vi(e){return e==="head"}function Hp(e,n){var s=n,l=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(f),Nr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Jl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Jl(s);for(var d=s.firstChild;d;){var x=d.nextSibling,E=d.nodeName;d[ca]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=x}}else s==="body"&&Jl(e.ownerDocument.body);s=f}while(s);Nr(n)}function Fp(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Wh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wh(s),Gs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function O_(e,n,s,l){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ca])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function j_(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=jn(e.nextSibling),e===null))return null;return e}function Gp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$?"||e.data==="$~"}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function z_(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nd=null;function Qp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return jn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Yp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Xp(e,n,s){switch(n=Wu(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Jl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Gs(e)}var zn=new Map,Kp=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ja=ae.d;ae.d={f:L_,r:U_,D:P_,C:B_,L:k_,m:q_,X:F_,S:H_,M:G_};function L_(){var e=Ja.f(),n=Gu();return e||n}function U_(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?hg(n):Ja.r(e)}var wr=typeof document>"u"?null:document;function $p(e,n,s){var l=wr;if(l&&typeof n=="string"&&n){var f=tn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Kp.has(f)||(Kp.add(f),e={rel:e,crossOrigin:s,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),Ft(n,"link",e),bt(n),l.head.appendChild(n)))}}function P_(e){Ja.D(e),$p("dns-prefetch",e,null)}function B_(e,n){Ja.C(e,n),$p("preconnect",e,n)}function k_(e,n,s){Ja.L(e,n,s);var l=wr;if(l&&e&&n){var f='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+tn(s.imageSizes)+'"]')):f+='[href="'+tn(e)+'"]';var d=f;switch(n){case"style":d=Rr(e);break;case"script":d=Cr(e)}zn.has(d)||(e=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),zn.set(d,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(Wl(d))||n==="script"&&l.querySelector(eo(d))||(n=l.createElement("link"),Ft(n,"link",e),bt(n),l.head.appendChild(n)))}}function q_(e,n){Ja.m(e,n);var s=wr;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Cr(e)}if(!zn.has(d)&&(e=T({rel:"modulepreload",href:e},n),zn.set(d,e),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(eo(d)))return}l=s.createElement("link"),Ft(l,"link",e),bt(l),s.head.appendChild(l)}}}function H_(e,n,s){Ja.S(e,n,s);var l=wr;if(l&&e){var f=ha(l).hoistableStyles,d=Rr(e);n=n||"default";var x=f.get(d);if(!x){var E={loading:0,preload:null};if(x=l.querySelector(Wl(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},s),(s=zn.get(d))&&ad(e,s);var D=x=l.createElement("link");bt(D),Ft(D,"link",e),D._p=new Promise(function(q,K){D.onload=q,D.onerror=K}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,tc(x,n,l)}x={type:"stylesheet",instance:x,count:1,state:E},f.set(d,x)}}}function F_(e,n){Ja.X(e,n);var s=wr;if(s&&e){var l=ha(s).hoistableScripts,f=Cr(e),d=l.get(f);d||(d=s.querySelector(eo(f)),d||(e=T({src:e,async:!0},n),(n=zn.get(f))&&id(e,n),d=s.createElement("script"),bt(d),Ft(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function G_(e,n){Ja.M(e,n);var s=wr;if(s&&e){var l=ha(s).hoistableScripts,f=Cr(e),d=l.get(f);d||(d=s.querySelector(eo(f)),d||(e=T({src:e,async:!0,type:"module"},n),(n=zn.get(f))&&id(e,n),d=s.createElement("script"),bt(d),Ft(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Zp(e,n,s,l){var f=(f=Ce.current)?ec(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Rr(s.href),s=ha(f).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Rr(s.href);var d=ha(f).hoistableStyles,x=d.get(e);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,x),(d=f.querySelector(Wl(e)))&&!d._p&&(x.instance=d,x.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),d||Q_(f,e,s,x.state))),n&&l===null)throw Error(r(528,""));return x}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cr(s),s=ha(f).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Rr(e){return'href="'+tn(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function Jp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Q_(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",s),bt(n),e.head.appendChild(n))}function Cr(e){return'[src="'+tn(e)+'"]'}function eo(e){return"script[async]"+e}function Wp(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+tn(s.href)+'"]');if(l)return n.instance=l,bt(l),l;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),bt(l),Ft(l,"style",f),tc(l,s.precedence,e),n.instance=l;case"stylesheet":f=Rr(s.href);var d=e.querySelector(Wl(f));if(d)return n.state.loading|=4,n.instance=d,bt(d),d;l=Jp(s),(f=zn.get(f))&&ad(l,f),d=(e.ownerDocument||e).createElement("link"),bt(d);var x=d;return x._p=new Promise(function(E,D){x.onload=E,x.onerror=D}),Ft(d,"link",l),n.state.loading|=4,tc(d,s.precedence,e),n.instance=d;case"script":return d=Cr(s.src),(f=e.querySelector(eo(d)))?(n.instance=f,bt(f),f):(l=s,(f=zn.get(d))&&(l=T({},s),id(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),bt(f),Ft(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,tc(l,s.precedence,e));return n.instance}function tc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,x=0;x<l.length;x++){var E=l[x];if(E.dataset.precedence===n)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var nc=null;function ey(e,n,s){if(nc===null){var l=new Map,f=nc=new Map;f.set(s,l)}else f=nc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[ca]||d[_t]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var x=d.getAttribute(n)||"";x=e+x;var E=l.get(x);E?E.push(d):l.set(x,[d])}}return l}function ty(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Y_(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ny(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function X_(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Rr(l.href),d=n.querySelector(Wl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=d,bt(d);return}d=n.ownerDocument||n,l=Jp(l),(f=zn.get(f))&&ad(l,f),d=d.createElement("link"),bt(d);var x=d;x._p=new Promise(function(E,D){x.onload=E,x.onerror=D}),Ft(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ac.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var sd=0;function K_(e,n){return e.stylesheets&&e.count===0&&sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&sd===0&&(sd=62500*N_());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>sd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ic=null;function sc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ic=new Map,n.forEach($_,e),ic=null,ac.call(e))}function $_(e,n){if(!(n.state.loading&4)){var s=ic.get(e);if(s)var l=s.get(null);else{s=new Map,ic.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var x=f[d];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(s.set(x.dataset.precedence,x),l=x)}l&&s.set(null,l)}f=n.instance,x=f.getAttribute("data-precedence"),d=s.get(x)||l,d===l&&s.set(null,f),s.set(x,f),this.count++,l=ac.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var to={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Z_(e,n,s,l,f,d,x,E,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.hiddenUpdates=oa(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ay(e,n,s,l,f,d,x,E,D,q,K,J){return e=new Z_(e,n,s,x,D,q,K,J,E),n=1,d===!0&&(n|=24),d=gn(3,null,null,n),e.current=d,d.stateNode=e,n=Uf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},qf(d),e}function iy(e){return e?(e=sr,e):sr}function sy(e,n,s,l,f,d){f=iy(f),l.context===null?l.context=f:l.pendingContext=f,l=bi(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ei(e,l,n),s!==null&&(on(s,e,n),Il(s,e,n))}function ry(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function rd(e,n){ry(e,n),(e=e.alternate)&&ry(e,n)}function ly(e){if(e.tag===13||e.tag===31){var n=vs(e,67108864);n!==null&&on(n,e,67108864),rd(e,67108864)}}function oy(e){if(e.tag===13||e.tag===31){var n=_n();n=ls(n);var s=vs(e,n);s!==null&&on(s,e,n),rd(e,n)}}var rc=!0;function J_(e,n,s,l){var f=X.T;X.T=null;var d=ae.p;try{ae.p=2,ld(e,n,s,l)}finally{ae.p=d,X.T=f}}function W_(e,n,s,l){var f=X.T;X.T=null;var d=ae.p;try{ae.p=8,ld(e,n,s,l)}finally{ae.p=d,X.T=f}}function ld(e,n,s,l){if(rc){var f=od(l);if(f===null)Yh(e,n,l,lc,s),cy(e,l);else if(tb(f,e,n,s,l))l.stopPropagation();else if(cy(e,l),n&4&&-1<eb.indexOf(e)){for(;f!==null;){var d=An(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var x=ra(d.pendingLanes);if(x!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var D=1<<31-dt(x);E.entanglements[1]|=D,x&=~D}Aa(d),(Ge&6)===0&&(Hu=Jt()+500,Kl(0))}}break;case 31:case 13:E=vs(d,2),E!==null&&on(E,d,2),Gu(),rd(d,2)}if(d=od(l),d===null&&Yh(e,n,l,lc,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else Yh(e,n,l,null,s)}}function od(e){return e=wn(e),ud(e)}var lc=null;function ud(e){if(lc=null,e=fa(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return lc=e,null}function uy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(as()){case il:return 2;case sl:return 8;case ri:case gf:return 32;case Po:return 268435456;default:return 32}default:return 32}}var cd=!1,Ii=null,Oi=null,ji=null,no=new Map,ao=new Map,zi=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(e,n){switch(e){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(n.pointerId)}}function io(e,n,s,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=An(n),n!==null&&ly(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function tb(e,n,s,l,f){switch(n){case"focusin":return Ii=io(Ii,e,n,s,l,f),!0;case"dragenter":return Oi=io(Oi,e,n,s,l,f),!0;case"mouseover":return ji=io(ji,e,n,s,l,f),!0;case"pointerover":var d=f.pointerId;return no.set(d,io(no.get(d)||null,e,n,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ao.set(d,io(ao.get(d)||null,e,n,s,l,f)),!0}return!1}function fy(e){var n=fa(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,Hn(e.priority,function(){oy(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,Hn(e.priority,function(){oy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=od(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);yl=l,s.target.dispatchEvent(l),yl=null}else return n=An(s),n!==null&&ly(n),e.blockedOn=s,!1;n.shift()}return!0}function hy(e,n,s){oc(e)&&s.delete(n)}function nb(){cd=!1,Ii!==null&&oc(Ii)&&(Ii=null),Oi!==null&&oc(Oi)&&(Oi=null),ji!==null&&oc(ji)&&(ji=null),no.forEach(hy),ao.forEach(hy)}function uc(e,n){e.blockedOn===n&&(e.blockedOn=null,cd||(cd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,nb)))}var cc=null;function dy(e){cc!==e&&(cc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cc===e&&(cc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(ud(l||s)===null)continue;break}var d=An(s);d!==null&&(e.splice(n,3),n-=3,oh(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Nr(e){function n(D){return uc(D,e)}Ii!==null&&uc(Ii,e),Oi!==null&&uc(Oi,e),ji!==null&&uc(ji,e),no.forEach(n),ao.forEach(n);for(var s=0;s<zi.length;s++){var l=zi[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zi.length&&(s=zi[0],s.blockedOn===null);)fy(s),s.blockedOn===null&&zi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],x=f[jt]||null;if(typeof d=="function")x||dy(s);else if(x){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,x=d[jt]||null)E=x.formAction;else if(ud(f)!==null)continue}else E=x.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),dy(s)}}}function my(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function fd(e){this._internalRoot=e}fc.prototype.render=fd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=_n();sy(s,l,e,n,null,null)},fc.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;sy(e.current,2,null,e,null,null),Gu(),n[ua]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Go();e={blockedOn:null,target:e,priority:n};for(var s=0;s<zi.length&&n!==0&&n<zi[s].priority;s++);zi.splice(s,0,e),s===0&&fy(e)}};var gy=t.version;if(gy!=="19.2.0")throw Error(r(527,gy,"19.2.0"));ae.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{kn=hc.inject(ab),Pt=hc}catch{}}return ro.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",f=Eg,d=Tg,x=Sg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError)),n=ay(e,1,!1,null,null,s,l,null,f,d,x,my),e[ua]=n.current,Qh(e),new fd(n)},ro.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,f="",d=Eg,x=Tg,E=Sg,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=ay(e,1,!0,n,s??null,l,f,D,d,x,E,my),n.context=iy(null),s=n.current,l=_n(),l=ls(l),f=bi(l),f.callback=null,Ei(s,f,l),s=l,n.current.lanes=s,ss(n,s),Aa(n),e[ua]=n.current,Qh(e),new fc(n)},ro.version="19.2.0",ro}var Ay;function db(){if(Ay)return md.exports;Ay=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),md.exports=hb(),md.exports}var mb=db();const gb=$1(mb);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wy="popstate";function pb(i={}){function t(r,o){let{pathname:u,search:h,hash:m}=r.location;return Vd("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(r,o){return typeof o=="string"?o:xo(o)}return xb(t,a,null,i)}function ot(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function ea(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yb(){return Math.random().toString(36).substring(2,10)}function Ry(i,t){return{usr:i.state,key:i.key,idx:t}}function Vd(i,t,a=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Qr(t):t,state:a,key:t&&t.key||r||yb()}}function xo({pathname:i="/",search:t="",hash:a=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function Qr(i){let t={};if(i){let a=i.indexOf("#");a>=0&&(t.hash=i.substring(a),i=i.substring(0,a));let r=i.indexOf("?");r>=0&&(t.search=i.substring(r),i=i.substring(0,r)),i&&(t.pathname=i)}return t}function xb(i,t,a,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,m="POP",y=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function T(){m="POP";let B=_(),Z=B==null?null:B-g;g=B,y&&y({action:m,location:G.location,delta:Z})}function N(B,Z){m="PUSH";let te=Vd(G.location,B,Z);g=_()+1;let re=Ry(te,g),ve=G.createHref(te);try{h.pushState(re,"",ve)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;o.location.assign(ve)}u&&y&&y({action:m,location:G.location,delta:1})}function V(B,Z){m="REPLACE";let te=Vd(G.location,B,Z);g=_();let re=Ry(te,g),ve=G.createHref(te);h.replaceState(re,"",ve),u&&y&&y({action:m,location:G.location,delta:0})}function H(B){return vb(B)}let G={get action(){return m},get location(){return i(o,h)},listen(B){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(wy,T),y=B,()=>{o.removeEventListener(wy,T),y=null}},createHref(B){return t(o,B)},createURL:H,encodeLocation(B){let Z=H(B);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:N,replace:V,go(B){return h.go(B)}};return G}function vb(i,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),ot(a,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:xo(i);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function Z1(i,t,a="/"){return _b(i,t,a,!1)}function _b(i,t,a,r){let o=typeof t=="string"?Qr(t):t,u=ei(o.pathname||"/",a);if(u==null)return null;let h=J1(i);bb(h);let m=null;for(let y=0;m==null&&y<h.length;++y){let g=Vb(u);m=Db(h[y],g,r)}return m}function J1(i,t=[],a=[],r="",o=!1){let u=(h,m,y=o,g)=>{let _={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&y)return;ot(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let T=Wa([r,_.relativePath]),N=a.concat(_);h.children&&h.children.length>0&&(ot(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),J1(h.children,t,N,T,y)),!(h.path==null&&!h.index)&&t.push({path:T,score:Cb(T,h.index),routesMeta:N})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let y of W1(h.path))u(h,m,!0,y)}),t}function W1(i){let t=i.split("/");if(t.length===0)return[];let[a,...r]=t,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=W1(r.join("/")),m=[];return m.push(...h.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...h),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function bb(i){i.sort((t,a)=>t.score!==a.score?a.score-t.score:Nb(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var Eb=/^:[\w-]+$/,Tb=3,Sb=2,Ab=1,wb=10,Rb=-2,Cy=i=>i==="*";function Cb(i,t){let a=i.split("/"),r=a.length;return a.some(Cy)&&(r+=Rb),t&&(r+=Sb),a.filter(o=>!Cy(o)).reduce((o,u)=>o+(Eb.test(u)?Tb:u===""?Ab:wb),r)}function Nb(i,t){return i.length===t.length&&i.slice(0,-1).every((r,o)=>r===t[o])?i[i.length-1]-t[t.length-1]:0}function Db(i,t,a=!1){let{routesMeta:r}=i,o={},u="/",h=[];for(let m=0;m<r.length;++m){let y=r[m],g=m===r.length-1,_=u==="/"?t:t.slice(u.length)||"/",T=Cc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},_),N=y.route;if(!T&&g&&a&&!r[r.length-1].route.index&&(T=Cc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Wa([u,T.pathname]),pathnameBase:zb(Wa([u,T.pathnameBase])),route:N}),T.pathnameBase!=="/"&&(u=Wa([u,T.pathnameBase]))}return h}function Cc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,r]=Mb(i.path,i.caseSensitive,i.end),o=t.match(a);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:T},N)=>{if(_==="*"){let H=m[N]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const V=m[N];return T&&!V?g[_]=void 0:g[_]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Mb(i,t=!1,a=!0){ea(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,y)=>(r.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function Vb(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ea(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function ei(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=i.charAt(a);return r&&r!=="/"?null:i.slice(a)||"/"}function Ib(i,t="/"){let{pathname:a,search:r="",hash:o=""}=typeof i=="string"?Qr(i):i;return{pathname:a?a.startsWith("/")?a:Ob(a,t):t,search:Lb(r),hash:Ub(o)}}function Ob(i,t){let a=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function xd(i,t,a,r){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jb(i){return i.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function lm(i){let t=jb(i);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function om(i,t,a,r=!1){let o;typeof i=="string"?o=Qr(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),xd("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),xd("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),xd("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=a;else{let T=t.length-1;if(!r&&h.startsWith("..")){let N=h.split("/");for(;N[0]==="..";)N.shift(),T-=1;o.pathname=N.join("/")}m=T>=0?t[T]:"/"}let y=Ib(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&a.endsWith("/");return!y.pathname.endsWith("/")&&(g||_)&&(y.pathname+="/"),y}var Wa=i=>i.join("/").replace(/\/\/+/g,"/"),zb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Lb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ub=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Pb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e2=["POST","PUT","PATCH","DELETE"];new Set(e2);var Bb=["GET",...e2];new Set(Bb);var Yr=U.createContext(null);Yr.displayName="DataRouter";var Yc=U.createContext(null);Yc.displayName="DataRouterState";U.createContext(!1);var t2=U.createContext({isTransitioning:!1});t2.displayName="ViewTransition";var kb=U.createContext(new Map);kb.displayName="Fetchers";var qb=U.createContext(null);qb.displayName="Await";var na=U.createContext(null);na.displayName="Navigation";var No=U.createContext(null);No.displayName="Location";var aa=U.createContext({outlet:null,matches:[],isDataRoute:!1});aa.displayName="Route";var um=U.createContext(null);um.displayName="RouteError";function Hb(i,{relative:t}={}){ot(Xr(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=U.useContext(na),{hash:o,pathname:u,search:h}=Do(i,{relative:t}),m=u;return a!=="/"&&(m=u==="/"?a:Wa([a,u])),r.createHref({pathname:m,search:h,hash:o})}function Xr(){return U.useContext(No)!=null}function ii(){return ot(Xr(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(No).location}var n2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a2(i){U.useContext(na).static||U.useLayoutEffect(i)}function Kr(){let{isDataRoute:i}=U.useContext(aa);return i?i4():Fb()}function Fb(){ot(Xr(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(Yr),{basename:t,navigator:a}=U.useContext(na),{matches:r}=U.useContext(aa),{pathname:o}=ii(),u=JSON.stringify(lm(r)),h=U.useRef(!1);return a2(()=>{h.current=!0}),U.useCallback((y,g={})=>{if(ea(h.current,n2),!h.current)return;if(typeof y=="number"){a.go(y);return}let _=om(y,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Wa([t,_.pathname])),(g.replace?a.replace:a.push)(_,g.state,g)},[t,a,u,o,i])}var Gb=U.createContext(null);function Qb(i){let t=U.useContext(aa).outlet;return U.useMemo(()=>t&&U.createElement(Gb.Provider,{value:i},t),[t,i])}function Do(i,{relative:t}={}){let{matches:a}=U.useContext(aa),{pathname:r}=ii(),o=JSON.stringify(lm(a));return U.useMemo(()=>om(i,JSON.parse(o),r,t==="path"),[i,o,r,t])}function Yb(i,t){return i2(i,t)}function i2(i,t,a,r,o){ot(Xr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(na),{matches:h}=U.useContext(aa),m=h[h.length-1],y=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let te=T&&T.path||"";s2(g,!T||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let N=ii(),V;if(t){let te=typeof t=="string"?Qr(t):t;ot(_==="/"||te.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${te.pathname}" was given in the \`location\` prop.`),V=te}else V=N;let H=V.pathname||"/",G=H;if(_!=="/"){let te=_.replace(/^\//,"").split("/");G="/"+H.replace(/^\//,"").split("/").slice(te.length).join("/")}let B=Z1(i,{pathname:G});ea(T||B!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),ea(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=Jb(B&&B.map(te=>Object.assign({},te,{params:Object.assign({},y,te.params),pathname:Wa([_,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?_:Wa([_,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,a,r,o);return t&&Z?U.createElement(No.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Z):Z}function Xb(){let i=a4(),t=Pb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),a?U.createElement("pre",{style:o},a):null,h)}var Kb=U.createElement(Xb,null),$b=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?U.createElement(aa.Provider,{value:this.props.routeContext},U.createElement(um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zb({routeContext:i,match:t,children:a}){let r=U.useContext(Yr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(aa.Provider,{value:i},a)}function Jb(i,t=[],a=null,r=null,o=null){if(i==null){if(!a)return null;if(a.errors)i=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let u=i,h=a?.errors;if(h!=null){let g=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);ot(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,y=-1;if(a)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(y=g),_.route.id){let{loaderData:T,errors:N}=a,V=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!N||N[_.route.id]===void 0);if(_.route.lazy||V){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((g,_,T)=>{let N,V=!1,H=null,G=null;a&&(N=h&&_.route.id?h[_.route.id]:void 0,H=_.route.errorElement||Kb,m&&(y<0&&T===0?(s2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,G=null):y===T&&(V=!0,G=_.route.hydrateFallbackElement||null)));let B=t.concat(u.slice(0,T+1)),Z=()=>{let te;return N?te=H:V?te=G:_.route.Component?te=U.createElement(_.route.Component,null):_.route.element?te=_.route.element:te=g,U.createElement(Zb,{match:_,routeContext:{outlet:g,matches:B,isDataRoute:a!=null},children:te})};return a&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?U.createElement($b,{location:a.location,revalidation:a.revalidation,component:H,error:N,children:Z(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:r}):Z()},null)}function cm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wb(i){let t=U.useContext(Yr);return ot(t,cm(i)),t}function e4(i){let t=U.useContext(Yc);return ot(t,cm(i)),t}function t4(i){let t=U.useContext(aa);return ot(t,cm(i)),t}function fm(i){let t=t4(i),a=t.matches[t.matches.length-1];return ot(a.route.id,`${i} can only be used on routes that contain a unique "id"`),a.route.id}function n4(){return fm("useRouteId")}function a4(){let i=U.useContext(um),t=e4("useRouteError"),a=fm("useRouteError");return i!==void 0?i:t.errors?.[a]}function i4(){let{router:i}=Wb("useNavigate"),t=fm("useNavigate"),a=U.useRef(!1);return a2(()=>{a.current=!0}),U.useCallback(async(o,u={})=>{ea(a.current,n2),a.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var Ny={};function s2(i,t,a){!t&&!Ny[i]&&(Ny[i]=!0,ea(!1,a))}U.memo(s4);function s4({routes:i,future:t,state:a,unstable_onError:r}){return i2(i,void 0,a,r,t)}function Lr({to:i,replace:t,state:a,relative:r}){ot(Xr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(na);ea(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(aa),{pathname:h}=ii(),m=Kr(),y=om(i,lm(u),h,r==="path"),g=JSON.stringify(y);return U.useEffect(()=>{m(JSON.parse(g),{replace:t,state:a,relative:r})},[m,g,r,t,a]),null}function r4(i){return Qb(i.context)}function bn(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function l4({basename:i="/",children:t=null,location:a,navigationType:r="POP",navigator:o,static:u=!1}){ot(!Xr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof a=="string"&&(a=Qr(a));let{pathname:y="/",search:g="",hash:_="",state:T=null,key:N="default"}=a,V=U.useMemo(()=>{let H=ei(y,h);return H==null?null:{location:{pathname:H,search:g,hash:_,state:T,key:N},navigationType:r}},[h,y,g,_,T,N,r]);return ea(V!=null,`<Router basename="${h}"> is not able to match the URL "${y}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:U.createElement(na.Provider,{value:m},U.createElement(No.Provider,{children:t,value:V}))}function o4({children:i,location:t}){return Yb(Id(i),t)}function Id(i,t=[]){let a=[];return U.Children.forEach(i,(r,o)=>{if(!U.isValidElement(r))return;let u=[...t,o];if(r.type===U.Fragment){a.push.apply(a,Id(r.props.children,u));return}ot(r.type===bn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Id(r.props.children,u)),a.push(h)}),a}var vc="get",_c="application/x-www-form-urlencoded";function Xc(i){return i!=null&&typeof i.tagName=="string"}function u4(i){return Xc(i)&&i.tagName.toLowerCase()==="button"}function c4(i){return Xc(i)&&i.tagName.toLowerCase()==="form"}function f4(i){return Xc(i)&&i.tagName.toLowerCase()==="input"}function h4(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function d4(i,t){return i.button===0&&(!t||t==="_self")&&!h4(i)}var dc=null;function m4(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var g4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vd(i){return i!=null&&!g4.has(i)?(ea(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):i}function p4(i,t){let a,r,o,u,h;if(c4(i)){let m=i.getAttribute("action");r=m?ei(m,t):null,a=i.getAttribute("method")||vc,o=vd(i.getAttribute("enctype"))||_c,u=new FormData(i)}else if(u4(i)||f4(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||m.getAttribute("action");if(r=y?ei(y,t):null,a=i.getAttribute("formmethod")||m.getAttribute("method")||vc,o=vd(i.getAttribute("formenctype"))||vd(m.getAttribute("enctype"))||_c,u=new FormData(m,i),!m4()){let{name:g,type:_,value:T}=i;if(_==="image"){let N=g?`${g}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else g&&u.append(g,T)}}else{if(Xc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=vc,r=null,o=_c,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:a.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function y4(i,t,a){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&ei(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function x4(i,t){if(i.id in t)return t[i.id];try{let a=await import(i.module);return t[i.id]=a,a}catch(a){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v4(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function _4(i,t,a){let r=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await x4(u,a);return h.links?h.links():[]}return[]}));return S4(r.flat(1).filter(v4).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Dy(i,t,a,r,o,u){let h=(y,g)=>a[g]?y.route.id!==a[g].route.id:!0,m=(y,g)=>a[g].pathname!==y.pathname||a[g].route.path?.endsWith("*")&&a[g].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,g)=>h(y,g)||m(y,g)):u==="data"?t.filter((y,g)=>{let _=r.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(h(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function b4(i,t,{includeHydrateFallback:a}={}){return E4(i.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function E4(i){return[...new Set(i)]}function T4(i){let t={},a=Object.keys(i).sort();for(let r of a)t[r]=i[r];return t}function S4(i,t){let a=new Set;return new Set(t),i.reduce((r,o)=>{let u=JSON.stringify(T4(o));return a.has(u)||(a.add(u),r.push({key:u,link:o})),r},[])}function r2(){let i=U.useContext(Yr);return hm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function A4(){let i=U.useContext(Yc);return hm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var dm=U.createContext(void 0);dm.displayName="FrameworkContext";function l2(){let i=U.useContext(dm);return hm(i,"You must render this element inside a <HydratedRouter> element"),i}function w4(i,t){let a=U.useContext(dm),[r,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=t,N=U.useRef(null);U.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let G=Z=>{Z.forEach(te=>{h(te.isIntersecting)})},B=new IntersectionObserver(G,{threshold:.5});return N.current&&B.observe(N.current),()=>{B.disconnect()}}},[i]),U.useEffect(()=>{if(r){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[r]);let V=()=>{o(!0)},H=()=>{o(!1),h(!1)};return a?i!=="intent"?[u,N,{}]:[u,N,{onFocus:lo(m,V),onBlur:lo(y,H),onMouseEnter:lo(g,V),onMouseLeave:lo(_,H),onTouchStart:lo(T,V)}]:[!1,N,{}]}function lo(i,t){return a=>{i&&i(a),a.defaultPrevented||t(a)}}function R4({page:i,...t}){let{router:a}=r2(),r=U.useMemo(()=>Z1(a.routes,i,a.basename),[a.routes,i,a.basename]);return r?U.createElement(N4,{page:i,matches:r,...t}):null}function C4(i){let{manifest:t,routeModules:a}=l2(),[r,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return _4(i,t,a).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,a]),r}function N4({page:i,matches:t,...a}){let r=ii(),{manifest:o,routeModules:u}=l2(),{basename:h}=r2(),{loaderData:m,matches:y}=A4(),g=U.useMemo(()=>Dy(i,t,y,o,r,"data"),[i,t,y,o,r]),_=U.useMemo(()=>Dy(i,t,y,o,r,"assets"),[i,t,y,o,r]),T=U.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let H=new Set,G=!1;if(t.forEach(Z=>{let te=o.routes[Z.route.id];!te||!te.hasLoader||(!g.some(re=>re.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||te.hasClientLoader?G=!0:H.add(Z.route.id))}),H.size===0)return[];let B=y4(i,h,"data");return G&&H.size>0&&B.searchParams.set("_routes",t.filter(Z=>H.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[B.pathname+B.search]},[h,m,r,o,g,t,i,u]),N=U.useMemo(()=>b4(_,o),[_,o]),V=C4(_);return U.createElement(U.Fragment,null,T.map(H=>U.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...a})),N.map(H=>U.createElement("link",{key:H,rel:"modulepreload",href:H,...a})),V.map(({key:H,link:G})=>U.createElement("link",{key:H,nonce:a.nonce,...G})))}function D4(...i){return t=>{i.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var o2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o2&&(window.__reactRouterVersion="7.9.5")}catch{}function M4({basename:i,children:t,window:a}){let r=U.useRef();r.current==null&&(r.current=pb({window:a,v5Compat:!0}));let o=r.current,[u,h]=U.useState({action:o.action,location:o.location}),m=U.useCallback(y=>{U.startTransition(()=>h(y))},[h]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(l4,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var u2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Un=U.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:m,target:y,to:g,preventScrollReset:_,viewTransition:T,...N},V){let{basename:H}=U.useContext(na),G=typeof g=="string"&&u2.test(g),B,Z=!1;if(typeof g=="string"&&G&&(B=g,o2))try{let R=new URL(window.location.href),I=g.startsWith("//")?new URL(R.protocol+g):new URL(g),M=ei(I.pathname,H);I.origin===R.origin&&M!=null?g=M+I.search+I.hash:Z=!0}catch{ea(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=Hb(g,{relative:o}),[re,ve,we]=w4(r,N),se=j4(g,{replace:h,state:m,target:y,preventScrollReset:_,relative:o,viewTransition:T});function C(R){t&&t(R),R.defaultPrevented||se(R)}let A=U.createElement("a",{...N,...we,href:B||te,onClick:Z||u?t:C,ref:D4(V,ve),target:y,"data-discover":!G&&a==="render"?"true":void 0});return re&&!G?U.createElement(U.Fragment,null,A,U.createElement(R4,{page:te})):A});Un.displayName="Link";var V4=U.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:m,children:y,...g},_){let T=Do(h,{relative:g.relative}),N=ii(),V=U.useContext(Yc),{navigator:H,basename:G}=U.useContext(na),B=V!=null&&B4(T)&&m===!0,Z=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,te=N.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;a||(te=te.toLowerCase(),re=re?re.toLowerCase():null,Z=Z.toLowerCase()),re&&G&&(re=ei(re,G)||re);const ve=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let we=te===Z||!o&&te.startsWith(Z)&&te.charAt(ve)==="/",se=re!=null&&(re===Z||!o&&re.startsWith(Z)&&re.charAt(Z.length)==="/"),C={isActive:we,isPending:se,isTransitioning:B},A=we?t:void 0,R;typeof r=="function"?R=r(C):R=[r,we?"active":null,se?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(C):u;return U.createElement(Un,{...g,"aria-current":A,className:R,ref:_,style:I,to:h,viewTransition:m},typeof y=="function"?y(C):y)});V4.displayName="NavLink";var I4=U.forwardRef(({discover:i="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:o,state:u,method:h=vc,action:m,onSubmit:y,relative:g,preventScrollReset:_,viewTransition:T,...N},V)=>{let H=U4(),G=P4(m,{relative:g}),B=h.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&u2.test(m),te=re=>{if(y&&y(re),re.defaultPrevented)return;re.preventDefault();let ve=re.nativeEvent.submitter,we=ve?.getAttribute("formmethod")||h;H(ve||re.currentTarget,{fetcherKey:t,method:we,navigate:a,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T})};return U.createElement("form",{ref:V,method:B,action:G,onSubmit:r?y:te,...N,"data-discover":!Z&&i==="render"?"true":void 0})});I4.displayName="Form";function O4(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c2(i){let t=U.useContext(Yr);return ot(t,O4(i)),t}function j4(i,{target:t,replace:a,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Kr(),y=ii(),g=Do(i,{relative:u});return U.useCallback(_=>{if(d4(_,t)){_.preventDefault();let T=a!==void 0?a:xo(y)===xo(g);m(i,{replace:T,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[y,m,g,a,r,t,i,o,u,h])}var z4=0,L4=()=>`__${String(++z4)}__`;function U4(){let{router:i}=c2("useSubmit"),{basename:t}=U.useContext(na),a=n4();return U.useCallback(async(r,o={})=>{let{action:u,method:h,encType:m,formData:y,body:g}=p4(r,t);if(o.navigate===!1){let _=o.fetcherKey||L4();await i.fetch(_,a,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,a])}function P4(i,{relative:t}={}){let{basename:a}=U.useContext(na),r=U.useContext(aa);ot(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Do(i||".",{relative:t})},h=ii();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(_=>_==="")){m.delete("index"),y.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Wa([a,u.pathname])),xo(u)}function B4(i,{relative:t}={}){let a=U.useContext(t2);ot(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=c2("useViewTransitionState"),o=Do(i,{relative:t});if(!a.isTransitioning)return!1;let u=ei(a.currentLocation.pathname,r)||a.currentLocation.pathname,h=ei(a.nextLocation.pathname,r)||a.nextLocation.pathname;return Cc(o.pathname,h)!=null||Cc(o.pathname,u)!=null}const k4={};function q4(i){try{return crypto.getRandomValues(new Uint8Array(i))}catch{}try{return k4.randomBytes(i)}catch{}throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative")}function H4(i,t){if(i=i||f2,typeof i!="number")throw Error("Illegal arguments: "+typeof i+", "+typeof t);i<4?i=4:i>31&&(i=31);var a=[];return a.push("$2b$"),i<10&&a.push("0"),a.push(i.toString()),a.push("$"),a.push(Od(q4(vo),vo)),a.join("")}function F4(i,t,a){if(typeof t=="function"&&(a=t,t=void 0),typeof i=="function"&&(a=i,i=void 0),typeof i>"u")i=f2;else if(typeof i!="number")throw Error("illegal arguments: "+typeof i);function r(o){Wn(function(){try{o(null,H4(i))}catch(u){o(u)}})}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);r(a)}else return new Promise(function(o,u){r(function(h,m){if(h){u(h);return}o(m)})})}function bc(i,t,a,r){function o(u){typeof i=="string"&&typeof t=="number"?F4(t,function(h,m){zy(i,m,u,r)}):typeof i=="string"&&typeof t=="string"?zy(i,t,u,r):Wn(u.bind(this,Error("Illegal arguments: "+typeof i+", "+typeof t)))}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);o(a)}else return new Promise(function(u,h){o(function(m,y){if(m){h(m);return}u(y)})})}function G4(i,t){for(var a=i.length^t.length,r=0;r<i.length;++r)a|=i.charCodeAt(r)^t.charCodeAt(r);return a===0}function My(i,t,a,r){function o(u){if(typeof i!="string"||typeof t!="string"){Wn(u.bind(this,Error("Illegal arguments: "+typeof i+", "+typeof t)));return}if(t.length!==60){Wn(u.bind(this,null,!1));return}bc(i,t.substring(0,29),function(h,m){h?u(h):u(null,G4(m,t))},r)}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);o(a)}else return new Promise(function(u,h){o(function(m,y){if(m){h(m);return}u(y)})})}var Wn=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function Q4(i){for(var t=0,a=0,r=0;r<i.length;++r)a=i.charCodeAt(r),a<128?t+=1:a<2048?t+=2:(a&64512)===55296&&(i.charCodeAt(r+1)&64512)===56320?(++r,t+=4):t+=3;return t}function Y4(i){for(var t=0,a,r,o=new Array(Q4(i)),u=0,h=i.length;u<h;++u)a=i.charCodeAt(u),a<128?o[t++]=a:a<2048?(o[t++]=a>>6|192,o[t++]=a&63|128):(a&64512)===55296&&((r=i.charCodeAt(u+1))&64512)===56320?(a=65536+((a&1023)<<10)+(r&1023),++u,o[t++]=a>>18|240,o[t++]=a>>12&63|128,o[t++]=a>>6&63|128,o[t++]=a&63|128):(o[t++]=a>>12|224,o[t++]=a>>6&63|128,o[t++]=a&63|128);return o}var Dr="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ui=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Od(i,t){var a=0,r=[],o,u;if(t<=0||t>i.length)throw Error("Illegal len: "+t);for(;a<t;){if(o=i[a++]&255,r.push(Dr[o>>2&63]),o=(o&3)<<4,a>=t){r.push(Dr[o&63]);break}if(u=i[a++]&255,o|=u>>4&15,r.push(Dr[o&63]),o=(u&15)<<2,a>=t){r.push(Dr[o&63]);break}u=i[a++]&255,o|=u>>6&3,r.push(Dr[o&63]),r.push(Dr[u&63])}return r.join("")}function X4(i,t){for(var a=0,r=i.length,o=0,u=[],h,m,y,g,_,T;a<r-1&&o<t&&(T=i.charCodeAt(a++),h=T<Ui.length?Ui[T]:-1,T=i.charCodeAt(a++),m=T<Ui.length?Ui[T]:-1,!(h==-1||m==-1||(_=h<<2>>>0,_|=(m&48)>>4,u.push(String.fromCharCode(_)),++o>=t||a>=r)||(T=i.charCodeAt(a++),y=T<Ui.length?Ui[T]:-1,y==-1)||(_=(m&15)<<4>>>0,_|=(y&60)>>2,u.push(String.fromCharCode(_)),++o>=t||a>=r)));)T=i.charCodeAt(a++),g=T<Ui.length?Ui[T]:-1,_=(y&3)<<6>>>0,_|=g,u.push(String.fromCharCode(_)),++o;var N=[];for(a=0;a<o;a++)N.push(u[a].charCodeAt(0));return N}var vo=16,f2=10,K4=16,$4=100,Vy=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Iy=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],h2=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function _o(i,t,a,r){var o,u=i[t],h=i[t+1];return u^=a[0],o=r[u>>>24],o+=r[256|u>>16&255],o^=r[512|u>>8&255],o+=r[768|u&255],h^=o^a[1],o=r[h>>>24],o+=r[256|h>>16&255],o^=r[512|h>>8&255],o+=r[768|h&255],u^=o^a[2],o=r[u>>>24],o+=r[256|u>>16&255],o^=r[512|u>>8&255],o+=r[768|u&255],h^=o^a[3],o=r[h>>>24],o+=r[256|h>>16&255],o^=r[512|h>>8&255],o+=r[768|h&255],u^=o^a[4],o=r[u>>>24],o+=r[256|u>>16&255],o^=r[512|u>>8&255],o+=r[768|u&255],h^=o^a[5],o=r[h>>>24],o+=r[256|h>>16&255],o^=r[512|h>>8&255],o+=r[768|h&255],u^=o^a[6],o=r[u>>>24],o+=r[256|u>>16&255],o^=r[512|u>>8&255],o+=r[768|u&255],h^=o^a[7],o=r[h>>>24],o+=r[256|h>>16&255],o^=r[512|h>>8&255],o+=r[768|h&255],u^=o^a[8],o=r[u>>>24],o+=r[256|u>>16&255],o^=r[512|u>>8&255],o+=r[768|u&255],h^=o^a[9],o=r[h>>>24],o+=r[256|h>>16&255],o^=r[512|h>>8&255],o+=r[768|h&255],u^=o^a[10],o=r[u>>>24],o+=r[256|u>>16&255],o^=r[512|u>>8&255],o+=r[768|u&255],h^=o^a[11],o=r[h>>>24],o+=r[256|h>>16&255],o^=r[512|h>>8&255],o+=r[768|h&255],u^=o^a[12],o=r[u>>>24],o+=r[256|u>>16&255],o^=r[512|u>>8&255],o+=r[768|u&255],h^=o^a[13],o=r[h>>>24],o+=r[256|h>>16&255],o^=r[512|h>>8&255],o+=r[768|h&255],u^=o^a[14],o=r[u>>>24],o+=r[256|u>>16&255],o^=r[512|u>>8&255],o+=r[768|u&255],h^=o^a[15],o=r[h>>>24],o+=r[256|h>>16&255],o^=r[512|h>>8&255],o+=r[768|h&255],u^=o^a[16],i[t]=h^a[K4+1],i[t+1]=u,i}function Vr(i,t){for(var a=0,r=0;a<4;++a)r=r<<8|i[t]&255,t=(t+1)%i.length;return{key:r,offp:t}}function Oy(i,t,a){for(var r=0,o=[0,0],u=t.length,h=a.length,m,y=0;y<u;y++)m=Vr(i,r),r=m.offp,t[y]=t[y]^m.key;for(y=0;y<u;y+=2)o=_o(o,0,t,a),t[y]=o[0],t[y+1]=o[1];for(y=0;y<h;y+=2)o=_o(o,0,t,a),a[y]=o[0],a[y+1]=o[1]}function Z4(i,t,a,r){for(var o=0,u=[0,0],h=a.length,m=r.length,y,g=0;g<h;g++)y=Vr(t,o),o=y.offp,a[g]=a[g]^y.key;for(o=0,g=0;g<h;g+=2)y=Vr(i,o),o=y.offp,u[0]^=y.key,y=Vr(i,o),o=y.offp,u[1]^=y.key,u=_o(u,0,a,r),a[g]=u[0],a[g+1]=u[1];for(g=0;g<m;g+=2)y=Vr(i,o),o=y.offp,u[0]^=y.key,y=Vr(i,o),o=y.offp,u[1]^=y.key,u=_o(u,0,a,r),r[g]=u[0],r[g+1]=u[1]}function jy(i,t,a,r,o){var u=h2.slice(),h=u.length,m;if(a<4||a>31)if(m=Error("Illegal number of rounds (4-31): "+a),r){Wn(r.bind(this,m));return}else throw m;if(t.length!==vo)if(m=Error("Illegal salt length: "+t.length+" != "+vo),r){Wn(r.bind(this,m));return}else throw m;a=1<<a>>>0;var y,g,_=0,T;typeof Int32Array=="function"?(y=new Int32Array(Vy),g=new Int32Array(Iy)):(y=Vy.slice(),g=Iy.slice()),Z4(t,i,y,g);function N(){if(o&&o(_/a),_<a)for(var H=Date.now();_<a&&(_=_+1,Oy(i,y,g),Oy(t,y,g),!(Date.now()-H>$4)););else{for(_=0;_<64;_++)for(T=0;T<h>>1;T++)_o(u,T<<1,y,g);var G=[];for(_=0;_<h;_++)G.push((u[_]>>24&255)>>>0),G.push((u[_]>>16&255)>>>0),G.push((u[_]>>8&255)>>>0),G.push((u[_]&255)>>>0);if(r){r(null,G);return}else return G}r&&Wn(N)}if(typeof r<"u")N();else for(var V;;)if(typeof(V=N())<"u")return V||[]}function zy(i,t,a,r){var o;if(typeof i!="string"||typeof t!="string")if(o=Error("Invalid string / salt: Not a string"),a){Wn(a.bind(this,o));return}else throw o;var u,h;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(o=Error("Invalid salt version: "+t.substring(0,2)),a){Wn(a.bind(this,o));return}else throw o;if(t.charAt(2)==="$")u="\0",h=3;else{if(u=t.charAt(2),u!=="a"&&u!=="b"&&u!=="y"||t.charAt(3)!=="$")if(o=Error("Invalid salt revision: "+t.substring(2,4)),a){Wn(a.bind(this,o));return}else throw o;h=4}if(t.charAt(h+2)>"$")if(o=Error("Missing salt rounds"),a){Wn(a.bind(this,o));return}else throw o;var m=parseInt(t.substring(h,h+1),10)*10,y=parseInt(t.substring(h+1,h+2),10),g=m+y,_=t.substring(h+3,h+25);i+=u>="a"?"\0":"";var T=Y4(i),N=X4(_,vo);function V(H){var G=[];return G.push("$2"),u>="a"&&G.push(u),G.push("$"),g<10&&G.push("0"),G.push(g.toString()),G.push("$"),G.push(Od(N,N.length)),G.push(Od(H,h2.length*4-1)),G.join("")}if(typeof a>"u")return V(jy(T,N,g));jy(T,N,g,function(H,G){H?a(H,null):a(null,V(G))},r)}const J4=()=>{};var Ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=function(i){const t=[];let a=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[a++]=o:o<2048?(t[a++]=o>>6|192,t[a++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[a++]=o>>18|240,t[a++]=o>>12&63|128,t[a++]=o>>6&63|128,t[a++]=o&63|128):(t[a++]=o>>12|224,t[a++]=o>>6&63|128,t[a++]=o&63|128)}return t},W4=function(i){const t=[];let a=0,r=0;for(;a<i.length;){const o=i[a++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[a++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[a++],h=i[a++],m=i[a++],y=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=i[a++],h=i[a++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},m2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,y=o+2<i.length,g=y?i[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let N=(m&15)<<2|g>>6,V=g&63;y||(V=64,h||(N=64)),r.push(a[_],a[T],a[N],a[V])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(d2(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):W4(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=a[i.charAt(o++)],m=o<i.length?a[i.charAt(o)]:0;++o;const g=o<i.length?a[i.charAt(o)]:64;++o;const T=o<i.length?a[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new e3;const N=u<<2|m>>4;if(r.push(N),g!==64){const V=m<<4&240|g>>2;if(r.push(V),T!==64){const H=g<<6&192|T;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class e3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t3=function(i){const t=d2(i);return m2.encodeByteArray(t,!0)},Nc=function(i){return t3(i).replace(/\./g,"")},n3=function(i){try{return m2.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=()=>a3().__FIREBASE_DEFAULTS__,s3=()=>{if(typeof process>"u"||typeof Ly>"u")return;const i=Ly.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},r3=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&n3(i[1]);return t&&JSON.parse(t)},mm=()=>{try{return J4()||i3()||s3()||r3()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},l3=i=>mm()?.emulatorHosts?.[i],o3=i=>{const t=l3(i);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(a+1),10);return t[0]==="["?[t.substring(1,a-1),r]:[t.substring(0,a),r]},g2=()=>mm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}wrapCallback(t){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(a):t(a,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c3(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Nc(JSON.stringify(a)),Nc(JSON.stringify(h)),""].join(".")}const ho={};function h3(){const i={prod:[],emulator:[]};for(const t of Object.keys(ho))ho[t]?i.emulator.push(t):i.prod.push(t);return i}function d3(i){let t=document.getElementById(i),a=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),a=!0),{created:a,element:t}}let Uy=!1;function m3(i,t){if(typeof window>"u"||typeof document>"u"||!gm(window.location.host)||ho[i]===t||ho[i]||Uy)return;ho[i]=t;function a(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=h3().prod.length>0;function h(){const N=document.getElementById(r);N&&N.remove()}function m(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,V){N.setAttribute("width","24"),N.setAttribute("id",V),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function g(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Uy=!0,h()},N}function _(N,V){N.setAttribute("id",V),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function T(){const N=d3(r),V=a("text"),H=document.getElementById(V)||document.createElement("span"),G=a("learnmore"),B=document.getElementById(G)||document.createElement("a"),Z=a("preprendIcon"),te=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const re=N.element;m(re),_(B,G);const ve=g();y(te,Z),re.append(te,H,B,ve),document.body.appendChild(re)}u?(H.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p3(){const i=mm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y3(){return!p3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x3(){try{return typeof indexedDB=="object"}catch{return!1}}function v3(){return new Promise((i,t)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(a){t(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="FirebaseError";class $r extends Error{constructor(t,a,r){super(a),this.code=t,this.customData=r,this.name=_3,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p2.prototype.create)}}class p2{constructor(t,a,r){this.service=t,this.serviceName=a,this.errors=r}create(t,...a){const r=a[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?b3(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new $r(o,m,r)}}function b3(i,t){return i.replace(E3,(a,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const E3=/\{\$([^}]+)}/g;function Dc(i,t){if(i===t)return!0;const a=Object.keys(i),r=Object.keys(t);for(const o of a){if(!r.includes(o))return!1;const u=i[o],h=t[o];if(Py(u)&&Py(h)){if(!Dc(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!a.includes(o))return!1;return!0}function Py(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(i){return i&&i._delegate?i._delegate:i}class bo{constructor(t,a,r){this.name=t,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(t,a){this.name=t,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const a=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(a)){const r=new u3;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(t){const a=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(A3(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...t.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:a={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(t,a){const r=this.normalizeInstanceIdentifier(a),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,a){const r=this.onInitCallbacks.get(a);if(r)for(const o of r)try{o(t,a)}catch{}}getOrInitializeService({instanceIdentifier:t,options:a={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S3(t),options:a}),this.instances.set(t,r),this.instancesOptions.set(t,a),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S3(i){return i===Vs?void 0:i}function A3(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const a=this.getProvider(t.name);if(a.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);a.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const a=new T3(t,this);return this.providers.set(t,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const R3={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},C3=Be.INFO,N3={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},D3=(i,t,...a)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=N3[t];if(o)console[o](`[${r}]  ${i.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class y2{constructor(t){this.name=t,this._logLevel=C3,this._logHandler=D3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Be))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?R3[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...t),this._logHandler(this,Be.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...t),this._logHandler(this,Be.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...t),this._logHandler(this,Be.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...t),this._logHandler(this,Be.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...t),this._logHandler(this,Be.ERROR,...t)}}const M3=(i,t)=>t.some(a=>i instanceof a);let By,ky;function V3(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I3(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x2=new WeakMap,jd=new WeakMap,v2=new WeakMap,_d=new WeakMap,pm=new WeakMap;function O3(i){const t=new Promise((a,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{a(ki(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(a=>{a instanceof IDBCursor&&x2.set(a,i)}).catch(()=>{}),pm.set(t,i),t}function j3(i){if(jd.has(i))return;const t=new Promise((a,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{a(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});jd.set(i,t)}let zd={get(i,t,a){if(i instanceof IDBTransaction){if(t==="done")return jd.get(i);if(t==="objectStoreNames")return i.objectStoreNames||v2.get(i);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ki(i[t])},set(i,t,a){return i[t]=a,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function z3(i){zd=i(zd)}function L3(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...a){const r=i.call(bd(this),t,...a);return v2.set(r,t.sort?t.sort():[t]),ki(r)}:I3().includes(i)?function(...t){return i.apply(bd(this),t),ki(x2.get(this))}:function(...t){return ki(i.apply(bd(this),t))}}function U3(i){return typeof i=="function"?L3(i):(i instanceof IDBTransaction&&j3(i),M3(i,V3())?new Proxy(i,zd):i)}function ki(i){if(i instanceof IDBRequest)return O3(i);if(_d.has(i))return _d.get(i);const t=U3(i);return t!==i&&(_d.set(i,t),pm.set(t,i)),t}const bd=i=>pm.get(i);function P3(i,t,{blocked:a,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=ki(h);return r&&h.addEventListener("upgradeneeded",y=>{r(ki(h.result),y.oldVersion,y.newVersion,ki(h.transaction),y)}),a&&h.addEventListener("blocked",y=>a(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const B3=["get","getKey","getAll","getAllKeys","count"],k3=["put","add","delete","clear"],Ed=new Map;function qy(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Ed.get(t))return Ed.get(t);const a=t.replace(/FromIndex$/,""),r=t!==a,o=k3.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(o||B3.includes(a)))return;const u=async function(h,...m){const y=this.transaction(h,o?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[a](...m),o&&y.done]))[0]};return Ed.set(t,u),u}z3(i=>({...i,get:(t,a,r)=>qy(t,a)||i.get(t,a,r),has:(t,a)=>!!qy(t,a)||i.has(t,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(H3(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function H3(i){return i.getComponent()?.type==="VERSION"}const Ld="@firebase/app",Hy="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new y2("@firebase/app"),F3="@firebase/app-compat",G3="@firebase/analytics-compat",Q3="@firebase/analytics",Y3="@firebase/app-check-compat",X3="@firebase/app-check",K3="@firebase/auth",$3="@firebase/auth-compat",Z3="@firebase/database",J3="@firebase/data-connect",W3="@firebase/database-compat",e6="@firebase/functions",t6="@firebase/functions-compat",n6="@firebase/installations",a6="@firebase/installations-compat",i6="@firebase/messaging",s6="@firebase/messaging-compat",r6="@firebase/performance",l6="@firebase/performance-compat",o6="@firebase/remote-config",u6="@firebase/remote-config-compat",c6="@firebase/storage",f6="@firebase/storage-compat",h6="@firebase/firestore",d6="@firebase/ai",m6="@firebase/firestore-compat",g6="firebase",p6="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="[DEFAULT]",y6={[Ld]:"fire-core",[F3]:"fire-core-compat",[Q3]:"fire-analytics",[G3]:"fire-analytics-compat",[X3]:"fire-app-check",[Y3]:"fire-app-check-compat",[K3]:"fire-auth",[$3]:"fire-auth-compat",[Z3]:"fire-rtdb",[J3]:"fire-data-connect",[W3]:"fire-rtdb-compat",[e6]:"fire-fn",[t6]:"fire-fn-compat",[n6]:"fire-iid",[a6]:"fire-iid-compat",[i6]:"fire-fcm",[s6]:"fire-fcm-compat",[r6]:"fire-perf",[l6]:"fire-perf-compat",[o6]:"fire-rc",[u6]:"fire-rc-compat",[c6]:"fire-gcs",[f6]:"fire-gcs-compat",[h6]:"fire-fst",[m6]:"fire-fst-compat",[d6]:"fire-vertex","fire-js":"fire-js",[g6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,x6=new Map,Pd=new Map;function Fy(i,t){try{i.container.addComponent(t)}catch(a){ti.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,a)}}function Vc(i){const t=i.name;if(Pd.has(t))return ti.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,i);for(const a of Mc.values())Fy(a,i);for(const a of x6.values())Fy(a,i);return!0}function v6(i,t){const a=i.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),i.container.getProvider(t)}function _6(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new p2("app","Firebase",b6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(t,a,r){this._isDeleted=!1,this._options={...t},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=p6;function _2(i,t={}){let a=i;typeof t!="object"&&(t={name:t});const r={name:Ud,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw qi.create("bad-app-name",{appName:String(o)});if(a||(a=g2()),!a)throw qi.create("no-options");const u=Mc.get(o);if(u){if(Dc(a,u.options)&&Dc(r,u.config))return u;throw qi.create("duplicate-app",{appName:o})}const h=new w3(o);for(const y of Pd.values())h.addComponent(y);const m=new E6(a,r,h);return Mc.set(o,m),m}function S6(i=Ud){const t=Mc.get(i);if(!t&&i===Ud&&g2())return _2();if(!t)throw qi.create("no-app",{appName:i});return t}function Ur(i,t,a){let r=y6[i]??i;a&&(r+=`-${a}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ti.warn(h.join(" "));return}Vc(new bo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="firebase-heartbeat-database",w6=1,Eo="firebase-heartbeat-store";let Td=null;function b2(){return Td||(Td=P3(A6,w6,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Eo)}catch(a){console.warn(a)}}}}).catch(i=>{throw qi.create("idb-open",{originalErrorMessage:i.message})})),Td}async function R6(i){try{const a=(await b2()).transaction(Eo),r=await a.objectStore(Eo).get(E2(i));return await a.done,r}catch(t){if(t instanceof $r)ti.warn(t.message);else{const a=qi.create("idb-get",{originalErrorMessage:t?.message});ti.warn(a.message)}}}async function Gy(i,t){try{const r=(await b2()).transaction(Eo,"readwrite");await r.objectStore(Eo).put(t,E2(i)),await r.done}catch(a){if(a instanceof $r)ti.warn(a.message);else{const r=qi.create("idb-set",{originalErrorMessage:a?.message});ti.warn(r.message)}}}function E2(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=1024,N6=30;class D6{constructor(t){this.container=t,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new V6(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:a}),this._heartbeatsCache.heartbeats.length>N6){const o=I6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ti.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qy(),{heartbeatsToSend:a,unsentEntries:r}=M6(this._heartbeatsCache.heartbeats),o=Nc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ti.warn(t),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function M6(i,t=C6){const a=[];let r=i.slice();for(const o of i){const u=a.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Yy(a)>t){u.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),Yy(a)>t){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class V6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x3()?v3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await R6(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Yy(i){return Nc(JSON.stringify({version:2,heartbeats:i})).length}function I6(i){if(i.length===0)return-1;let t=0,a=i[0].date;for(let r=1;r<i.length;r++)i[r].date<a&&(a=i[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(i){Vc(new bo("platform-logger",t=>new q3(t),"PRIVATE")),Vc(new bo("heartbeat",t=>new D6(t),"PRIVATE")),Ur(Ld,Hy,i),Ur(Ld,Hy,"esm2020"),Ur("fire-js","")}O6("");var j6="firebase",z6="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(j6,z6,"app");var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hi,T2;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(I,M,z){for(var w=Array(arguments.length-2),de=2;de<arguments.length;de++)w[de-2]=arguments[de];return A.prototype[M].apply(I,w)}}function a(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,a),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const I=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)I[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;M<16;++M)I[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],M=C.g[2];let z=C.g[3],w;w=A+(z^R&(M^z))+I[0]+3614090360&4294967295,A=R+(w<<7&4294967295|w>>>25),w=z+(M^A&(R^M))+I[1]+3905402710&4294967295,z=A+(w<<12&4294967295|w>>>20),w=M+(R^z&(A^R))+I[2]+606105819&4294967295,M=z+(w<<17&4294967295|w>>>15),w=R+(A^M&(z^A))+I[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=A+(z^R&(M^z))+I[4]+4118548399&4294967295,A=R+(w<<7&4294967295|w>>>25),w=z+(M^A&(R^M))+I[5]+1200080426&4294967295,z=A+(w<<12&4294967295|w>>>20),w=M+(R^z&(A^R))+I[6]+2821735955&4294967295,M=z+(w<<17&4294967295|w>>>15),w=R+(A^M&(z^A))+I[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=A+(z^R&(M^z))+I[8]+1770035416&4294967295,A=R+(w<<7&4294967295|w>>>25),w=z+(M^A&(R^M))+I[9]+2336552879&4294967295,z=A+(w<<12&4294967295|w>>>20),w=M+(R^z&(A^R))+I[10]+4294925233&4294967295,M=z+(w<<17&4294967295|w>>>15),w=R+(A^M&(z^A))+I[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=A+(z^R&(M^z))+I[12]+1804603682&4294967295,A=R+(w<<7&4294967295|w>>>25),w=z+(M^A&(R^M))+I[13]+4254626195&4294967295,z=A+(w<<12&4294967295|w>>>20),w=M+(R^z&(A^R))+I[14]+2792965006&4294967295,M=z+(w<<17&4294967295|w>>>15),w=R+(A^M&(z^A))+I[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=A+(M^z&(R^M))+I[1]+4129170786&4294967295,A=R+(w<<5&4294967295|w>>>27),w=z+(R^M&(A^R))+I[6]+3225465664&4294967295,z=A+(w<<9&4294967295|w>>>23),w=M+(A^R&(z^A))+I[11]+643717713&4294967295,M=z+(w<<14&4294967295|w>>>18),w=R+(z^A&(M^z))+I[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=A+(M^z&(R^M))+I[5]+3593408605&4294967295,A=R+(w<<5&4294967295|w>>>27),w=z+(R^M&(A^R))+I[10]+38016083&4294967295,z=A+(w<<9&4294967295|w>>>23),w=M+(A^R&(z^A))+I[15]+3634488961&4294967295,M=z+(w<<14&4294967295|w>>>18),w=R+(z^A&(M^z))+I[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=A+(M^z&(R^M))+I[9]+568446438&4294967295,A=R+(w<<5&4294967295|w>>>27),w=z+(R^M&(A^R))+I[14]+3275163606&4294967295,z=A+(w<<9&4294967295|w>>>23),w=M+(A^R&(z^A))+I[3]+4107603335&4294967295,M=z+(w<<14&4294967295|w>>>18),w=R+(z^A&(M^z))+I[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=A+(M^z&(R^M))+I[13]+2850285829&4294967295,A=R+(w<<5&4294967295|w>>>27),w=z+(R^M&(A^R))+I[2]+4243563512&4294967295,z=A+(w<<9&4294967295|w>>>23),w=M+(A^R&(z^A))+I[7]+1735328473&4294967295,M=z+(w<<14&4294967295|w>>>18),w=R+(z^A&(M^z))+I[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=A+(R^M^z)+I[5]+4294588738&4294967295,A=R+(w<<4&4294967295|w>>>28),w=z+(A^R^M)+I[8]+2272392833&4294967295,z=A+(w<<11&4294967295|w>>>21),w=M+(z^A^R)+I[11]+1839030562&4294967295,M=z+(w<<16&4294967295|w>>>16),w=R+(M^z^A)+I[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=A+(R^M^z)+I[1]+2763975236&4294967295,A=R+(w<<4&4294967295|w>>>28),w=z+(A^R^M)+I[4]+1272893353&4294967295,z=A+(w<<11&4294967295|w>>>21),w=M+(z^A^R)+I[7]+4139469664&4294967295,M=z+(w<<16&4294967295|w>>>16),w=R+(M^z^A)+I[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=A+(R^M^z)+I[13]+681279174&4294967295,A=R+(w<<4&4294967295|w>>>28),w=z+(A^R^M)+I[0]+3936430074&4294967295,z=A+(w<<11&4294967295|w>>>21),w=M+(z^A^R)+I[3]+3572445317&4294967295,M=z+(w<<16&4294967295|w>>>16),w=R+(M^z^A)+I[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=A+(R^M^z)+I[9]+3654602809&4294967295,A=R+(w<<4&4294967295|w>>>28),w=z+(A^R^M)+I[12]+3873151461&4294967295,z=A+(w<<11&4294967295|w>>>21),w=M+(z^A^R)+I[15]+530742520&4294967295,M=z+(w<<16&4294967295|w>>>16),w=R+(M^z^A)+I[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=A+(M^(R|~z))+I[0]+4096336452&4294967295,A=R+(w<<6&4294967295|w>>>26),w=z+(R^(A|~M))+I[7]+1126891415&4294967295,z=A+(w<<10&4294967295|w>>>22),w=M+(A^(z|~R))+I[14]+2878612391&4294967295,M=z+(w<<15&4294967295|w>>>17),w=R+(z^(M|~A))+I[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=A+(M^(R|~z))+I[12]+1700485571&4294967295,A=R+(w<<6&4294967295|w>>>26),w=z+(R^(A|~M))+I[3]+2399980690&4294967295,z=A+(w<<10&4294967295|w>>>22),w=M+(A^(z|~R))+I[10]+4293915773&4294967295,M=z+(w<<15&4294967295|w>>>17),w=R+(z^(M|~A))+I[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=A+(M^(R|~z))+I[8]+1873313359&4294967295,A=R+(w<<6&4294967295|w>>>26),w=z+(R^(A|~M))+I[15]+4264355552&4294967295,z=A+(w<<10&4294967295|w>>>22),w=M+(A^(z|~R))+I[6]+2734768916&4294967295,M=z+(w<<15&4294967295|w>>>17),w=R+(z^(M|~A))+I[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=A+(M^(R|~z))+I[4]+4149444226&4294967295,A=R+(w<<6&4294967295|w>>>26),w=z+(R^(A|~M))+I[11]+3174756917&4294967295,z=A+(w<<10&4294967295|w>>>22),w=M+(A^(z|~R))+I[2]+718787259&4294967295,M=z+(w<<15&4294967295|w>>>17),w=R+(z^(M|~A))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+z&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,I=this.C;let M=this.h,z=0;for(;z<A;){if(M==0)for(;z<=R;)o(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<A;)if(I[M++]=C.charCodeAt(z++),M==this.blockSize){o(this,I),M=0;break}}else for(;z<A;)if(I[M++]=C[z++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)C[A++]=this.g[R]>>>I&255;return C};function u(C,A){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function h(C,A){this.h=A;const R=[];let I=!0;for(let M=C.length-1;M>=0;M--){const z=C[M]|0;I&&z==A||(R[M]=z,I=!1)}this.g=R}var m={};function y(C){return-128<=C&&C<128?u(C,function(A){return new h([A|0],A<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return B(g(-C));const A=[];let R=1;for(let I=0;C>=R;I++)A[I]=C/R|0,R*=4294967296;return new h(A,0)}function _(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return B(_(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let I=T;for(let z=0;z<C.length;z+=8){var M=Math.min(8,C.length-z);const w=parseInt(C.substring(z,z+M),A);M<8?(M=g(Math.pow(A,M)),I=I.j(M).add(g(w))):(I=I.j(R),I=I.add(g(w)))}return I}var T=y(0),N=y(1),V=y(16777216);i=h.prototype,i.m=function(){if(G(this))return-B(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);C+=(I>=0?I:4294967296+I)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(H(this))return"0";if(G(this))return"-"+B(this).toString(C);const A=g(Math.pow(C,6));var R=this;let I="";for(;;){const M=ve(R,A).g;R=Z(R,M.j(A));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,H(R))return z+I;for(;z.length<6;)z="0"+z;I=z+I}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function H(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function G(C){return C.h==-1}i.l=function(C){return C=Z(this,C),G(C)?-1:H(C)?0:1};function B(C){const A=C.g.length,R=[];for(let I=0;I<A;I++)R[I]=~C.g[I];return new h(R,~C.h).add(N)}i.abs=function(){return G(this)?B(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let I=0;for(let M=0;M<=A;M++){let z=I+(this.i(M)&65535)+(C.i(M)&65535),w=(z>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);I=w>>>16,z&=65535,w&=65535,R[M]=w<<16|z}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Z(C,A){return C.add(B(A))}i.j=function(C){if(H(this)||H(C))return T;if(G(this))return G(C)?B(this).j(B(C)):B(B(this).j(C));if(G(C))return B(this.j(B(C)));if(this.l(V)<0&&C.l(V)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var I=0;I<2*A;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let M=0;M<C.g.length;M++){const z=this.i(I)>>>16,w=this.i(I)&65535,de=C.i(M)>>>16,Ve=C.i(M)&65535;R[2*I+2*M]+=w*Ve,te(R,2*I+2*M),R[2*I+2*M+1]+=z*Ve,te(R,2*I+2*M+1),R[2*I+2*M+1]+=w*de,te(R,2*I+2*M+1),R[2*I+2*M+2]+=z*de,te(R,2*I+2*M+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new h(R,0)};function te(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function re(C,A){this.g=C,this.h=A}function ve(C,A){if(H(A))throw Error("division by zero");if(H(C))return new re(T,T);if(G(C))return A=ve(B(C),A),new re(B(A.g),B(A.h));if(G(A))return A=ve(C,B(A)),new re(B(A.g),A.h);if(C.g.length>30){if(G(C)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var R=N,I=A;I.l(C)<=0;)R=we(R),I=we(I);var M=se(R,1),z=se(I,1);for(I=se(I,2),R=se(R,2);!H(I);){var w=z.add(I);w.l(C)<=0&&(M=M.add(R),z=w),I=se(I,1),R=se(R,1)}return A=Z(C,M.j(A)),new re(M,A)}for(M=T;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),z=g(R),w=z.j(A);G(w)||w.l(C)>0;)R-=I,z=g(R),w=z.j(A);H(z)&&(z=N),M=M.add(z),C=Z(C,w)}return new re(M,C)}i.B=function(C){return ve(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let I=0;I<A;I++)R[I]=this.i(I)&C.i(I);return new h(R,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let I=0;I<A;I++)R[I]=this.i(I)|C.i(I);return new h(R,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let I=0;I<A;I++)R[I]=this.i(I)^C.i(I);return new h(R,this.h^C.h)};function we(C){const A=C.g.length+1,R=[];for(let I=0;I<A;I++)R[I]=C.i(I)<<1|C.i(I-1)>>>31;return new h(R,C.h)}function se(C,A){const R=A>>5;A%=32;const I=C.g.length-R,M=[];for(let z=0;z<I;z++)M[z]=A>0?C.i(z+R)>>>A|C.i(z+R+1)<<32-A:C.i(z+R);return new h(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,T2=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Hi=h}).apply(typeof Xy<"u"?Xy:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S2,oo,A2,Ec,Bd,w2,R2,C2;(function(){var i,t=Object.defineProperty;function a(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=a(this);function o(c,p){if(p)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in v))break e;v=v[P]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=y,g.apply(null,arguments)}function _(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,P,Q){for(var ie=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ie[Se-2]=arguments[Se];return p.prototype[P].apply(S,ie)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function H(c,p){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const Q=P.length||0;c.length=v+Q;for(let ie=0;ie<Q;ie++)c[v+ie]=P[ie]}else c.push(P)}}class G{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function B(c){h.setTimeout(()=>{throw c},0)}function Z(){var c=C;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class te{constructor(){this.h=this.g=null}add(p,v){const S=re.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new G(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let we,se=!1,C=new te,A=()=>{const c=Promise.resolve(void 0);we=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){B(v)}var p=re;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}se=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,p),h.removeEventListener("test",v,p)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function de(c,p){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}T(de,M),de.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(c,p,v,S,P){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=P,this.key=++X,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Re(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function He(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function j(c){const p={};for(const v in c)p[v]=c[v];return p}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,p){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)c[v]=S[v];for(let Q=0;Q<W.length;Q++)v=W[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,p,v,S,P){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ie=Ce(c,p,S,P);return ie>-1?(p=c[ie],v||(p.fa=!1)):(p=new ae(p,this.src,Q,!!S,P),p.fa=v,c.push(p)),p};function _e(c,p){const v=p.type;if(v in c.g){var S=c.g[v],P=Array.prototype.indexOf.call(S,p,void 0),Q;(Q=P>=0)&&Array.prototype.splice.call(S,P,1),Q&&(me(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,p,v,S){for(let P=0;P<c.length;++P){const Q=c[P];if(!Q.da&&Q.listener==p&&Q.capture==!!v&&Q.ha==S)return P}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,p,v,S,P){if(Array.isArray(p)){for(let Q=0;Q<p.length;Q++)st(c,p[Q],v,S,P);return null}return v=al(v),c&&c[Ve]?c.J(p,v,m(S)?!!S.capture:!1,P):ts(c,p,v,!1,S,P)}function ts(c,p,v,S,P,Q){if(!p)throw Error("Invalid event type");const ie=m(P)?!!P.capture:!!P;let Se=ns(c);if(Se||(c[Ue]=Se=new ue(c)),v=Se.add(p,v,S,ie,Q),v.proxy)return v;if(S=Bs(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)z||(P=ie),P===void 0&&(P=!1),c.addEventListener(p.toString(),S,P);else if(c.attachEvent)c.attachEvent(ia(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Bs(){function c(v){return p.call(c.src,c.listener,v)}const p=tl;return c}function ks(c,p,v,S,P){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)ks(c,p[Q],v,S,P);else S=m(S)?!!S.capture:!!S,v=al(v),c&&c[Ve]?(c=c.i,Q=String(p).toString(),Q in c.g&&(p=c.g[Q],v=Ce(p,v,S,P),v>-1&&(me(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[Q],c.h--)))):c&&(c=ns(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ce(p,v,S,P)),(v=c>-1?p[c]:null)&&qs(v))}function qs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ve])_e(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(ia(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=ns(p))?(_e(v,c),v.h==0&&(v.src=null,p[Ue]=null)):me(c)}}}function ia(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function tl(c,p){if(c.da)c=!0;else{p=new de(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&qs(c),c=v.call(S,p)}return c}function ns(c){return c=c[Ue],c instanceof ue?c:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function al(c){return typeof c=="function"?c:(c[nl]||(c[nl]=function(p){return c.handleEvent(p)}),c[nl])}function xt(){I.call(this),this.i=new ue(this),this.M=this,this.G=null}T(xt,I),xt.prototype[Ve]=!0,xt.prototype.removeEventListener=function(c,p,v,S){ks(this,c,p,v,S)};function Mt(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new M(p,c);else if(p instanceof M)p.target=p.target||c;else{var P=p;p=new M(S,c),le(p,P)}P=!0;let Q,ie;if(v)for(ie=v.length-1;ie>=0;ie--)Q=p.g=v[ie],P=si(Q,S,!0,p)&&P;if(Q=p.g=c,P=si(Q,S,!0,p)&&P,P=si(Q,S,!1,p)&&P,v)for(ie=0;ie<v.length;ie++)Q=p.g=v[ie],P=si(Q,S,!1,p)&&P}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)me(v[S]);delete c.g[p],c.h--}}this.G=null},xt.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},xt.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function si(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let Q=0;Q<p.length;++Q){const ie=p[Q];if(ie&&!ie.da&&ie.capture==v){const Se=ie.listener,mt=ie.ha||ie.src;ie.fa&&_e(c.i,ie),P=Se.call(mt,S)!==!1&&P}}return P&&!S.defaultPrevented}function mf(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(c,p||0)}function Uo(c){c.g=mf(()=>{c.g=null,c.i&&(c.i=!1,Uo(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Jt extends I{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){I.call(this),this.h=c,this.g={}}T(as,I);var il=[];function sl(c){Re(c.g,function(p,v){this.g.hasOwnProperty(v)&&qs(p)},c),c.g={}}as.prototype.N=function(){as.Z.N.call(this),sl(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=h.JSON.stringify,gf=h.JSON.parse,Po=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Bo(){}function ko(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){M.call(this,"d")}T(Pt,M);function Sn(){M.call(this,"c")}T(Sn,M);var dt={},qo=null;function Hs(){return qo=qo||new xt}dt.Ia="serverreachability";function Ho(c){M.call(this,dt.Ia,c)}T(Ho,M);function sa(c){const p=Hs();Mt(p,new Ho(p))}dt.STAT_EVENT="statevent";function is(c,p){M.call(this,dt.STAT_EVENT,c),this.stat=p}T(is,M);function vt(c){const p=Hs();Mt(p,new is(p,c))}dt.Ja="timingevent";function ra(c,p){M.call(this,dt.Ja,c),this.size=p}T(ra,M);function la(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},p)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function pf(c,p,v,S,P,Q){c.info(function(){if(c.g)if(Q){var ie="",Se=Q.split("&");for(let Fe=0;Fe<Se.length;Fe++){var mt=Se[Fe].split("=");if(mt.length>1){const rt=mt[0];mt=mt[1];const Cn=rt.split("_");ie=Cn.length>=2&&Cn[1]=="type"?ie+(rt+"="+mt+"&"):ie+(rt+"=redacted&")}}}else ie=null;else ie=Q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+p+`
`+v+`
`+ie})}function Fo(c,p,v,S,P,Q,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+p+`
`+v+`
`+Q+" "+ie})}function oa(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+yf(c,v)+(S?" "+S:"")})}function ss(c,p){c.info(function(){return"TIMEOUT: "+p})}qn.prototype.info=function(){};function yf(c,p){if(!c.g)return p;if(!p)return null;try{const Q=JSON.parse(p);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return ri(Q)}catch{return p}}var rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function ls(){}T(ls,Bo),ls.prototype.g=function(){return new XMLHttpRequest},ll=new ls;function Oa(c){return encodeURIComponent(String(c))}function Go(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Hn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var _t={},jt={};function ua(c,p,v){c.M=1,c.A=os(Et(p)),c.u=v,c.R=!0,Fs(c,null)}function Fs(c,p){c.F=Date.now(),ca(c),c.B=Et(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Xs(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Fn,c.g=ru(c.j,v?p:null,!c.u),c.P>0&&(c.O=new Jt(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(il[0]=P.toString()),P=il);for(let Q=0;Q<P.length;Q++){const ie=st(v,P[Q],S||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),sa(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Yn(c)==3?p.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Yn(this.g),mt=this.g.ya(),Fe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||mt==7||(mt==8||Fe<=0?sa(3):sa(2)),fa(this);var p=this.g.ca();this.X=p;var v=xf(this);if(this.o=p==200,Fo(this.i,this.v,this.B,this.l,this.S,Se,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var Q=S;break t}}Q=null}if(c=Q)oa(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ha(this,c);else{this.o=!1,this.m=3,vt(12),hn(this),An(this);break e}}if(this.R){c=!0;let rt;for(;!this.K&&this.C<v.length;)if(rt=Yo(this,v),rt==jt){Se==4&&(this.m=4,vt(14),c=!1),oa(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==_t){this.m=4,vt(15),oa(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else oa(this.i,this.l,rt,null),ha(this,rt);if(Qo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)oa(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),El(ie),ie.P=!0,vt(11))}}else oa(this.i,this.l,v,null),ha(this,v);Se==4&&hn(this),this.o&&!this.K&&(Se==4?nu(this.j,this):(this.o=!1,ca(this)))}else za(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),hn(this),An(this)}}}catch{}finally{}};function xf(c){if(!Qo(c))return c.g.la();const p=Bt(c.g);if(p==="")return"";let v="";const S=p.length,P=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return hn(c),An(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,v+=c.h.i.decode(p[Q],{stream:!(P&&Q==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Qo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Yo(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?jt:(v=Number(p.substring(v,S)),isNaN(v)?_t:(S+=1,S+v>p.length?jt:(p=p.slice(S,S+v),c.C=S+v,p)))}Hn.prototype.cancel=function(){this.K=!0,hn(this)};function ca(c){c.T=Date.now()+c.H,Gs(c,c.H)}function Gs(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=la(g(c.aa,c),p)}function fa(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ss(this.i,this.B),this.M!=2&&(sa(),vt(17)),hn(this),this.m=2,An(this)):Gs(this,this.T-c)};function An(c){c.j.I==0||c.K||nu(c.j,c)}function hn(c){fa(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,sl(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ha(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||ma(v.h,c))){if(!c.L&&ma(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ws(v),mi(v);else break e;gs(v),vt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=la(g(v.Va,v),6e3));da(v.h)<=1&&v.ta&&(v.ta=void 0)}else _a(v,11)}else if((c.L||v.g==c)&&Ws(v),!w(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let Fe=P[p];const rt=Fe[0];if(!(rt<=v.K))if(v.K=rt,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Cn=Fe[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const ba=Fe[4];ba!=null&&(v.za=ba,v.j.info("SVER="+v.za));const Xn=Fe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Kn=c.g;if(Kn){const ps=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var Q=S.h;Q.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(cl(Q,Q.h),Q.h=null))}if(S.G){const er=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;er&&(S.wa=er,Ye(S.J,S.G,er))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ie=c;if(S.na=su(S,S.L?S.ba:null,S.W),ie.L){fl(S.h,ie);var Se=ie,mt=S.O;mt&&(Se.H=mt),Se.D&&(fa(Se),ca(Se)),S.g=ie}else eu(S);v.i.length>0&&va(v)}else Fe[0]!="stop"&&Fe[0]!="close"||_a(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?_a(v,7):_l(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}sa(4)}catch{}}var bt=class{constructor(c,p){this.g=c,this.map=p}};function ol(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function da(c){return c.h?1:c.g?c.g.size:0}function ma(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function cl(c,p){c.g?c.g.add(p):c.h=p}function fl(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ol.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return V(c.i)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let P,Q=null;S>=0?(P=c[v].substring(0,S),Q=c[v].substring(S+1)):P=c[v],p(P,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof dn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,li(this,c.u),this.h=c.h,dl(this,Jo(c.i)),this.m=c.m):c&&(p=String(c).match(Xo))?(this.l=!1,zt(this,p[1]||"",!0),this.o=ga(p[2]||""),this.g=ga(p[3]||"",!0),li(this,p[4]),this.h=ga(p[5]||"",!0),dl(this,p[6]||"",!0),this.m=ga(p[7]||"")):(this.l=!1,this.i=new ui(null,this.l))}dn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(us(p,Ys,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(us(p,Ys,!0),"@"),c.push(Oa(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(us(v,v.charAt(0)=="/"?ml:Ko,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",us(v,$o)),c.join("")},dn.prototype.resolve=function(c){const p=Et(this);let v=!!c.j;v?zt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)li(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=p.h.lastIndexOf("/");P!=-1&&(S=p.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const Q=[];for(let ie=0;ie<P.length;){const Se=P[ie++];Se=="."?S&&ie==P.length&&Q.push(""):Se==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&ie==P.length&&Q.push("")):(Q.push(Se),S=!0)}S=Q.join("/")}else S=P}return v?p.h=S:v=c.i.toString()!=="",v?dl(p,Jo(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Et(c){return new dn(c)}function zt(c,p,v){c.j=v?ga(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function dl(c,p,v){p instanceof ui?(c.i=p,Ks(c.i,c.l)):(v||(p=us(p,oi)),c.i=new ui(p,c.l))}function Ye(c,p,v){c.i.set(p,v)}function os(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ga(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function us(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,tn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ys=/[#\/\?@]/g,Ko=/[#\?:]/g,ml=/[#\?]/g,oi=/[#\?@]/g,$o=/#/g;function ui(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Qs(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=ui.prototype,i.add=function(c,p){nn(this),this.i=null,c=ci(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Zo(c,p){nn(c),p=ci(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function gl(c,p){return nn(c),p=ci(c,p),c.g.has(p)}i.forEach=function(c,p){nn(this),this.g.forEach(function(v,S){v.forEach(function(P){c.call(p,P,S,this)},this)},this)};function pl(c,p){nn(c);let v=[];if(typeof p=="string")gl(c,p)&&(v=v.concat(c.g.get(ci(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}i.set=function(c,p){return nn(this),this.i=null,c=ci(this,c),gl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=pl(this,c),c.length>0?String(c[0]):p):p};function Xs(c,p,v){Zo(c,p),v.length>0&&(c.i=null,c.g.set(ci(c,p),V(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const P=Oa(v);v=pl(this,v);for(let Q=0;Q<v.length;Q++){let ie=P;v[Q]!==""&&(ie+="="+Oa(v[Q])),c.push(ie)}}return this.i=c.join("&")};function Jo(c){const p=new ui;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ci(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Ks(c,p){p&&!c.j&&(nn(c),c.i=null,c.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(Zo(this,S),Xs(this,P,v))},c)),c.j=p}function Gn(c,p){const v=new qn;if(h.Image){const S=new Image;S.onload=_(wn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=_(wn,v,"TestLoadImage: error",!1,p,S),S.onabort=_(wn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=_(wn,v,"TestLoadImage: timeout",!1,p,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function yl(c,p){const v=new qn,S=new AbortController,P=setTimeout(()=>{S.abort(),wn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(P),Q.ok?wn(v,"TestPingServer: ok",!0,p):wn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),wn(v,"TestPingServer: error",!1,p)})}function wn(c,p,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function fi(){this.g=new Po}function pa(c){this.i=c.Sb||null,this.h=c.ab||!1}T(pa,Bo),pa.prototype.g=function(){return new cs(this.i,this.h)};function cs(c,p){xt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(cs,xt),i=cs.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Qn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$s(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function $s(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?hi(this):Qn(this),this.readyState==3&&$s(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,hi(this))},i.Na=function(c){this.g&&(this.response=c,hi(this))},i.ga=function(){this.g&&hi(this)};function hi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}i.setRequestHeader=function(c,p){this.A.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let p="";return Re(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function fs(c,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Rn(v),typeof c=="string"?v!=null&&Oa(v):Ye(c,p,v))}function $e(c){xt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,xt);var ya=/^https?$/i,xl=["POST","PUT"];i=$e.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=N(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){hs(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(xl,p,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ie]of v)this.g.setRequestHeader(Q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){hs(this,Q)}};function hs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,vl(c),ja(c)}function vl(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),ja(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ja(this,!0)),$e.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ds(this):this.Xa())},i.Xa=function(){ds(this)};function ds(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=Q===0){let ie=String(c.D).match(Xo)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),S=!ya.test(ie?ie.toLowerCase():"")}v=S}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var P=Yn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",vl(c)}}finally{ja(c)}}}}function ja(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),gf(p)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function za(c){const p={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(w(c[S]))continue;var v=Go(c[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=p[P]||[];p[P]=Q,Q.push(v)}He(p,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function di(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xa("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xa("baseRetryDelayMs",5e3,c),this.Za=xa("retryDelaySeedMs",1e4,c),this.Ta=xa("forwardChannelMaxRetries",2,c),this.va=xa("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(c&&c.concurrentRequestLimit),this.Ba=new fi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=di.prototype,i.ka=8,i.I=1,i.connect=function(c,p,v,S){vt(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=su(this,null,this.W),va(this)};function _l(c){if(Zs(c),c.I==3){var p=c.V++,v=Et(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",p),Ye(v,"TYPE","terminate"),ms(c,v),p=new Hn(c,c.j,p),p.M=2,p.A=os(Et(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=p.A,v=!0),v||(p.g=ru(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ca(p)}iu(c)}function mi(c){c.g&&(El(c),c.g.cancel(),c.g=null)}function Zs(c){mi(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ws(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function va(c){if(!ul(c.h)&&!c.m){c.m=!0;var p=c.Ea;we||A(),se||(we(),se=!0),C.add(p,c),c.D=0}}function Js(c,p){return da(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=la(g(c.Ea,c,p),au(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Hn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=j(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(P.J=Q,Q=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Wo(this,P,p),v=Et(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),ms(this,v),Q&&(this.R?p="headers="+Oa(Rn(Q))+"&"+p:this.u&&fs(v,this.u,Q)),cl(this.h,P),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",p),Ye(v,"SID","null"),P.U=!0,ua(P,v,null)):ua(P,v,p),this.I=2}}else this.I==3&&(c?bl(this,c):this.i.length==0||ul(this.h)||bl(this))};function bl(c,p){var v;p?v=p.l:v=c.V++;const S=Et(c.J);Ye(S,"SID",c.M),Ye(S,"RID",v),Ye(S,"AID",c.K),ms(c,S),c.u&&c.o&&fs(S,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Wo(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),cl(c.h,v),ua(v,S,p)}function ms(c,p){c.H&&Re(c.H,function(v,S){Ye(p,S,v)}),c.l&&Re({},function(v,S){Ye(p,S,v)})}function Wo(c,p,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var P=c.i;let Se=-1;for(;;){const mt=["count="+v];Se==-1?v>0?(Se=P[0].g,mt.push("ofs="+Se)):Se=0:mt.push("ofs="+Se);let Fe=!0;for(let rt=0;rt<v;rt++){var Q=P[rt].g;const Cn=P[rt].map;if(Q-=Se,Q<0)Se=Math.max(0,P[rt].g-100),Fe=!1;else try{Q="req"+Q+"_"||"";try{var ie=Cn instanceof Map?Cn:Object.entries(Cn);for(const[ba,Xn]of ie){let Kn=Xn;m(Xn)&&(Kn=ri(Xn)),mt.push(Q+ba+"="+encodeURIComponent(Kn))}}catch(ba){throw mt.push(Q+"type="+encodeURIComponent("_badmap")),ba}}catch{S&&S(Cn)}}if(Fe){ie=mt.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),p.G=c,ie}function eu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;we||A(),se||(we(),se=!0),C.add(p,c),c.A=0}}function gs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=la(g(c.Da,c),au(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=la(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),mi(this),tu(this))};function El(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function tu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Et(c.na);Ye(p,"RID","rpc"),Ye(p,"SID",c.M),Ye(p,"AID",c.K),Ye(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(p,"TO",c.ia),Ye(p,"TYPE","xmlhttp"),ms(c,p),c.u&&c.o&&fs(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=os(Et(p)),v.u=null,v.R=!0,Fs(v,c)}i.Va=function(){this.C!=null&&(this.C=null,mi(this),gs(this),vt(19))};function Ws(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function nu(c,p){var v=null;if(c.g==p){Ws(c),El(c),c.g=null;var S=2}else if(ma(c.h,p))v=p.G,fl(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;S=Hs(),Mt(S,new ra(S,v)),va(c)}else eu(c);else if(P=p.m,P==3||P==0&&p.X>0||!(S==1&&Js(c,p)||S==2&&gs(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),P){case 1:_a(c,5);break;case 4:_a(c,10);break;case 3:_a(c,6);break;default:_a(c,2)}}}function au(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function _a(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),S=c.Ua;const P=!S;S=new dn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(S,"https"),os(S),P?Gn(S.toString(),v):yl(S.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(p),iu(c),Zs(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function iu(c){if(c.I=0,c.ja=[],c.l){const p=hl(c.h);(p.length!=0||c.i.length!=0)&&(H(c.ja,p),H(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function su(c,p,v){var S=v instanceof dn?Et(v):new dn(v);if(S.g!="")p&&(S.g=p+"."+S.g),li(S,S.u);else{var P=h.location;S=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const Q=new dn(null);S&&zt(Q,S),p&&(Q.g=p),P&&li(Q,P),v&&(Q.h=v),S=Q}return v=c.G,p=c.wa,v&&p&&Ye(S,v,p),Ye(S,"VER",c.ka),ms(c,S),S}function ru(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new $e(new pa({ab:v})):new $e(c.ma),p.Fa(c.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}i=lu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function gi(){}gi.prototype.g=function(c,p){return new Wt(c,p)};function Wt(c,p){xt.call(this),this.g=new di(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!w(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new La(this)}T(Wt,xt),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){_l(this.g)},Wt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ri(c),c=v);p.i.push(new bt(p.Ya++,c)),p.I==3&&va(p)},Wt.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,Wt.Z.N.call(this)};function ou(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(ou,Pt);function uu(){Sn.call(this),this.status=1}T(uu,Sn);function La(c){this.g=c}T(La,lu),La.prototype.ra=function(){Mt(this.g,"a")},La.prototype.qa=function(c){Mt(this.g,new ou(c))},La.prototype.pa=function(c){Mt(this.g,new uu)},La.prototype.oa=function(){Mt(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,C2=function(){return new gi},R2=function(){return Hs()},w2=dt,Bd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Ec=rs,rl.COMPLETE="complete",A2=rl,ko.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,oo=ko,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,S2=$e}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const Ky="@firebase/firestore",$y="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new y2("@firebase/firestore");function Ir(){return zs.logLevel}function oe(i,...t){if(zs.logLevel<=Be.DEBUG){const a=t.map(ym);zs.debug(`Firestore (${Zr}): ${i}`,...a)}}function ni(i,...t){if(zs.logLevel<=Be.ERROR){const a=t.map(ym);zs.error(`Firestore (${Zr}): ${i}`,...a)}}function Br(i,...t){if(zs.logLevel<=Be.WARN){const a=t.map(ym);zs.warn(`Firestore (${Zr}): ${i}`,...a)}}function ym(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i,t,a){let r="Unexpected state";typeof t=="string"?r=t:a=t,N2(i,r,a)}function N2(i,t,a){let r=`FIRESTORE (${Zr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(a!==void 0)try{r+=" CONTEXT: "+JSON.stringify(a)}catch{r+=" CONTEXT: "+a}throw ni(r),new Error(r)}function Qe(i,t,a,r){let o="Unexpected state";typeof a=="string"?o=a:r=a,i||N2(t,o,r)}function Te(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends $r{constructor(t,a){super(t,a),this.code=t,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise(((t,a)=>{this.resolve=t,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,a){t.enqueueRetryable((()=>a($t.UNAUTHENTICATED)))}shutdown(){}}class U6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,a){this.changeListener=a,t.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class P6{constructor(t){this.t=t,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,a){Qe(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,a(y)):Promise.resolve();let u=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fi,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fi)}}),0),h()}getToken(){const t=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((r=>this.i!==t?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new D2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qe(t===null||typeof t=="string",2055,{h:t}),new $t(t)}}class B6{constructor(t,a,r){this.P=t,this.T=a,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k6{constructor(t,a,r){this.P=t,this.T=a,this.I=r}getToken(){return Promise.resolve(new B6(this.P,this.T,this.I))}start(t,a){t.enqueueRetryable((()=>a($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q6{constructor(t,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_6(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,a){Qe(this.o===void 0,3512);const r=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?a(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((a=>a?(Qe(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new Zy(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(a);else for(let r=0;r<i;r++)a[r]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=H6(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<a&&(r+=t.charAt(o[u]%62))}return r}}function je(i,t){return i<t?-1:i>t?1:0}function kd(i,t){const a=Math.min(i.length,t.length);for(let r=0;r<a;r++){const o=i.charAt(r),u=t.charAt(r);if(o!==u)return Sd(o)===Sd(u)?je(o,u):Sd(o)?1:-1}return je(i.length,t.length)}const F6=55296,G6=57343;function Sd(i){const t=i.charCodeAt(0);return t>=F6&&t<=G6}function kr(i,t,a){return i.length===t.length&&i.every(((r,o)=>a(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="__name__";class Ra{constructor(t,a,r){a===void 0?a=0:a>t.length&&xe(637,{offset:a,range:t.length}),r===void 0?r=t.length-a:r>t.length-a&&xe(1746,{length:r,range:t.length-a}),this.segments=t,this.offset=a,this.len=r}get length(){return this.len}isEqual(t){return Ra.comparator(this,t)===0}child(t){const a=this.segments.slice(this.offset,this.limit());return t instanceof Ra?t.forEach((r=>{a.push(r)})):a.push(t),this.construct(a)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}forEach(t){for(let a=this.offset,r=this.limit();a<r;a++)t(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,a){const r=Math.min(t.length,a.length);for(let o=0;o<r;o++){const u=Ra.compareSegments(t.get(o),a.get(o));if(u!==0)return u}return je(t.length,a.length)}static compareSegments(t,a){const r=Ra.isNumericId(t),o=Ra.isNumericId(a);return r&&!o?-1:!r&&o?1:r&&o?Ra.extractNumericId(t).compare(Ra.extractNumericId(a)):kd(t,a)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hi.fromString(t.substring(4,t.length-2))}}class at extends Ra{construct(t,a,r){return new at(t,a,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const a=[];for(const r of t){if(r.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);a.push(...r.split("/").filter((o=>o.length>0)))}return new at(a)}static emptyPath(){return new at([])}}const Q6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ra{construct(t,a,r){return new Qt(t,a,r)}static isValidIdentifier(t){return Q6.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jy}static keyField(){return new Qt([Jy])}static fromServerFormat(t){const a=[];let r="",o=0;const u=()=>{if(r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(r),r=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qt(a)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.path=t}static fromPath(t){return new pe(at.fromString(t))}static fromName(t){return new pe(at.fromString(t).popFirst(5))}static empty(){return new pe(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&at.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,a){return at.comparator(t.path,a.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pe(new at(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(i,t,a){if(!a)throw new fe(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function Y6(i,t,a,r){if(t===!0&&r===!0)throw new fe(ne.INVALID_ARGUMENT,`${i} and ${a} cannot be used together.`)}function Wy(i){if(!pe.isDocumentKey(i))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function e1(i){if(pe.isDocumentKey(i))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function V2(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function vm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function Bn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=vm(i);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${a}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(i,t){const a={typeString:i};return t&&(a.value=t),a}function Mo(i,t){if(!V2(i))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let a;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){a=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){a=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){a=`Expected '${r}' field to equal '${u.value}'`;break}}if(a)throw new fe(ne.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=-62135596800,n1=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(t){return it.fromMillis(t.getTime())}static fromMillis(t){const a=Math.floor(t/1e3),r=Math.floor((t-1e3*a)*n1);return new it(a,r)}constructor(t,a){if(this.seconds=t,this.nanoseconds=a,a<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(t<t1)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n1}_compareTo(t){return this.seconds===t.seconds?je(this.nanoseconds,t.nanoseconds):je(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Mo(t,it._jsonSchema))return new it(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-t1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ct("string",it._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(t){return new be(t)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=-1;function X6(i,t){const a=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new it(a+1,0):new it(a,r));return new Qi(o,pe.empty(),t)}function K6(i){return new Qi(i.readTime,i.key,To)}class Qi{constructor(t,a,r){this.readTime=t,this.documentKey=a,this.largestBatchId=r}static min(){return new Qi(be.min(),pe.empty(),To)}static max(){return new Qi(be.max(),pe.empty(),To)}}function $6(i,t){let a=i.readTime.compareTo(t.readTime);return a!==0?a:(a=pe.comparator(i.documentKey,t.documentKey),a!==0?a:je(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jr(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==Z6)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(t){return this.next(void 0,t)}next(t,a){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(t,this.result):new ee(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(a,u).next(r,o)}}))}toPromise(){return new Promise(((t,a)=>{this.next(t,a)}))}wrapUserFunction(t){try{const a=t();return a instanceof ee?a:ee.resolve(a)}catch(a){return ee.reject(a)}}wrapSuccess(t,a){return t?this.wrapUserFunction((()=>t(a))):ee.resolve(a)}wrapFailure(t,a){return t?this.wrapUserFunction((()=>t(a))):ee.reject(a)}static resolve(t){return new ee(((a,r)=>{a(t)}))}static reject(t){return new ee(((a,r)=>{r(t)}))}static waitFor(t){return new ee(((a,r)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&a()}),(y=>r(y)))})),h=!0,u===o&&a()}))}static or(t){let a=ee.resolve(!1);for(const r of t)a=a.next((o=>o?ee.resolve(o):r()));return a}static forEach(t,a){const r=[];return t.forEach(((o,u)=>{r.push(a.call(this,o,u))})),this.waitFor(r)}static mapArray(t,a){return new ee(((r,o)=>{const u=t.length,h=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;a(t[g]).next((_=>{h[g]=_,++m,m===u&&r(h)}),(_=>o(_)))}}))}static doWhile(t,a){return new ee(((r,o)=>{const u=()=>{t()===!0?a().next((()=>{u()}),o):r()};u()}))}}function W6(i){const t=i.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function Wr(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>a.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Kc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=-1;function $c(i){return i==null}function Ic(i){return i===0&&1/i==-1/0}function eE(i){return typeof i=="number"&&Number.isInteger(i)&&!Ic(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="";function tE(i){let t="";for(let a=0;a<i.length;a++)t.length>0&&(t=a1(t)),t=nE(i.get(a),t);return a1(t)}function nE(i,t){let a=t;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":a+="";break;case I2:a+="";break;default:a+=u}}return a}function a1(i){return i+I2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(i){let t=0;for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&t++;return t}function Wi(i,t){for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&t(a,i[a])}function O2(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t,a){this.comparator=t,this.root=a||Gt.EMPTY}insert(t,a){return new ut(this.comparator,this.root.insert(t,a,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(t){return new ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(t){let a=this.root;for(;!a.isEmpty();){const r=this.comparator(t,a.key);if(r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}indexOf(t){let a=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return a+r.left.size;o<0?r=r.left:(a+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((a,r)=>(t(a,r),!1)))}toString(){const t=[];return this.inorderTraversal(((a,r)=>(t.push(`${a}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gc(this.root,t,this.comparator,!0)}}class gc{constructor(t,a,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=a?r(t.key,a):1,a&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const a={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Gt{constructor(t,a,r,o,u){this.key=t,this.value=a,this.color=r??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,a,r,o,u){return new Gt(t??this.key,a??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,a,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,a,r),null):u===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(t,a,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,a){let r,o=this;if(a(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(t,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,a)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xe(27949);return t+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(t,a,r,o,u){return this}insert(t,a,r){return new Gt(t,a)}remove(t,a){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.comparator=t,this.data=new ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((a,r)=>(t(a),!1)))}forEachInRange(t,a){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;a(o.key)}}forEachWhile(t,a){let r;for(r=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const a=this.data.getIteratorFrom(t);return a.hasNext()?a.getNext().key:null}getIterator(){return new s1(this.data.getIterator())}getIteratorFrom(t){return new s1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let a=this;return a.size<t.size&&(a=t,t=this),t.forEach((r=>{a=a.add(r)})),a}isEqual(t){if(!(t instanceof Ot)||this.size!==t.size)return!1;const a=this.data.getIterator(),r=t.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((a=>{t.push(a)})),t}toString(){const t=[];return this.forEach((a=>t.push(a))),"SortedSet("+t.toString()+")"}copy(t){const a=new Ot(this.comparator);return a.data=t,a}}class s1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.fields=t,t.sort(Qt.comparator)}static empty(){return new En([])}unionWith(t){let a=new Ot(Qt.comparator);for(const r of this.fields)a=a.add(r);for(const r of t)a=a.add(r);return new En(a.toArray())}covers(t){for(const a of this.fields)if(a.isPrefixOf(t))return!0;return!1}isEqual(t){return kr(this.fields,t.fields,((a,r)=>a.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.binaryString=t}static fromBase64String(t){const a=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new j2("Invalid base64 string: "+u):u}})(t);return new Yt(a)}static fromUint8Array(t){const a=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new Yt(a)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const r=new Uint8Array(a.length);for(let o=0;o<a.length;o++)r[o]=a.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return je(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const aE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(i){if(Qe(!!i,39018),typeof i=="string"){let t=0;const a=aE.exec(i);if(Qe(!!a,46558,{timestamp:i}),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xi(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="server_timestamp",L2="__type__",U2="__previous_value__",P2="__local_write_time__";function bm(i){return(i?.mapValue?.fields||{})[L2]?.stringValue===z2}function Zc(i){const t=i.mapValue.fields[U2];return bm(t)?Zc(t):t}function So(i){const t=Yi(i.mapValue.fields[P2].timestampValue);return new it(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,a,r,o,u,h,m,y,g,_){this.databaseId=t,this.appId=a,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=_}}const Oc="(default)";class Ao{constructor(t,a){this.projectId=t,this.database=a||Oc}static empty(){return new Ao("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(t){return t instanceof Ao&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="__type__",sE="__max__",pc={mapValue:{}},k2="__vector__",jc="value";function Ki(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bm(i)?4:lE(i)?9007199254740991:rE(i)?10:11:xe(28295,{value:i})}function Va(i,t){if(i===t)return!0;const a=Ki(i);if(a!==Ki(t))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return So(i).isEqual(So(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Yi(o.timestampValue),m=Yi(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Xi(o.bytesValue).isEqual(Xi(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Ic(h)===Ic(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return kr(i.arrayValue.values||[],t.arrayValue.values||[],Va);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(i1(h)!==i1(m))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(m[y]===void 0||!Va(h[y],m[y])))return!1;return!0})(i,t);default:return xe(52216,{left:i})}}function wo(i,t){return(i.values||[]).find((a=>Va(a,t)))!==void 0}function qr(i,t){if(i===t)return 0;const a=Ki(i),r=Ki(t);if(a!==r)return je(a,r);switch(a){case 0:case 9007199254740991:return 0;case 1:return je(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=yt(u.integerValue||u.doubleValue),y=yt(h.integerValue||h.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,t);case 3:return r1(i.timestampValue,t.timestampValue);case 4:return r1(So(i),So(t));case 5:return kd(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=Xi(u),y=Xi(h);return m.compareTo(y)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),y=h.split("/");for(let g=0;g<m.length&&g<y.length;g++){const _=je(m[g],y[g]);if(_!==0)return _}return je(m.length,y.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=je(yt(u.latitude),yt(h.latitude));return m!==0?m:je(yt(u.longitude),yt(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return l1(i.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},y=h.fields||{},g=m[jc]?.arrayValue,_=y[jc]?.arrayValue,T=je(g?.values?.length||0,_?.values?.length||0);return T!==0?T:l1(g,_)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===pc.mapValue&&h===pc.mapValue)return 0;if(u===pc.mapValue)return 1;if(h===pc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=h.fields||{},_=Object.keys(g);y.sort(),_.sort();for(let T=0;T<y.length&&T<_.length;++T){const N=kd(y[T],_[T]);if(N!==0)return N;const V=qr(m[y[T]],g[_[T]]);if(V!==0)return V}return je(y.length,_.length)})(i.mapValue,t.mapValue);default:throw xe(23264,{he:a})}}function r1(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return je(i,t);const a=Yi(i),r=Yi(t),o=je(a.seconds,r.seconds);return o!==0?o:je(a.nanos,r.nanos)}function l1(i,t){const a=i.values||[],r=t.values||[];for(let o=0;o<a.length&&o<r.length;++o){const u=qr(a[o],r[o]);if(u)return u}return je(a.length,r.length)}function Hr(i){return qd(i)}function qd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(a){const r=Yi(a);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(a){return Xi(a).toBase64()})(i.bytesValue):"referenceValue"in i?(function(a){return pe.fromName(a).toString()})(i.referenceValue):"geoPointValue"in i?(function(a){return`geo(${a.latitude},${a.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(a){let r="[",o=!0;for(const u of a.values||[])o?o=!1:r+=",",r+=qd(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(a){const r=Object.keys(a.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${qd(a.fields[h])}`;return o+"}"})(i.mapValue):xe(61005,{value:i})}function Tc(i){switch(Ki(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zc(i);return t?16+Tc(t):16;case 5:return 2*i.stringValue.length;case 6:return Xi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Tc(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Wi(r.fields,((u,h)=>{o+=u.length+Tc(h)})),o})(i.mapValue);default:throw xe(13486,{value:i})}}function Hd(i){return!!i&&"integerValue"in i}function Em(i){return!!i&&"arrayValue"in i}function o1(i){return!!i&&"nullValue"in i}function u1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sc(i){return!!i&&"mapValue"in i}function rE(i){return(i?.mapValue?.fields||{})[B2]?.stringValue===k2}function mo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Wi(i.mapValue.fields,((a,r)=>t.mapValue.fields[a]=mo(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let a=0;a<(i.arrayValue.values||[]).length;++a)t.arrayValue.values[a]=mo(i.arrayValue.values[a]);return t}return{...i}}function lE(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===sE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let a=this.value;for(let r=0;r<t.length-1;++r)if(a=(a.mapValue.fields||{})[t.get(r)],!Sc(a))return null;return a=(a.mapValue.fields||{})[t.lastSegment()],a||null}}set(t,a){this.getFieldsMap(t.popLast())[t.lastSegment()]=mo(a)}setAll(t){let a=Qt.emptyPath(),r={},o=[];t.forEach(((h,m)=>{if(!a.isImmediateParentOf(m)){const y=this.getFieldsMap(a);this.applyChanges(y,r,o),r={},o=[],a=m.popLast()}h?r[m.lastSegment()]=mo(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(a);this.applyChanges(u,r,o)}delete(t){const a=this.field(t.popLast());Sc(a)&&a.mapValue.fields&&delete a.mapValue.fields[t.lastSegment()]}isEqual(t){return Va(this.value,t.value)}getFieldsMap(t){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=a.mapValue.fields[t.get(r)];Sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[t.get(r)]=o),a=o}return a.mapValue.fields}applyChanges(t,a,r){Wi(a,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new cn(mo(this.value))}}function q2(i){const t=[];return Wi(i.fields,((a,r)=>{const o=new Qt([a]);if(Sc(r)){const u=q2(r.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new En(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t,a,r,o,u,h,m){this.key=t,this.documentType=a,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Zt(t,0,be.min(),be.min(),be.min(),cn.empty(),0)}static newFoundDocument(t,a,r,o){return new Zt(t,1,a,be.min(),r,o,0)}static newNoDocument(t,a){return new Zt(t,2,a,be.min(),be.min(),cn.empty(),0)}static newUnknownDocument(t,a){return new Zt(t,3,a,be.min(),be.min(),cn.empty(),2)}convertToFoundDocument(t,a){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Zt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,a){this.position=t,this.inclusive=a}}function c1(i,t,a){let r=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(h.referenceValue),a.key):r=qr(h,a.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function f1(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let a=0;a<i.position.length;a++)if(!Va(i.position[a],t.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,a="asc"){this.field=t,this.dir=a}}function oE(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{}class It extends H2{constructor(t,a,r){super(),this.field=t,this.op=a,this.value=r}static create(t,a,r){return t.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(t,a,r):new cE(t,a,r):a==="array-contains"?new dE(t,r):a==="in"?new mE(t,r):a==="not-in"?new gE(t,r):a==="array-contains-any"?new pE(t,r):new It(t,a,r)}static createKeyFieldInFilter(t,a,r){return a==="in"?new fE(t,r):new hE(t,r)}matches(t){const a=t.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(qr(a,this.value)):a!==null&&Ki(this.value)===Ki(a)&&this.matchesComparison(qr(a,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ia extends H2{constructor(t,a){super(),this.filters=t,this.op=a,this.Pe=null}static create(t,a){return new Ia(t,a)}matches(t){return F2(this)?this.filters.find((a=>!a.matches(t)))===void 0:this.filters.find((a=>a.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,a)=>t.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function F2(i){return i.op==="and"}function G2(i){return uE(i)&&F2(i)}function uE(i){for(const t of i.filters)if(t instanceof Ia)return!1;return!0}function Fd(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+Hr(i.value);if(G2(i))return i.filters.map((t=>Fd(t))).join(",");{const t=i.filters.map((a=>Fd(a))).join(",");return`${i.op}(${t})`}}function Q2(i,t){return i instanceof It?(function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&Va(r.value,o.value)})(i,t):i instanceof Ia?(function(r,o){return o instanceof Ia&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,m)=>u&&Q2(h,o.filters[m])),!0):!1})(i,t):void xe(19439)}function Y2(i){return i instanceof It?(function(a){return`${a.field.canonicalString()} ${a.op} ${Hr(a.value)}`})(i):i instanceof Ia?(function(a){return a.op.toString()+" {"+a.getFilters().map(Y2).join(" ,")+"}"})(i):"Filter"}class cE extends It{constructor(t,a,r){super(t,a,r),this.key=pe.fromName(r.referenceValue)}matches(t){const a=pe.comparator(t.key,this.key);return this.matchesComparison(a)}}class fE extends It{constructor(t,a){super(t,"in",a),this.keys=X2("in",a)}matches(t){return this.keys.some((a=>a.isEqual(t.key)))}}class hE extends It{constructor(t,a){super(t,"not-in",a),this.keys=X2("not-in",a)}matches(t){return!this.keys.some((a=>a.isEqual(t.key)))}}function X2(i,t){return(t.arrayValue?.values||[]).map((a=>pe.fromName(a.referenceValue)))}class dE extends It{constructor(t,a){super(t,"array-contains",a)}matches(t){const a=t.data.field(this.field);return Em(a)&&wo(a.arrayValue,this.value)}}class mE extends It{constructor(t,a){super(t,"in",a)}matches(t){const a=t.data.field(this.field);return a!==null&&wo(this.value.arrayValue,a)}}class gE extends It{constructor(t,a){super(t,"not-in",a)}matches(t){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=t.data.field(this.field);return a!==null&&a.nullValue===void 0&&!wo(this.value.arrayValue,a)}}class pE extends It{constructor(t,a){super(t,"array-contains-any",a)}matches(t){const a=t.data.field(this.field);return!(!Em(a)||!a.arrayValue.values)&&a.arrayValue.values.some((r=>wo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,a=null,r=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=a,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function h1(i,t=null,a=[],r=[],o=null,u=null,h=null){return new yE(i,t,a,r,o,u,h)}function Tm(i){const t=Te(i);if(t.Te===null){let a=t.path.canonicalString();t.collectionGroup!==null&&(a+="|cg:"+t.collectionGroup),a+="|f:",a+=t.filters.map((r=>Fd(r))).join(","),a+="|ob:",a+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),$c(t.limit)||(a+="|l:",a+=t.limit),t.startAt&&(a+="|lb:",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((r=>Hr(r))).join(",")),t.endAt&&(a+="|ub:",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((r=>Hr(r))).join(",")),t.Te=a}return t.Te}function Sm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<i.orderBy.length;a++)if(!oE(i.orderBy[a],t.orderBy[a]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let a=0;a<i.filters.length;a++)if(!Q2(i.filters[a],t.filters[a]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!f1(i.startAt,t.startAt)&&f1(i.endAt,t.endAt)}function Gd(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,a=null,r=[],o=[],u=null,h="F",m=null,y=null){this.path=t,this.collectionGroup=a,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xE(i,t,a,r,o,u,h,m){return new Jc(i,t,a,r,o,u,h,m)}function Am(i){return new Jc(i)}function d1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vE(i){return i.collectionGroup!==null}function go(i){const t=Te(i);if(t.Ie===null){t.Ie=[];const a=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),a.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ot(Qt.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{a.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Lc(u,r))})),a.has(Qt.keyField().canonicalString())||t.Ie.push(new Lc(Qt.keyField(),r))}return t.Ie}function Ca(i){const t=Te(i);return t.Ee||(t.Ee=_E(t,go(i))),t.Ee}function _E(i,t){if(i.limitType==="F")return h1(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Lc(o.field,u)}));const a=i.endAt?new zc(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new zc(i.startAt.position,i.startAt.inclusive):null;return h1(i.path,i.collectionGroup,t,i.filters,i.limit,a,r)}}function Qd(i,t,a){return new Jc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,a,i.startAt,i.endAt)}function Wc(i,t){return Sm(Ca(i),Ca(t))&&i.limitType===t.limitType}function K2(i){return`${Tm(Ca(i))}|lt:${i.limitType}`}function Or(i){return`Query(target=${(function(a){let r=a.path.canonicalString();return a.collectionGroup!==null&&(r+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(r+=`, filters: [${a.filters.map((o=>Y2(o))).join(", ")}]`),$c(a.limit)||(r+=", limit: "+a.limit),a.orderBy.length>0&&(r+=`, orderBy: [${a.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),a.startAt&&(r+=", startAt: ",r+=a.startAt.inclusive?"b:":"a:",r+=a.startAt.position.map((o=>Hr(o))).join(",")),a.endAt&&(r+=", endAt: ",r+=a.endAt.inclusive?"a:":"b:",r+=a.endAt.position.map((o=>Hr(o))).join(",")),`Target(${r})`})(Ca(i))}; limitType=${i.limitType})`}function ef(i,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,o){for(const u of go(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(r,o){return!(r.startAt&&!(function(h,m,y){const g=c1(h,m,y);return h.inclusive?g<=0:g<0})(r.startAt,go(r),o)||r.endAt&&!(function(h,m,y){const g=c1(h,m,y);return h.inclusive?g>=0:g>0})(r.endAt,go(r),o))})(i,t)}function bE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $2(i){return(t,a)=>{let r=!1;for(const o of go(i)){const u=EE(o,t,a);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function EE(i,t,a){const r=i.field.isKeyField()?pe.comparator(t.key,a.key):(function(u,h,m){const y=h.data.field(u),g=m.data.field(u);return y!==null&&g!==null?qr(y,g):xe(42886)})(i.field,t,a);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,a){this.mapKeyFn=t,this.equalsFn=a,this.inner={},this.innerSize=0}get(t){const a=this.mapKeyFn(t),r=this.inner[a];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,a){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,a]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,a]);o.push([t,a]),this.innerSize++}delete(t){const a=this.mapKeyFn(t),r=this.inner[a];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[a]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Wi(this.inner,((a,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return O2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new ut(pe.comparator);function ai(){return TE}const Z2=new ut(pe.comparator);function uo(...i){let t=Z2;for(const a of i)t=t.insert(a.key,a);return t}function J2(i){let t=Z2;return i.forEach(((a,r)=>t=t.insert(a,r.overlayedDocument))),t}function Is(){return po()}function W2(){return po()}function po(){return new Us((i=>i.toString()),((i,t)=>i.isEqual(t)))}const SE=new ut(pe.comparator),AE=new Ot(pe.comparator);function ze(...i){let t=AE;for(const a of i)t=t.add(a);return t}const wE=new Ot(je);function RE(){return wE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(t)?"-0":t}}function ex(i){return{integerValue:""+i}}function CE(i,t){return eE(t)?ex(t):wm(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function NE(i,t,a){return i instanceof Uc?(function(o,u){const h={fields:{[L2]:{stringValue:z2},[P2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bm(u)&&(u=Zc(u)),u&&(h.fields[U2]=u),{mapValue:h}})(a,t):i instanceof Ro?nx(i,t):i instanceof Co?ax(i,t):(function(o,u){const h=tx(o,u),m=m1(h)+m1(o.Ae);return Hd(h)&&Hd(o.Ae)?ex(m):wm(o.serializer,m)})(i,t)}function DE(i,t,a){return i instanceof Ro?nx(i,t):i instanceof Co?ax(i,t):a}function tx(i,t){return i instanceof Pc?(function(r){return Hd(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Uc extends tf{}class Ro extends tf{constructor(t){super(),this.elements=t}}function nx(i,t){const a=ix(t);for(const r of i.elements)a.some((o=>Va(o,r)))||a.push(r);return{arrayValue:{values:a}}}class Co extends tf{constructor(t){super(),this.elements=t}}function ax(i,t){let a=ix(t);for(const r of i.elements)a=a.filter((o=>!Va(o,r)));return{arrayValue:{values:a}}}class Pc extends tf{constructor(t,a){super(),this.serializer=t,this.Ae=a}}function m1(i){return yt(i.integerValue||i.doubleValue)}function ix(i){return Em(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function ME(i,t){return i.field.isEqual(t.field)&&(function(r,o){return r instanceof Ro&&o instanceof Ro||r instanceof Co&&o instanceof Co?kr(r.elements,o.elements,Va):r instanceof Pc&&o instanceof Pc?Va(r.Ae,o.Ae):r instanceof Uc&&o instanceof Uc})(i.transform,t.transform)}class VE{constructor(t,a){this.version=t,this.transformResults=a}}class fn{constructor(t,a){this.updateTime=t,this.exists=a}static none(){return new fn}static exists(t){return new fn(void 0,t)}static updateTime(t){return new fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ac(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class nf{}function sx(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new af(i.key,fn.none()):new Vo(i.key,i.data,fn.none());{const a=i.data,r=cn.empty();let o=new Ot(Qt.comparator);for(let u of t.fields)if(!o.has(u)){let h=a.field(u);h===null&&u.length>1&&(u=u.popLast(),h=a.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new es(i.key,r,new En(o.toArray()),fn.none())}}function IE(i,t,a){i instanceof Vo?(function(o,u,h){const m=o.value.clone(),y=p1(o.fieldTransforms,u,h.transformResults);m.setAll(y),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,a):i instanceof es?(function(o,u,h){if(!Ac(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=p1(o.fieldTransforms,u,h.transformResults),y=u.data;y.setAll(rx(o)),y.setAll(m),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(i,t,a):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,a)}function yo(i,t,a,r){return i instanceof Vo?(function(u,h,m,y){if(!Ac(u.precondition,h))return m;const g=u.value.clone(),_=y1(u.fieldTransforms,y,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,t,a,r):i instanceof es?(function(u,h,m,y){if(!Ac(u.precondition,h))return m;const g=y1(u.fieldTransforms,y,h),_=h.data;return _.setAll(rx(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,a,r):(function(u,h,m){return Ac(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,a)}function OE(i,t){let a=null;for(const r of i.fieldTransforms){const o=t.data.field(r.field),u=tx(r.transform,o||null);u!=null&&(a===null&&(a=cn.empty()),a.set(r.field,u))}return a||null}function g1(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&kr(r,o,((u,h)=>ME(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Vo extends nf{constructor(t,a,r,o=[]){super(),this.key=t,this.value=a,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class es extends nf{constructor(t,a,r,o,u=[]){super(),this.key=t,this.data=a,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rx(i){const t=new Map;return i.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const r=i.data.field(a);t.set(a,r)}})),t}function p1(i,t,a){const r=new Map;Qe(i.length===a.length,32656,{Re:a.length,Ve:i.length});for(let o=0;o<a.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);r.set(u.field,DE(h,m,a[o]))}return r}function y1(i,t,a){const r=new Map;for(const o of i){const u=o.transform,h=a.data.field(o.field);r.set(o.field,NE(u,h,t))}return r}class af extends nf{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jE extends nf{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,a,r,o){this.batchId=t,this.localWriteTime=a,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,a){const r=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&IE(u,t,r[o])}}applyToLocalView(t,a){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(a=yo(r,t,a,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(a=yo(r,t,a,this.localWriteTime));return a}applyToLocalDocumentSet(t,a){const r=W2();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=a.has(o.key)?null:m;const y=sx(h,m);y!==null&&r.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((t,a)=>t.add(a.key)),ze())}isEqual(t){return this.batchId===t.batchId&&kr(this.mutations,t.mutations,((a,r)=>g1(a,r)))&&kr(this.baseMutations,t.baseMutations,((a,r)=>g1(a,r)))}}class Rm{constructor(t,a,r,o){this.batch=t,this.commitVersion=a,this.mutationResults=r,this.docVersions=o}static from(t,a,r){Qe(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return SE})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Rm(t,a,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,a){this.largestBatchId=t,this.mutation=a}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,a){this.count=t,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Pe;function PE(i){switch(i){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:i})}}function lx(i){if(i===void 0)return ni("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:i})}}(Pe=Rt||(Rt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Hi([4294967295,4294967295],0);function x1(i){const t=BE().encode(i),a=new T2;return a.update(t),new Uint8Array(a.digest())}function v1(i){const t=new DataView(i.buffer),a=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Hi([a,r],0),new Hi([o,u],0)]}class Cm{constructor(t,a,r){if(this.bitmap=t,this.padding=a,this.hashCount=r,a<0||a>=8)throw new co(`Invalid padding: ${a}`);if(r<0)throw new co(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${r}`);if(t.length===0&&a!==0)throw new co(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*t.length-a,this.pe=Hi.fromNumber(this.ge)}ye(t,a,r){let o=t.add(a.multiply(Hi.fromNumber(r)));return o.compare(kE)===1&&(o=new Hi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const a=x1(t),[r,o]=v1(a);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(t,a,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Cm(u,o,a);return r.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const a=x1(t),[r,o]=v1(a);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(t){const a=Math.floor(t/8),r=t%8;this.bitmap[a]|=1<<r}}class co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,a,r,o,u){this.snapshotVersion=t,this.targetChanges=a,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,a,r){const o=new Map;return o.set(t,Io.createSynthesizedTargetChangeForCurrentChange(t,a,r)),new sf(be.min(),o,new ut(je),ai(),ze())}}class Io{constructor(t,a,r,o,u){this.resumeToken=t,this.current=a,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,a,r){return new Io(r,a,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,a,r,o){this.be=t,this.removedTargetIds=a,this.key=r,this.De=o}}class ox{constructor(t,a){this.targetId=t,this.Ce=a}}class ux{constructor(t,a,r=Yt.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=a,this.resumeToken=r,this.cause=o}}class _1{constructor(){this.ve=0,this.Fe=b1(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ze(),a=ze(),r=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:a=a.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:u})}})),new Io(this.Me,this.xe,t,a,r)}qe(){this.Oe=!1,this.Fe=b1()}Qe(t,a){this.Oe=!0,this.Fe=this.Fe.insert(t,a)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qE{constructor(t){this.Ge=t,this.ze=new Map,this.je=ai(),this.Je=yc(),this.He=yc(),this.Ye=new ut(je)}Ze(t){for(const a of t.be)t.De&&t.De.isFoundDocument()?this.Xe(a,t.De):this.et(a,t.key,t.De);for(const a of t.removedTargetIds)this.et(a,t.key,t.De)}tt(t){this.forEachTarget(t,(a=>{const r=this.nt(a);switch(t.state){case 0:this.rt(a)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(a)&&(this.it(a),r.Le(t.resumeToken));break;default:xe(56790,{state:t.state})}}))}forEachTarget(t,a){t.targetIds.length>0?t.targetIds.forEach(a):this.ze.forEach(((r,o)=>{this.rt(o)&&a(o)}))}st(t){const a=t.targetId,r=t.Ce.count,o=this.ot(a);if(o){const u=o.target;if(Gd(u))if(r===0){const h=new pe(u.path);this.et(a,h,Zt.newNoDocument(h,be.min()))}else Qe(r===1,20013,{expectedCount:r});else{const h=this._t(a);if(h!==r){const m=this.ut(t),y=m?this.ct(m,t,h):1;if(y!==0){this.it(a);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,g)}}}}}ut(t){const a=t.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=a;let h,m;try{h=Xi(r).toUint8Array()}catch(y){if(y instanceof j2)return Br("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Cm(h,o,u)}catch(y){return Br(y instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,a,r){return a.Ce.count===r-this.Pt(t,a.targetId)?0:2}Pt(t,a){const r=this.Ge.getRemoteKeysForTarget(a);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(a,u,null),o++)})),o}Tt(t){const a=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Gd(m.target)){const y=new pe(m.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,Zt.newNoDocument(y,t))}u.Be&&(a.set(h,u.ke()),u.qe())}}));let r=ze();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const o=new sf(t,a,this.Ye,this.je,r);return this.je=ai(),this.Je=yc(),this.He=yc(),this.Ye=new ut(je),o}Xe(t,a){if(!this.rt(t))return;const r=this.Et(t,a.key)?2:0;this.nt(t).Qe(a.key,r),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(t)),this.He=this.He.insert(a.key,this.dt(a.key).add(t))}et(t,a,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,a)?o.Qe(a,1):o.$e(a),this.He=this.He.insert(a,this.dt(a).delete(t)),this.He=this.He.insert(a,this.dt(a).add(t)),r&&(this.je=this.je.insert(a,r))}removeTarget(t){this.ze.delete(t)}_t(t){const a=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+a.addedDocuments.size-a.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let a=this.ze.get(t);return a||(a=new _1,this.ze.set(t,a)),a}dt(t){let a=this.He.get(t);return a||(a=new Ot(je),this.He=this.He.insert(t,a)),a}It(t){let a=this.Je.get(t);return a||(a=new Ot(je),this.Je=this.Je.insert(t,a)),a}rt(t){const a=this.ot(t)!==null;return a||oe("WatchChangeAggregator","Detected inactive target",t),a}ot(t){const a=this.ze.get(t);return a&&a.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _1),this.Ge.getRemoteKeysForTarget(t).forEach((a=>{this.et(t,a,null)}))}Et(t,a){return this.Ge.getRemoteKeysForTarget(t).has(a)}}function yc(){return new ut(pe.comparator)}function b1(){return new ut(pe.comparator)}const HE={asc:"ASCENDING",desc:"DESCENDING"},FE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GE={and:"AND",or:"OR"};class QE{constructor(t,a){this.databaseId=t,this.useProto3Json=a}}function Yd(i,t){return i.useProto3Json||$c(t)?t:{value:t}}function Bc(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cx(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function YE(i,t){return Bc(i,t.toTimestamp())}function Na(i){return Qe(!!i,49232),be.fromTimestamp((function(a){const r=Yi(a);return new it(r.seconds,r.nanos)})(i))}function Nm(i,t){return Xd(i,t).canonicalString()}function Xd(i,t){const a=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?a:a.child(t)}function fx(i){const t=at.fromString(i);return Qe(px(t),10190,{key:t.toString()}),t}function Kd(i,t){return Nm(i.databaseId,t.path)}function Ad(i,t){const a=fx(t);if(a.get(1)!==i.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+i.databaseId.projectId);if(a.get(3)!==i.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+i.databaseId.database);return new pe(dx(a))}function hx(i,t){return Nm(i.databaseId,t)}function XE(i){const t=fx(i);return t.length===4?at.emptyPath():dx(t)}function $d(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function dx(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function E1(i,t,a){return{name:Kd(i,t),fields:a.value.mapValue.fields}}function KE(i,t){let a;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Qe(_===void 0||typeof _=="string",58123),Yt.fromBase64String(_||"")):(Qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Yt.fromUint8Array(_||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const _=g.code===void 0?ne.UNKNOWN:lx(g.code);return new fe(_,g.message||"")})(h);a=new ux(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ad(i,r.document.name),u=Na(r.document.updateTime),h=r.document.createTime?Na(r.document.createTime):be.min(),m=new cn({mapValue:{fields:r.document.fields}}),y=Zt.newFoundDocument(o,u,h,m),g=r.targetIds||[],_=r.removedTargetIds||[];a=new wc(g,_,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Ad(i,r.document),u=r.readTime?Na(r.readTime):be.min(),h=Zt.newNoDocument(o,u),m=r.removedTargetIds||[];a=new wc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Ad(i,r.document),u=r.removedTargetIds||[];a=new wc([],u,o,null)}else{if(!("filter"in t))return xe(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new UE(o,u),m=r.targetId;a=new ox(m,h)}}return a}function $E(i,t){let a;if(t instanceof Vo)a={update:E1(i,t.key,t.value)};else if(t instanceof af)a={delete:Kd(i,t.key)};else if(t instanceof es)a={update:E1(i,t.key,t.data),updateMask:sT(t.fieldMask)};else{if(!(t instanceof jE))return xe(16599,{Vt:t.type});a={verify:Kd(i,t.key)}}return t.fieldTransforms.length>0&&(a.updateTransforms=t.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof Uc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ro)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Co)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Pc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw xe(20930,{transform:h.transform})})(0,r)))),t.precondition.isNone||(a.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:YE(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(i,t.precondition)),a}function ZE(i,t){return i&&i.length>0?(Qe(t!==void 0,14353),i.map((a=>(function(o,u){let h=o.updateTime?Na(o.updateTime):Na(u);return h.isEqual(be.min())&&(h=Na(u)),new VE(h,o.transformResults||[])})(a,t)))):[]}function JE(i,t){return{documents:[hx(i,t.path)]}}function WE(i,t){const a={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),a.structuredQuery.from=[{collectionId:r.lastSegment()}]),a.parent=hx(i,o);const u=(function(g){if(g.length!==0)return gx(Ia.create(g,"and"))})(t.filters);u&&(a.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((_=>(function(N){return{field:jr(N.field),direction:nT(N.dir)}})(_)))})(t.orderBy);h&&(a.structuredQuery.orderBy=h);const m=Yd(i,t.limit);return m!==null&&(a.structuredQuery.limit=m),t.startAt&&(a.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(a.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:a,parent:o}}function eT(i){let t=XE(i.parent);const a=i.structuredQuery,r=a.from?a.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const _=a.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];a.where&&(u=(function(T){const N=mx(T);return N instanceof Ia&&G2(N)?N.getFilters():[N]})(a.where));let h=[];a.orderBy&&(h=(function(T){return T.map((N=>(function(H){return new Lc(zr(H.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(N)))})(a.orderBy));let m=null;a.limit&&(m=(function(T){let N;return N=typeof T=="object"?T.value:T,$c(N)?null:N})(a.limit));let y=null;a.startAt&&(y=(function(T){const N=!!T.before,V=T.values||[];return new zc(V,N)})(a.startAt));let g=null;return a.endAt&&(g=(function(T){const N=!T.before,V=T.values||[];return new zc(V,N)})(a.endAt)),xE(t,o,h,u,m,"F",y,g)}function tT(i,t){const a=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(t.purpose);return a==null?null:{"goog-listen-tags":a}}function mx(i){return i.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const r=zr(a.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=zr(a.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zr(a.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=zr(a.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(i):i.fieldFilter!==void 0?(function(a){return It.create(zr(a.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(a){return Ia.create(a.compositeFilter.filters.map((r=>mx(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(a.compositeFilter.op))})(i):xe(30097,{filter:i})}function nT(i){return HE[i]}function aT(i){return FE[i]}function iT(i){return GE[i]}function jr(i){return{fieldPath:i.canonicalString()}}function zr(i){return Qt.fromServerFormat(i.fieldPath)}function gx(i){return i instanceof It?(function(a){if(a.op==="=="){if(u1(a.value))return{unaryFilter:{field:jr(a.field),op:"IS_NAN"}};if(o1(a.value))return{unaryFilter:{field:jr(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(u1(a.value))return{unaryFilter:{field:jr(a.field),op:"IS_NOT_NAN"}};if(o1(a.value))return{unaryFilter:{field:jr(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jr(a.field),op:aT(a.op),value:a.value}}})(i):i instanceof Ia?(function(a){const r=a.getFilters().map((o=>gx(o)));return r.length===1?r[0]:{compositeFilter:{op:iT(a.op),filters:r}}})(i):xe(54877,{filter:i})}function sT(i){const t=[];return i.fields.forEach((a=>t.push(a.canonicalString()))),{fieldPaths:t}}function px(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,a,r,o,u=be.min(),h=be.min(),m=Yt.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=a,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Pi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,a){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t){this.yt=t}}function lT(i){const t=eT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Qd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.Cn=new uT}addToCollectionParentIndex(t,a){return this.Cn.add(a),ee.resolve()}getCollectionParents(t,a){return ee.resolve(this.Cn.getEntries(a))}addFieldIndex(t,a){return ee.resolve()}deleteFieldIndex(t,a){return ee.resolve()}deleteAllFieldIndexes(t){return ee.resolve()}createTargetIndexes(t,a){return ee.resolve()}getDocumentsMatchingTarget(t,a){return ee.resolve(null)}getIndexType(t,a){return ee.resolve(0)}getFieldIndexes(t,a){return ee.resolve([])}getNextCollectionGroupToUpdate(t){return ee.resolve(null)}getMinOffset(t,a){return ee.resolve(Qi.min())}getMinOffsetFromCollectionGroup(t,a){return ee.resolve(Qi.min())}updateCollectionGroup(t,a,r){return ee.resolve()}updateIndexEntries(t,a){return ee.resolve()}}class uT{constructor(){this.index={}}add(t){const a=t.lastSegment(),r=t.popLast(),o=this.index[a]||new Ot(at.comparator),u=!o.has(r);return this.index[a]=o.add(r),u}has(t){const a=t.lastSegment(),r=t.popLast(),o=this.index[a];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ot(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yx=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,a,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(yx,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Fr(0)}static cr(){return new Fr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="LruGarbageCollector",cT=1048576;function A1([i,t],[a,r]){const o=je(i,a);return o===0?je(t,r):o}class fT{constructor(t){this.Ir=t,this.buffer=new Ot(A1),this.Er=0}dr(){return++this.Er}Ar(t){const a=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const r=this.buffer.last();A1(a,r)<0&&(this.buffer=this.buffer.delete(r).add(a))}}get maxValue(){return this.buffer.last()[0]}}class hT{constructor(t,a,r){this.garbageCollector=t,this.asyncQueue=a,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){oe(S1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){Wr(a)?oe(S1,"Ignoring IndexedDB error during garbage collection: ",a):await Jr(a)}await this.Vr(3e5)}))}}class dT{constructor(t,a){this.mr=t,this.params=a}calculateTargetCount(t,a){return this.mr.gr(t).next((r=>Math.floor(a/100*r)))}nthSequenceNumber(t,a){if(a===0)return ee.resolve(Kc.ce);const r=new fT(a);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,a,r){return this.mr.removeTargets(t,a,r)}removeOrphanedDocuments(t,a){return this.mr.removeOrphanedDocuments(t,a)}collect(t,a){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(T1)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T1):this.yr(t,a)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,a){let r,o,u,h,m,y,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,a)))).next((T=>(u=T,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),Ir()<=Be.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${T} documents in `+(g-y)+`ms
Total Duration: ${g-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function mT(i,t){return new dT(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.changes=new Us((t=>t.toString()),((t,a)=>t.isEqual(a))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,a){this.assertNotApplied(),this.changes.set(t,Zt.newInvalidDocument(t).setReadTime(a))}getEntry(t,a){this.assertNotApplied();const r=this.changes.get(a);return r!==void 0?ee.resolve(r):this.getFromCache(t,a)}getEntries(t,a){return this.getAllFromCache(t,a)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,a){this.overlayedDocument=t,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t,a,r,o){this.remoteDocumentCache=t,this.mutationQueue=a,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,a){let r=null;return this.documentOverlayCache.getOverlay(t,a).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,a)))).next((o=>(r!==null&&yo(r.mutation,o,En.empty(),it.now()),o)))}getDocuments(t,a){return this.remoteDocumentCache.getEntries(t,a).next((r=>this.getLocalViewOfDocuments(t,r,ze()).next((()=>r))))}getLocalViewOfDocuments(t,a,r=ze()){const o=Is();return this.populateOverlays(t,o,a).next((()=>this.computeViews(t,a,o,r).next((u=>{let h=uo();return u.forEach(((m,y)=>{h=h.insert(m,y.overlayedDocument)})),h}))))}getOverlayedDocuments(t,a){const r=Is();return this.populateOverlays(t,r,a).next((()=>this.computeViews(t,a,r,ze())))}populateOverlays(t,a,r){const o=[];return r.forEach((u=>{a.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{a.set(h,m)}))}))}computeViews(t,a,r,o){let u=ai();const h=po(),m=(function(){return po()})();return a.forEach(((y,g)=>{const _=r.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof es)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),yo(_.mutation,g,_.mutation.getFieldMask(),it.now())):h.set(g.key,En.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((g,_)=>h.set(g,_))),a.forEach(((g,_)=>m.set(g,new pT(_,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,a){const r=po();let o=new ut(((h,m)=>h-m)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,a).next((h=>{for(const m of h)m.keys().forEach((y=>{const g=a.get(y);if(g===null)return;let _=r.get(y)||En.empty();_=m.applyToLocalView(g,_),r.set(y,_);const T=(o.get(m.batchId)||ze()).add(y);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,_=y.value,T=W2();_.forEach((N=>{if(!u.has(N)){const V=sx(a.get(N),r.get(N));V!==null&&T.set(N,V),u=u.add(N)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return ee.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,a){return this.remoteDocumentCache.getEntries(t,a).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,a,r,o){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(t,a.path):vE(a)?this.getDocumentsMatchingCollectionGroupQuery(t,a,r,o):this.getDocumentsMatchingCollectionQuery(t,a,r,o)}getNextDocuments(t,a,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,a,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,a,r.largestBatchId,o-u.size):ee.resolve(Is());let m=To,y=u;return h.next((g=>ee.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(t,_).next((N=>{y=y.insert(_,N)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,y,g,ze()))).next((_=>({batchId:m,changes:J2(_)})))))}))}getDocumentsMatchingDocumentQuery(t,a){return this.getDocument(t,new pe(a)).next((r=>{let o=uo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,a,r,o){const u=a.collectionGroup;let h=uo();return this.indexManager.getCollectionParents(t,u).next((m=>ee.forEach(m,(y=>{const g=(function(T,N){return new Jc(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(a,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((_=>{_.forEach(((T,N)=>{h=h.insert(T,N)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,a,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,a.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,a,r,u,o)))).next((h=>{u.forEach(((y,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Zt.newInvalidDocument(_)))}));let m=uo();return h.forEach(((y,g)=>{const _=u.get(y);_!==void 0&&yo(_.mutation,g,En.empty(),it.now()),ef(a,g)&&(m=m.insert(y,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,a){return ee.resolve(this.Lr.get(a))}saveBundleMetadata(t,a){return this.Lr.set(a.id,(function(o){return{id:o.id,version:o.version,createTime:Na(o.createTime)}})(a)),ee.resolve()}getNamedQuery(t,a){return ee.resolve(this.kr.get(a))}saveNamedQuery(t,a){return this.kr.set(a.name,(function(o){return{name:o.name,query:lT(o.bundledQuery),readTime:Na(o.readTime)}})(a)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(t,a){return ee.resolve(this.overlays.get(a))}getOverlays(t,a){const r=Is();return ee.forEach(a,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,a,r){return r.forEach(((o,u)=>{this.St(t,a,u)})),ee.resolve()}removeOverlaysForBatchId(t,a,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(t,a,r){const o=Is(),u=a.length+1,h=new pe(a.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!a.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return ee.resolve(o)}getOverlaysForCollectionGroup(t,a,r,o){let u=new ut(((g,_)=>g-_));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===a&&g.largestBatchId>r){let _=u.get(g.largestBatchId);_===null&&(_=Is(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Is(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ee.resolve(m)}St(t,a,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new LE(a,r));let u=this.qr.get(a);u===void 0&&(u=ze(),this.qr.set(a,u)),this.qr.set(a,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(t){return ee.resolve(this.sessionToken)}setSessionToken(t,a){return this.sessionToken=a,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.Qr=new Ot(Ut.$r),this.Ur=new Ot(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,a){const r=new Ut(t,a);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,a){t.forEach((r=>this.addReference(r,a)))}removeReference(t,a){this.Gr(new Ut(t,a))}zr(t,a){t.forEach((r=>this.removeReference(r,a)))}jr(t){const a=new pe(new at([])),r=new Ut(a,t),o=new Ut(a,t+1),u=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const a=new pe(new at([])),r=new Ut(a,t),o=new Ut(a,t+1);let u=ze();return this.Ur.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const a=new Ut(t,0),r=this.Qr.firstAfterOrEqual(a);return r!==null&&t.isEqual(r.key)}}class Ut{constructor(t,a){this.key=t,this.Yr=a}static $r(t,a){return pe.comparator(t.key,a.key)||je(t.Yr,a.Yr)}static Kr(t,a){return je(t.Yr,a.Yr)||pe.comparator(t.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,a){this.indexManager=t,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Ut.$r)}checkEmpty(t){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(t,a,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new zE(u,a,r,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(t,a){return ee.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(t,a){const r=a+1,o=this.ei(r),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?_m:this.tr-1)}getAllMutationBatches(t){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,a){const r=new Ut(a,0),o=new Ut(a,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,a){let r=new Ot(je);return a.forEach((o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{r=r.add(m.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,a){const r=a.path,o=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new pe(u),0);let m=new Ot(je);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Yr)),!0)}),h),ee.resolve(this.ti(m))}ti(t){const a=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&a.push(o)})),a}removeMutationBatch(t,a){Qe(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(a.mutations,(o=>{const u=new Ut(o.key,a.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,a){const r=new Ut(a,0),o=this.Zr.firstAfterOrEqual(r);return ee.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ee.resolve()}ni(t,a){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const a=this.ei(t);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t){this.ri=t,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,a){const r=a.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(a);return this.docs=this.docs.insert(r,{document:a.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const a=this.docs.get(t);a&&(this.docs=this.docs.remove(t),this.size-=a.size)}getEntry(t,a){const r=this.docs.get(a);return ee.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(a))}getEntries(t,a){let r=ai();return a.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(r)}getDocumentsMatchingQuery(t,a,r,o){let u=ai();const h=a.path,m=new pe(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:_}}=y.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||$6(K6(_),r)<=0||(o.has(_.key)||ef(a,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(t,a,r,o){xe(9500)}ii(t,a){return ee.forEach(this.docs,(r=>a(r)))}newChangeBuffer(t){return new TT(this)}getSize(t){return ee.resolve(this.size)}}class TT extends gT{constructor(t){super(),this.Nr=t}applyChanges(t){const a=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?a.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),ee.waitFor(a)}getFromCache(t,a){return this.Nr.getEntry(t,a)}getAllFromCache(t,a){return this.Nr.getEntries(t,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t){this.persistence=t,this.si=new Us((a=>Tm(a)),Sm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Dm,this.targetCount=0,this.ai=Fr.ur()}forEachTarget(t,a){return this.si.forEach(((r,o)=>a(o))),ee.resolve()}getLastRemoteSnapshotVersion(t){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ee.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(t,a,r){return r&&(this.lastRemoteSnapshotVersion=r),a>this.oi&&(this.oi=a),ee.resolve()}Pr(t){this.si.set(t.target,t);const a=t.targetId;a>this.highestTargetId&&(this.ai=new Fr(a),this.highestTargetId=a),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,a){return this.Pr(a),this.targetCount+=1,ee.resolve()}updateTargetData(t,a){return this.Pr(a),ee.resolve()}removeTargetData(t,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,ee.resolve()}removeTargets(t,a,r){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=a&&r.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(t){return ee.resolve(this.targetCount)}getTargetData(t,a){const r=this.si.get(a)||null;return ee.resolve(r)}addMatchingKeys(t,a,r){return this._i.Wr(a,r),ee.resolve()}removeMatchingKeys(t,a,r){this._i.zr(a,r);const o=this.persistence.referenceDelegate,u=[];return o&&a.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(t,a){return this._i.jr(a),ee.resolve()}getMatchingKeysForTargetId(t,a){const r=this._i.Hr(a);return ee.resolve(r)}containsKey(t,a){return ee.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t,a){this.ui={},this.overlays={},this.ci=new Kc(0),this.li=!1,this.li=!0,this.hi=new _T,this.referenceDelegate=t(this),this.Pi=new ST(this),this.indexManager=new oT,this.remoteDocumentCache=(function(o){return new ET(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new rT(a),this.Ii=new xT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let a=this.overlays[t.toKey()];return a||(a=new vT,this.overlays[t.toKey()]=a),a}getMutationQueue(t,a){let r=this.ui[t.toKey()];return r||(r=new bT(a,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,a,r){oe("MemoryPersistence","Starting transaction:",t);const o=new AT(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,a){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,a))))}}class AT extends J6{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Dm,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(t,a,r){return this.Ri.addReference(r,a),this.fi.delete(r.toString()),ee.resolve()}removeReference(t,a,r){return this.Ri.removeReference(r,a),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(t,a){return this.fi.add(a.toString()),ee.resolve()}removeTarget(t,a){this.Ri.jr(a.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,a.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,a)))}Ei(){this.Vi=new Set}di(t){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const o=pe.fromPath(r);return this.gi(t,o).next((u=>{u||a.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,a.apply(t))))}updateLimboDocument(t,a){return this.gi(t,a).next((r=>{r?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(t){return 0}gi(t,a){return ee.or([()=>ee.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(t,a),()=>this.persistence.Ai(t,a)])}}class kc{constructor(t,a){this.persistence=t,this.pi=new Us((r=>tE(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=mT(this,a)}static mi(t,a){return new kc(t,a)}Ei(){}di(t){return ee.resolve()}forEachTarget(t,a){return this.persistence.getTargetCache().forEachTarget(t,a)}gr(t){const a=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>a.next((o=>r+o))))}wr(t){let a=0;return this.pr(t,(r=>{a++})).next((()=>a))}pr(t,a){return ee.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?ee.resolve():a(o)))))}removeTargets(t,a,r){return this.persistence.getTargetCache().removeTargets(t,a,r)}removeOrphanedDocuments(t,a){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(h=>this.br(t,h,a).next((m=>{m||(r++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,a){return this.pi.set(a,t.currentSequenceNumber),ee.resolve()}removeTarget(t,a){const r=a.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,a,r){return this.pi.set(r,t.currentSequenceNumber),ee.resolve()}removeReference(t,a,r){return this.pi.set(r,t.currentSequenceNumber),ee.resolve()}updateLimboDocument(t,a){return this.pi.set(a,t.currentSequenceNumber),ee.resolve()}Ti(t){let a=t.key.toString().length;return t.isFoundDocument()&&(a+=Tc(t.data.value)),a}br(t,a,r){return ee.or([()=>this.persistence.Ai(t,a),()=>this.persistence.getTargetCache().containsKey(t,a),()=>{const o=this.pi.get(a);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,a,r,o){this.targetId=t,this.fromCache=a,this.Es=r,this.ds=o}static As(t,a){let r=ze(),o=ze();for(const u of a.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vm(t,a.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return y3()?8:W6(g3())>0?6:4})()}initialize(t,a){this.ps=t,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(t,a,r,o){const u={result:null};return this.ys(t,a).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(t,a,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new wT;return this.Ss(t,a,h).next((m=>{if(u.result=m,this.Vs)return this.bs(t,a,h,m.size)}))})).next((()=>u.result))}bs(t,a,r,o){return r.documentReadCount<this.fs?(Ir()<=Be.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Or(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ir()<=Be.DEBUG&&oe("QueryEngine","Query:",Or(a),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ir()<=Be.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Or(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ca(a))):ee.resolve())}ys(t,a){if(d1(a))return ee.resolve(null);let r=Ca(a);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(a.limit!==null&&o===1&&(a=Qd(a,null,"F"),r=Ca(a)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const h=ze(...u);return this.ps.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,r).next((y=>{const g=this.Ds(a,m);return this.Cs(a,g,h,y.readTime)?this.ys(t,Qd(a,null,"F")):this.vs(t,g,a,y)}))))})))))}ws(t,a,r,o){return d1(a)||o.isEqual(be.min())?ee.resolve(null):this.ps.getDocuments(t,r).next((u=>{const h=this.Ds(a,u);return this.Cs(a,h,r,o)?ee.resolve(null):(Ir()<=Be.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Or(a)),this.vs(t,h,a,X6(o,To)).next((m=>m)))}))}Ds(t,a){let r=new Ot($2(t));return a.forEach(((o,u)=>{ef(t,u)&&(r=r.add(u))})),r}Cs(t,a,r,o){if(t.limit===null)return!1;if(r.size!==a.size)return!0;const u=t.limitType==="F"?a.last():a.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,a,r){return Ir()<=Be.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Or(a)),this.ps.getDocumentsMatchingQuery(t,a,Qi.min(),r)}vs(t,a,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(a.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="LocalStore",CT=3e8;class NT{constructor(t,a,r,o){this.persistence=t,this.Fs=a,this.serializer=o,this.Ms=new ut(je),this.xs=new Us((u=>Tm(u)),Sm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>t.collect(a,this.Ms)))}}function DT(i,t,a,r){return new NT(i,t,a,r)}async function vx(i,t){const a=Te(i);return await a.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return a.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,a.Bs(t),a.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let y=ze();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)y=y.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)y=y.add(_.key)}return a.localDocuments.getDocuments(r,y).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function MT(i,t){const a=Te(i);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,_){const T=g.batch,N=T.keys();let V=ee.resolve();return N.forEach((H=>{V=V.next((()=>_.getEntry(y,H))).next((G=>{const B=g.docVersions.get(H);Qe(B!==null,48541),G.version.compareTo(B)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),_.addEntry(G)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(y,T)))})(a,r,t,u).next((()=>u.apply(r))).next((()=>a.mutationQueue.performConsistencyCheck(r))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(t)))).next((()=>a.localDocuments.getDocuments(r,o)))}))}function _x(i){const t=Te(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>t.Pi.getLastRemoteSnapshotVersion(a)))}function VT(i,t){const a=Te(i),r=t.snapshotVersion;let o=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=a.Ns.newChangeBuffer({trackRemovals:!0});o=a.Ms;const m=[];t.targetChanges.forEach(((_,T)=>{const N=o.get(T);if(!N)return;m.push(a.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>a.Pi.addMatchingKeys(u,_.addedDocuments,T))));let V=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?V=V.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,r)),o=o.insert(T,V),(function(G,B,Z){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=CT?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(N,V,_)&&m.push(a.Pi.updateTargetData(u,V))}));let y=ai(),g=ze();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&m.push(a.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(IT(u,h,t.documentUpdates).next((_=>{y=_.ks,g=_.qs}))),!r.isEqual(be.min())){const _=a.Pi.getLastRemoteSnapshotVersion(u).next((T=>a.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(_)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>a.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(a.Ms=o,u)))}function IT(i,t,a){let r=ze(),o=ze();return a.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let h=ai();return a.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(be.min())?(t.removeEntry(m,y.readTime),h=h.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),h=h.insert(m,y)):oe(Im,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{ks:h,qs:o}}))}function OT(i,t){const a=Te(i);return a.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=_m),a.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function jT(i,t){const a=Te(i);return a.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return a.Pi.getTargetData(r,t).next((u=>u?(o=u,ee.resolve(o)):a.Pi.allocateTargetId(r).next((h=>(o=new Pi(t,h,"TargetPurposeListen",r.currentSequenceNumber),a.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=a.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(r.targetId,r),a.xs.set(t,r.targetId)),r}))}async function Zd(i,t,a){const r=Te(i),o=r.Ms.get(t),u=a?"readwrite":"readwrite-primary";try{a||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Wr(h))throw h;oe(Im,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function w1(i,t,a){const r=Te(i);let o=be.min(),u=ze();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,g,_){const T=Te(y),N=T.xs.get(_);return N!==void 0?ee.resolve(T.Ms.get(N)):T.Pi.getTargetData(g,_)})(r,h,Ca(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,t,a?o:be.min(),a?u:ze()))).next((m=>(zT(r,bE(t),m),{documents:m,Qs:u})))))}function zT(i,t,a){let r=i.Os.get(t)||be.min();a.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class R1{constructor(){this.activeTargetIds=RE()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LT{constructor(){this.Mo=new R1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,a,r){}addLocalQueryTarget(t,a=!0){return a&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,a,r){this.xo[t]=a}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new R1,Promise.resolve()}handleUserChange(t,a,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="ConnectivityMonitor";class N1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(C1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){oe(C1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function Jd(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",PT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BT{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const a=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Oc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,a,r,o,u){const h=Jd(),m=this.zo(t,a.toUriEncodedString());oe(wd,`Sending RPC '${t}' ${h}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(m),_=gm(g);return this.Jo(t,m,y,r,_).then((T=>(oe(wd,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw Br(wd,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(t,a,r,o,u,h){return this.Go(t,a,r,o,u)}jo(t,a,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zr})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,a){const r=PT[t];return`${this.Uo}/v1/${a}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class qT extends BT{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,a,r,o,u){const h=Jd();return new Promise(((m,y)=>{const g=new S2;g.setWithCredentials(!0),g.listenOnce(A2.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ec.NO_ERROR:const T=g.getResponseJson();oe(Kt,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case Ec.TIMEOUT:oe(Kt,`RPC '${t}' ${h} timed out`),y(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const N=g.getStatus();if(oe(Kt,`RPC '${t}' ${h} failed with status:`,N,"response text:",g.getResponseText()),N>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V?.error;if(H&&H.status&&H.message){const G=(function(Z){const te=Z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(te)>=0?te:ne.UNKNOWN})(H.status);y(new fe(G,H.message))}else y(new fe(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{oe(Kt,`RPC '${t}' ${h} completed.`)}}));const _=JSON.stringify(o);oe(Kt,`RPC '${t}' ${h} sending request:`,o),g.send(a,"POST",_,r,15)}))}T_(t,a,r){const o=Jd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=C2(),m=R2(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,a,r),y.encodeInitMessageHeaders=!0;const _=u.join("");oe(Kt,`Creating RPC '${t}' stream ${o}: ${_}`,y);const T=h.createWebChannel(_,y);this.I_(T);let N=!1,V=!1;const H=new kT({Yo:B=>{V?oe(Kt,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(N||(oe(Kt,`Opening RPC '${t}' stream ${o} transport.`),T.open(),N=!0),oe(Kt,`RPC '${t}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),G=(B,Z,te)=>{B.listen(Z,(re=>{try{te(re)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return G(T,oo.EventType.OPEN,(()=>{V||(oe(Kt,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),G(T,oo.EventType.CLOSE,(()=>{V||(V=!0,oe(Kt,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(T))})),G(T,oo.EventType.ERROR,(B=>{V||(V=!0,Br(Kt,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),H.a_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),G(T,oo.EventType.MESSAGE,(B=>{if(!V){const Z=B.data[0];Qe(!!Z,16349);const te=Z,re=te?.error||te[0]?.error;if(re){oe(Kt,`RPC '${t}' stream ${o} received error:`,re);const ve=re.status;let we=(function(A){const R=Rt[A];if(R!==void 0)return lx(R)})(ve),se=re.message;we===void 0&&(we=ne.INTERNAL,se="Unknown error status: "+ve+" with message "+re.message),V=!0,H.a_(new fe(we,se)),T.close()}else oe(Kt,`RPC '${t}' stream ${o} received:`,Z),H.u_(Z)}})),G(m,w2.STAT_EVENT,(B=>{B.stat===Bd.PROXY?oe(Kt,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===Bd.NOPROXY&&oe(Kt,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((a=>a===t))}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(i){return new QE(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,a,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=a,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const a=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,a-r);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="PersistentStream";class Ex{constructor(t,a,r,o,u,h,m,y){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bx(t,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():a&&a.code===ne.RESOURCE_EXHAUSTED?(ni(a.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(a)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===a&&this.G_(r,o)}),(r=>{t((()=>{const o=new fe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,a){const r=this.W_(this.D_);this.stream=this.j_(t,a),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return oe(D1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return a=>{this.Mi.enqueueAndForget((()=>this.D_===t?a():(oe(D1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HT extends Ex{constructor(t,a,r,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,r,o,h),this.serializer=u}j_(t,a){return this.connection.T_("Listen",t,a)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const a=KE(this.serializer,t),r=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Na(h.readTime):be.min()})(t);return this.listener.H_(a,r)}Y_(t){const a={};a.database=$d(this.serializer),a.addTarget=(function(u,h){let m;const y=h.target;if(m=Gd(y)?{documents:JE(u,y)}:{query:WE(u,y).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=cx(u,h.resumeToken);const g=Yd(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Bc(u,h.snapshotVersion.toTimestamp());const g=Yd(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=tT(this.serializer,t);r&&(a.labels=r),this.q_(a)}Z_(t){const a={};a.database=$d(this.serializer),a.removeTarget=t,this.q_(a)}}class FT extends Ex{constructor(t,a,r,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,a){return this.connection.T_("Write",t,a)}J_(t){return Qe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const a=ZE(t.writeResults,t.commitTime),r=Na(t.commitTime);return this.listener.na(r,a)}ra(){const t={};t.database=$d(this.serializer),this.q_(t)}ea(t){const a={streamToken:this.lastStreamToken,writes:t.map((r=>$E(this.serializer,r)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{}class QT extends GT{constructor(t,a,r,o){super(),this.authCredentials=t,this.appCheckCredentials=a,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,a,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(t,Xd(a,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())}))}Ho(t,a,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(t,Xd(a,r),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YT{constructor(t,a){this.asyncQueue=t,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const a=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(a),this.aa=!1):oe("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class XT{constructor(t,a,r,o,u){this.localStore=t,this.datastore=a,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{Ps(this)&&(oe(Ls,"Restarting streams for network reachability change."),await(async function(y){const g=Te(y);g.Ea.add(4),await Oo(g),g.Ra.set("Unknown"),g.Ea.delete(4),await lf(g)})(this))}))})),this.Ra=new YT(r,o)}}async function lf(i){if(Ps(i))for(const t of i.da)await t(!0)}async function Oo(i){for(const t of i.da)await t(!1)}function Tx(i,t){const a=Te(i);a.Ia.has(t.targetId)||(a.Ia.set(t.targetId,t),Lm(a)?zm(a):el(a).O_()&&jm(a,t))}function Om(i,t){const a=Te(i),r=el(a);a.Ia.delete(t),r.O_()&&Sx(a,t),a.Ia.size===0&&(r.O_()?r.L_():Ps(a)&&a.Ra.set("Unknown"))}function jm(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(be.min())>0){const a=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(a)}el(i).Y_(t)}function Sx(i,t){i.Va.Ue(t),el(i).Z_(t)}function zm(i){i.Va=new qE({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),el(i).start(),i.Ra.ua()}function Lm(i){return Ps(i)&&!el(i).x_()&&i.Ia.size>0}function Ps(i){return Te(i).Ea.size===0}function Ax(i){i.Va=void 0}async function KT(i){i.Ra.set("Online")}async function $T(i){i.Ia.forEach(((t,a)=>{jm(i,t)}))}async function ZT(i,t){Ax(i),Lm(i)?(i.Ra.ha(t),zm(i)):i.Ra.set("Unknown")}async function JT(i,t,a){if(i.Ra.set("Online"),t instanceof ux&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(r){oe(Ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await qc(i,r)}else if(t instanceof wc?i.Va.Ze(t):t instanceof ox?i.Va.st(t):i.Va.tt(t),!a.isEqual(be.min()))try{const r=await _x(i.localStore);a.compareTo(r)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(y.resumeToken,h))}})),m.targetMismatches.forEach(((y,g)=>{const _=u.Ia.get(y);if(!_)return;u.Ia.set(y,_.withResumeToken(Yt.EMPTY_BYTE_STRING,_.snapshotVersion)),Sx(u,y);const T=new Pi(_.target,y,g,_.sequenceNumber);jm(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,a)}catch(r){oe(Ls,"Failed to raise snapshot:",r),await qc(i,r)}}async function qc(i,t,a){if(!Wr(t))throw t;i.Ea.add(1),await Oo(i),i.Ra.set("Offline"),a||(a=()=>_x(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{oe(Ls,"Retrying IndexedDB access"),await a(),i.Ea.delete(1),await lf(i)}))}function wx(i,t){return t().catch((a=>qc(i,a,t)))}async function of(i){const t=Te(i),a=$i(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:_m;for(;WT(t);)try{const o=await OT(t.localStore,r);if(o===null){t.Ta.length===0&&a.L_();break}r=o.batchId,e5(t,o)}catch(o){await qc(t,o)}Rx(t)&&Cx(t)}function WT(i){return Ps(i)&&i.Ta.length<10}function e5(i,t){i.Ta.push(t);const a=$i(i);a.O_()&&a.X_&&a.ea(t.mutations)}function Rx(i){return Ps(i)&&!$i(i).x_()&&i.Ta.length>0}function Cx(i){$i(i).start()}async function t5(i){$i(i).ra()}async function n5(i){const t=$i(i);for(const a of i.Ta)t.ea(a.mutations)}async function a5(i,t,a){const r=i.Ta.shift(),o=Rm.from(r,t,a);await wx(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await of(i)}async function i5(i,t){t&&$i(i).X_&&await(async function(r,o){if((function(h){return PE(h)&&h!==ne.ABORTED})(o.code)){const u=r.Ta.shift();$i(r).B_(),await wx(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await of(r)}})(i,t),Rx(i)&&Cx(i)}async function M1(i,t){const a=Te(i);a.asyncQueue.verifyOperationInProgress(),oe(Ls,"RemoteStore received new credentials");const r=Ps(a);a.Ea.add(3),await Oo(a),r&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(t),a.Ea.delete(3),await lf(a)}async function s5(i,t){const a=Te(i);t?(a.Ea.delete(2),await lf(a)):t||(a.Ea.add(2),await Oo(a),a.Ra.set("Unknown"))}function el(i){return i.ma||(i.ma=(function(a,r,o){const u=Te(a);return u.sa(),new HT(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:KT.bind(null,i),t_:$T.bind(null,i),r_:ZT.bind(null,i),H_:JT.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Lm(i)?zm(i):i.Ra.set("Unknown")):(await i.ma.stop(),Ax(i))}))),i.ma}function $i(i){return i.fa||(i.fa=(function(a,r,o){const u=Te(a);return u.sa(),new FT(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:t5.bind(null,i),r_:i5.bind(null,i),ta:n5.bind(null,i),na:a5.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await of(i)):(await i.fa.stop(),i.Ta.length>0&&(oe(Ls,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,a,r,o,u){this.asyncQueue=t,this.timerId=a,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,a,r,o,u){const h=Date.now()+r,m=new Um(t,a,h,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pm(i,t){if(ni("AsyncQueue",`${t}: ${i}`),Wr(i))return new fe(ne.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{static emptySet(t){return new Pr(t.comparator)}constructor(t){this.comparator=t?(a,r)=>t(a,r)||pe.comparator(a.key,r.key):(a,r)=>pe.comparator(a.key,r.key),this.keyedMap=uo(),this.sortedSet=new ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const a=this.keyedMap.get(t);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((a,r)=>(t(a),!1)))}add(t){const a=this.delete(t.key);return a.copy(a.keyedMap.insert(t.key,t),a.sortedSet.insert(t,null))}delete(t){const a=this.get(t);return a?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(a)):this}isEqual(t){if(!(t instanceof Pr)||this.size!==t.size)return!1;const a=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((a=>{t.push(a.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,a){const r=new Pr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=a,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.ga=new ut(pe.comparator)}track(t){const a=t.doc.key,r=this.ga.get(a);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(a,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(a,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(a,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(a):t.type===1&&r.type===2?this.ga=this.ga.insert(a,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):xe(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(a,t)}ya(){const t=[];return this.ga.inorderTraversal(((a,r)=>{t.push(r)})),t}}class Gr{constructor(t,a,r,o,u,h,m,y,g){this.query=t,this.docs=a,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,a,r,o,u){const h=[];return a.forEach((m=>{h.push({type:0,doc:m})})),new Gr(t,a,Pr.emptySet(a),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const a=this.docChanges,r=t.docChanges;if(a.length!==r.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==r[o].type||!a[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class l5{constructor(){this.queries=I1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,r){const o=Te(a),u=o.queries;o.queries=I1(),u.forEach(((h,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function I1(){return new Us((i=>K2(i)),Wc)}async function Nx(i,t){const a=Te(i);let r=3;const o=t.query;let u=a.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new r5,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await a.onListen(o,!0);break;case 1:u.wa=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(h){const m=Pm(h,`Initialization of query '${Or(t.query)}' failed`);return void t.onError(m)}a.queries.set(o,u),u.Sa.push(t),t.va(a.onlineState),u.wa&&t.Fa(u.wa)&&Bm(a)}async function Dx(i,t){const a=Te(i),r=t.query;let o=3;const u=a.queries.get(r);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return a.queries.delete(r),a.onUnlisten(r,!0);case 1:return a.queries.delete(r),a.onUnlisten(r,!1);case 2:return a.onLastRemoteStoreUnlisten(r);default:return}}function o5(i,t){const a=Te(i);let r=!1;for(const o of t){const u=o.query,h=a.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(r=!0);h.wa=o}}r&&Bm(a)}function u5(i,t,a){const r=Te(i),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(a);r.queries.delete(t)}function Bm(i){i.Ca.forEach((t=>{t.next()}))}var Wd,O1;(O1=Wd||(Wd={})).Ma="default",O1.Cache="cache";class Mx{constructor(t,a,r){this.query=t,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Gr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let a=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),a=!0):this.La(t,this.onlineState)&&(this.ka(t),a=!0),this.Na=t,a}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),a=!0),a}La(t,a){if(!t.fromCache||!this.Da())return!0;const r=a!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||a==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(t){t=Gr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t){this.key=t}}class Ix{constructor(t){this.key=t}}class c5{constructor(t,a){this.query=t,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=$2(t),this.tu=new Pr(this.eu)}get nu(){return this.Ya}ru(t,a){const r=a?a.iu:new V1,o=a?a.tu:this.tu;let u=a?a.mutatedKeys:this.mutatedKeys,h=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,T)=>{const N=o.get(_),V=ef(this.query,T)?T:null,H=!!N&&this.mutatedKeys.has(N.key),G=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let B=!1;N&&V?N.data.isEqual(V.data)?H!==G&&(r.track({type:3,doc:V}),B=!0):this.su(N,V)||(r.track({type:2,doc:V}),B=!0,(y&&this.eu(V,y)>0||g&&this.eu(V,g)<0)&&(m=!0)):!N&&V?(r.track({type:0,doc:V}),B=!0):N&&!V&&(r.track({type:1,doc:N}),B=!0,(y||g)&&(m=!0)),B&&(V?(h=h.add(V),u=G?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:h,iu:r,Cs:m,mutatedKeys:u}}su(t,a){return t.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(t,a,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((_,T)=>(function(V,H){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:B})}};return G(V)-G(H)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(r),o=o??!1;const m=a&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,h.length!==0||g?{snapshot:new Gr(this.query,t.tu,u,h,t.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),t.modifiedDocuments.forEach((a=>{})),t.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const a=[];return t.forEach((r=>{this.Xa.has(r)||a.push(new Ix(r))})),this.Xa.forEach((r=>{t.has(r)||a.push(new Vx(r))})),a}cu(t){this.Ya=t.Qs,this.Xa=ze();const a=this.ru(t.documents);return this.applyChanges(a,!0)}lu(){return Gr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const km="SyncEngine";class f5{constructor(t,a,r){this.query=t,this.targetId=a,this.view=r}}class h5{constructor(t){this.key=t,this.hu=!1}}class d5{constructor(t,a,r,o,u,h){this.localStore=t,this.remoteStore=a,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Us((m=>K2(m)),Wc),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new Dm,this.Vu={},this.mu=new Map,this.fu=Fr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m5(i,t,a=!0){const r=Px(i);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Ox(r,t,a,!0),o}async function g5(i,t){const a=Px(i);await Ox(a,t,!0,!1)}async function Ox(i,t,a,r){const o=await jT(i.localStore,Ca(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,a);let m;return r&&(m=await p5(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&a&&Tx(i.remoteStore,o),m}async function p5(i,t,a,r,o){i.pu=(T,N,V)=>(async function(G,B,Z,te){let re=B.view.ru(Z);re.Cs&&(re=await w1(G.localStore,B.query,!1).then((({documents:C})=>B.view.ru(C,re))));const ve=te&&te.targetChanges.get(B.targetId),we=te&&te.targetMismatches.get(B.targetId)!=null,se=B.view.applyChanges(re,G.isPrimaryClient,ve,we);return z1(G,B.targetId,se.au),se.snapshot})(i,T,N,V);const u=await w1(i.localStore,t,!0),h=new c5(t,u.Qs),m=h.ru(u.documents),y=Io.createSynthesizedTargetChangeForCurrentChange(a,r&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,y);z1(i,a,g.au);const _=new f5(t,a,h);return i.Tu.set(t,_),i.Iu.has(a)?i.Iu.get(a).push(t):i.Iu.set(a,[t]),g.snapshot}async function y5(i,t,a){const r=Te(i),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!Wc(h,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Zd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),a&&Om(r.remoteStore,o.targetId),em(r,o.targetId)})).catch(Jr)):(em(r,o.targetId),await Zd(r.localStore,o.targetId,!0))}async function x5(i,t){const a=Te(i),r=a.Tu.get(t),o=a.Iu.get(r.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(r.targetId),Om(a.remoteStore,r.targetId))}async function v5(i,t,a){const r=w5(i);try{const o=await(function(h,m){const y=Te(h),g=it.now(),_=m.reduce(((V,H)=>V.add(H.key)),ze());let T,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=ai(),G=ze();return y.Ns.getEntries(V,_).next((B=>{H=B,H.forEach(((Z,te)=>{te.isValidDocument()||(G=G.add(Z))}))})).next((()=>y.localDocuments.getOverlayedDocuments(V,H))).next((B=>{T=B;const Z=[];for(const te of m){const re=OE(te,T.get(te.key).overlayedDocument);re!=null&&Z.push(new es(te.key,re,q2(re.value.mapValue),fn.exists(!0)))}return y.mutationQueue.addMutationBatch(V,g,Z,m)})).next((B=>{N=B;const Z=B.applyToLocalDocumentSet(T,G);return y.documentOverlayCache.saveOverlays(V,B.batchId,Z)}))})).then((()=>({batchId:N.batchId,changes:J2(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,y){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(je)),g=g.insert(m,y),h.Vu[h.currentUser.toKey()]=g})(r,o.batchId,a),await jo(r,o.changes),await of(r.remoteStore)}catch(o){const u=Pm(o,"Failed to persist write");a.reject(u)}}async function jx(i,t){const a=Te(i);try{const r=await VT(a.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=a.Au.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await jo(a,r,t)}catch(r){await Jr(r)}}function j1(i,t,a){const r=Te(i);if(r.isPrimaryClient&&a===0||!r.isPrimaryClient&&a===1){const o=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const y=Te(h);y.onlineState=m;let g=!1;y.queries.forEach(((_,T)=>{for(const N of T.Sa)N.va(m)&&(g=!0)})),g&&Bm(y)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _5(i,t,a){const r=Te(i);r.sharedClientState.updateQueryState(t,"rejected",a);const o=r.Au.get(t),u=o&&o.key;if(u){let h=new ut(pe.comparator);h=h.insert(u,Zt.newNoDocument(u,be.min()));const m=ze().add(u),y=new sf(be.min(),new Map,new ut(je),h,m);await jx(r,y),r.du=r.du.remove(u),r.Au.delete(t),qm(r)}else await Zd(r.localStore,t,!1).then((()=>em(r,t,a))).catch(Jr)}async function b5(i,t){const a=Te(i),r=t.batch.batchId;try{const o=await MT(a.localStore,t);Lx(a,r,null),zx(a,r),a.sharedClientState.updateMutationState(r,"acknowledged"),await jo(a,o)}catch(o){await Jr(o)}}async function E5(i,t,a){const r=Te(i);try{const o=await(function(h,m){const y=Te(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return y.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qe(T!==null,37113),_=T.keys(),y.mutationQueue.removeMutationBatch(g,T)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>y.localDocuments.getDocuments(g,_)))}))})(r.localStore,t);Lx(r,t,a),zx(r,t),r.sharedClientState.updateMutationState(t,"rejected",a),await jo(r,o)}catch(o){await Jr(o)}}function zx(i,t){(i.mu.get(t)||[]).forEach((a=>{a.resolve()})),i.mu.delete(t)}function Lx(i,t,a){const r=Te(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(a?u.reject(a):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function em(i,t,a=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),a&&i.Pu.yu(r,a);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||Ux(i,r)}))}function Ux(i,t){i.Eu.delete(t.path.canonicalString());const a=i.du.get(t);a!==null&&(Om(i.remoteStore,a),i.du=i.du.remove(t),i.Au.delete(a),qm(i))}function z1(i,t,a){for(const r of a)r instanceof Vx?(i.Ru.addReference(r.key,t),T5(i,r)):r instanceof Ix?(oe(km,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||Ux(i,r.key)):xe(19791,{wu:r})}function T5(i,t){const a=t.key,r=a.path.canonicalString();i.du.get(a)||i.Eu.has(r)||(oe(km,"New document in limbo: "+a),i.Eu.add(r),qm(i))}function qm(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const a=new pe(at.fromString(t)),r=i.fu.next();i.Au.set(r,new h5(a)),i.du=i.du.insert(a,r),Tx(i.remoteStore,new Pi(Ca(Am(a.path)),r,"TargetPurposeLimboResolution",Kc.ce))}}async function jo(i,t,a){const r=Te(i),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{h.push(r.pu(y,t,a).then((g=>{if((g||a)&&r.isPrimaryClient){const _=g?!g.fromCache:a?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Vm.As(y.targetId,g);u.push(_)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(y,g){const _=Te(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(g,(N=>ee.forEach(N.Es,(V=>_.persistence.referenceDelegate.addReference(T,N.targetId,V))).next((()=>ee.forEach(N.ds,(V=>_.persistence.referenceDelegate.removeReference(T,N.targetId,V)))))))))}catch(T){if(!Wr(T))throw T;oe(Im,"Failed to update sequence numbers: "+T)}for(const T of g){const N=T.targetId;if(!T.fromCache){const V=_.Ms.get(N),H=V.snapshotVersion,G=V.withLastLimboFreeSnapshotVersion(H);_.Ms=_.Ms.insert(N,G)}}})(r.localStore,u))}async function S5(i,t){const a=Te(i);if(!a.currentUser.isEqual(t)){oe(km,"User change. New user:",t.toKey());const r=await vx(a.localStore,t);a.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new fe(ne.CANCELLED,h))}))})),u.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await jo(a,r.Ls)}}function A5(i,t){const a=Te(i),r=a.Au.get(t);if(r&&r.hu)return ze().add(r.key);{let o=ze();const u=a.Iu.get(t);if(!u)return o;for(const h of u){const m=a.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Px(i){const t=Te(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=jx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=A5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_5.bind(null,t),t.Pu.H_=o5.bind(null,t.eventManager),t.Pu.yu=u5.bind(null,t.eventManager),t}function w5(i){const t=Te(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=b5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=E5.bind(null,t),t}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,a){return null}Mu(t,a){return null}vu(t){return DT(this.persistence,new RT,t.initialUser,this.serializer)}Cu(t){return new xx(Mm.mi,this.serializer)}Du(t){return new LT}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class R5 extends Hc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,a){Qe(this.persistence.referenceDelegate instanceof kc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hT(r,t.asyncQueue,a)}Cu(t){const a=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new xx((r=>kc.mi(r,a)),this.serializer)}}class tm{async initialize(t,a){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S5.bind(null,this.syncEngine),await s5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new l5})()}createDatastore(t){const a=rf(t.databaseInfo.databaseId),r=(function(u){return new qT(u)})(t.databaseInfo);return(function(u,h,m,y){return new QT(u,h,m,y)})(t.authCredentials,t.appCheckCredentials,r,a)}createRemoteStore(t){return(function(r,o,u,h,m){return new XT(r,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(a=>j1(this.syncEngine,a,0)),(function(){return N1.v()?new N1:new UT})())}createSyncEngine(t,a){return(function(o,u,h,m,y,g,_){const T=new d5(o,u,h,m,y,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,a)}async terminate(){await(async function(a){const r=Te(a);oe(Ls,"RemoteStore shutting down."),r.Ea.add(5),await Oo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ni("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,a){setTimeout((()=>{this.muted||t(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="FirestoreClient";class C5{constructor(t,a,r,o,u){this.authCredentials=t,this.appCheckCredentials=a,this.asyncQueue=r,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{oe(Zi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(oe(Zi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(a){const r=Pm(a,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Cd(i,t){i.asyncQueue.verifyOperationInProgress(),oe(Zi,"Initializing OfflineComponentProvider");const a=i.configuration;await t.initialize(a);let r=a.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await vx(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function L1(i,t){i.asyncQueue.verifyOperationInProgress();const a=await N5(i);oe(Zi,"Initializing OnlineComponentProvider"),await t.initialize(a,i.configuration),i.setCredentialChangeListener((r=>M1(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>M1(t.remoteStore,o))),i._onlineComponents=t}async function N5(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(Zi,"Using user provided OfflineComponentProvider");try{await Cd(i,i._uninitializedComponentsProvider._offline)}catch(t){const a=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(a))throw a;Br("Error using user provided cache. Falling back to memory cache: "+a),await Cd(i,new Hc)}}else oe(Zi,"Using default OfflineComponentProvider"),await Cd(i,new R5(void 0));return i._offlineComponents}async function kx(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(Zi,"Using user provided OnlineComponentProvider"),await L1(i,i._uninitializedComponentsProvider._online)):(oe(Zi,"Using default OnlineComponentProvider"),await L1(i,new tm))),i._onlineComponents}function D5(i){return kx(i).then((t=>t.syncEngine))}async function nm(i){const t=await kx(i),a=t.eventManager;return a.onListen=m5.bind(null,t.syncEngine),a.onUnlisten=y5.bind(null,t.syncEngine),a.onFirstRemoteStoreListen=g5.bind(null,t.syncEngine),a.onLastRemoteStoreUnlisten=x5.bind(null,t.syncEngine),a}function M5(i,t,a={}){const r=new Fi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,y,g){const _=new Bx({next:N=>{_.Nu(),h.enqueueAndForget((()=>Dx(u,T))),N.fromCache&&y.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(N)},error:N=>g.reject(N)}),T=new Mx(m,_,{includeMetadataChanges:!0,qa:!0});return Nx(u,T)})(await nm(i),i.asyncQueue,t,a,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="firestore.googleapis.com",P1=!0;class B1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hx,this.ssl=P1}else this.host=t.host,this.ssl=t.ssl??P1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<cT)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Y6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qx(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uf{constructor(t,a,r,o){this._authCredentials=t,this._appCheckCredentials=a,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new L6;switch(r.type){case"firstParty":return new k6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const r=U1.get(a);r&&(oe("ComponentProvider","Removing Datastore"),U1.delete(a),r.terminate())})(this),Promise.resolve()}}function V5(i,t,a,r={}){i=Bn(i,uf);const o=gm(t),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${a}`;o&&(c3(`https://${m}`),m3("Firestore",!0)),u.host!==Hx&&u.host!==m&&Br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:r};if(!Dc(y,h)&&(i._setSettings(y),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=$t.MOCK_USER;else{g=f3(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new $t(T)}i._authCredentials=new U6(new D2(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t,a,r){this.converter=a,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new zo(this.firestore,t,this._query)}}class Nt{constructor(t,a,r){this.converter=a,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Nt(this.firestore,t,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,a,r){if(Mo(a,Nt._jsonSchema))return new Nt(t,r||null,new pe(at.fromString(a.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Ct("string",Nt._jsonSchemaVersion),referencePath:Ct("string")};class Gi extends zo{constructor(t,a,r){super(t,a,Am(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Nt(this.firestore,null,new pe(t))}withConverter(t){return new Gi(this.firestore,t,this._path)}}function Fx(i,t,...a){if(i=ta(i),M2("collection","path",t),i instanceof uf){const r=at.fromString(t,...a);return e1(r),new Gi(i,null,r)}{if(!(i instanceof Nt||i instanceof Gi))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(at.fromString(t,...a));return e1(r),new Gi(i.firestore,null,r)}}function wa(i,t,...a){if(i=ta(i),arguments.length===1&&(t=xm.newId()),M2("doc","path",t),i instanceof uf){const r=at.fromString(t,...a);return Wy(r),new Nt(i,null,new pe(r))}{if(!(i instanceof Nt||i instanceof Gi))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(at.fromString(t,...a));return Wy(r),new Nt(i.firestore,i instanceof Gi?i.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="AsyncQueue";class q1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bx(this,"async_queue_retry"),this._c=()=>{const r=Rd();r&&oe(k1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const a=Rd();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const a=Rd();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Wr(t))throw t;oe(k1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const a=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",H1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=a,a}enqueueAfterDelay(t,a,r){this.uc(),this.oc.indexOf(t)>-1&&(a=0);const o=Um.createAndSchedule(this,t,a,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:H1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const a of this.tc)if(a.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((a,r)=>a.targetTimeMs-r.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),t!=="all"&&a.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const a=this.tc.indexOf(t);this.tc.splice(a,1)}}function H1(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(i){return(function(a,r){if(typeof a!="object"||a===null)return!1;const o=a;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Ji extends uf{constructor(t,a,r,o){super(t,a,r,o),this.type="firestore",this._queue=new q1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new q1(t),this._firestoreClient=void 0,await t}}}function I5(i,t){const a=typeof i=="object"?i:S6(),r=typeof i=="string"?i:Oc,o=v6(a,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=o3("firestore");u&&V5(o,...u)}return o}function cf(i){if(i._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||O5(i),i._firestoreClient}function O5(i){const t=i._freezeSettings(),a=(function(o,u,h,m){return new iE(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,qx(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new C5(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Yt.fromBase64String(t))}catch(a){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(t){return new Pn(Yt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Mo(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ct("string",Pn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(...t){for(let a=0;a<t.length;++a)if(t[a].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,a){if(!isFinite(t)||t<-90||t>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(a)||a<-180||a>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=t,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return je(this._lat,t._lat)||je(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Da._jsonSchemaVersion}}static fromJSON(t){if(Mo(t,Da._jsonSchema))return new Da(t.latitude,t.longitude)}}Da._jsonSchemaVersion="firestore/geoPoint/1.0",Da._jsonSchema={type:Ct("string",Da._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t){this._values=(t||[]).map((a=>a))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ma._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Mo(t,Ma._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((a=>typeof a=="number")))return new Ma(t.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ma._jsonSchemaVersion="firestore/vectorValue/1.0",Ma._jsonSchema={type:Ct("string",Ma._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=/^__.*__$/;class z5{constructor(t,a,r){this.data=t,this.fieldMask=a,this.fieldTransforms=r}toMutation(t,a){return this.fieldMask!==null?new es(t,this.data,this.fieldMask,a,this.fieldTransforms):new Vo(t,this.data,a,this.fieldTransforms)}}class Gx{constructor(t,a,r){this.data=t,this.fieldMask=a,this.fieldTransforms=r}toMutation(t,a){return new es(t,this.data,this.fieldMask,a,this.fieldTransforms)}}function Qx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:i})}}class Fm{constructor(t,a,r,o,u,h){this.settings=t,this.databaseId=a,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const a=this.path?.child(t),r=this.Vc({path:a,fc:!1});return r.gc(t),r}yc(t){const a=this.path?.child(t),r=this.Vc({path:a,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Fc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((a=>t.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>t.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Qx(this.Ac)&&j5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class L5{constructor(t,a,r){this.databaseId=t,this.ignoreUndefinedProperties=a,this.serializer=r||rf(t)}Cc(t,a,r,o=!1){return new Fm({Ac:t,methodName:a,Dc:r,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(i){const t=i._freezeSettings(),a=rf(i._databaseId);return new L5(i._databaseId,!!t.ignoreUndefinedProperties,a)}function Yx(i,t,a,r,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,t,a,o);Qm("Data must be an object, but it was:",h,r);const m=$x(r,h);let y,g;if(u.merge)y=new En(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const N=am(t,T,a);if(!h.contains(N))throw new fe(ne.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Jx(_,N)||_.push(N)}y=new En(_),g=h.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,g=h.fieldTransforms;return new z5(new cn(m),y,g)}class ff extends Hm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ff}}function Xx(i,t,a,r){const o=i.Cc(1,t,a);Qm("Data must be an object, but it was:",o,r);const u=[],h=cn.empty();Wi(r,((y,g)=>{const _=Ym(t,y,a);g=ta(g);const T=o.yc(_);if(g instanceof ff)u.push(_);else{const N=hf(g,T);N!=null&&(u.push(_),h.set(_,N))}}));const m=new En(u);return new Gx(h,m,o.fieldTransforms)}function Kx(i,t,a,r,o,u){const h=i.Cc(1,t,a),m=[am(t,r,a)],y=[o];if(u.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)m.push(am(t,u[N])),y.push(u[N+1]);const g=[],_=cn.empty();for(let N=m.length-1;N>=0;--N)if(!Jx(g,m[N])){const V=m[N];let H=y[N];H=ta(H);const G=h.yc(V);if(H instanceof ff)g.push(V);else{const B=hf(H,G);B!=null&&(g.push(V),_.set(V,B))}}const T=new En(g);return new Gx(_,T,h.fieldTransforms)}function hf(i,t){if(Zx(i=ta(i)))return Qm("Unsupported field value:",t,i),$x(i,t);if(i instanceof Hm)return(function(r,o){if(!Qx(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const m of r){let y=hf(m,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),h++}return{arrayValue:{values:u}}})(i,t)}return(function(r,o){if((r=ta(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CE(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=it.fromDate(r);return{timestampValue:Bc(o.serializer,u)}}if(r instanceof it){const u=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bc(o.serializer,u)}}if(r instanceof Da)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:cx(o.serializer,r._byteString)};if(r instanceof Nt){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Nm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ma)return(function(h,m){return{mapValue:{fields:{[B2]:{stringValue:k2},[jc]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return wm(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${vm(r)}`)})(i,t)}function $x(i,t){const a={};return O2(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wi(i,((r,o)=>{const u=hf(o,t.mc(r));u!=null&&(a[r]=u)})),{mapValue:{fields:a}}}function Zx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Da||i instanceof Pn||i instanceof Nt||i instanceof Hm||i instanceof Ma)}function Qm(i,t,a){if(!Zx(a)||!V2(a)){const r=vm(a);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function am(i,t,a){if((t=ta(t))instanceof Lo)return t._internalPath;if(typeof t=="string")return Ym(i,t);throw Fc("Field path arguments must be of type string or ",i,!1,void 0,a)}const U5=new RegExp("[~\\*/\\[\\]]");function Ym(i,t,a){if(t.search(U5)>=0)throw Fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,a);try{return new Lo(...t.split("."))._internalPath}catch{throw Fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,a)}}function Fc(i,t,a,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;a&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||h)&&(y+=" (found",u&&(y+=` in field ${r}`),h&&(y+=` in document ${o}`),y+=")"),new fe(ne.INVALID_ARGUMENT,m+i+y)}function Jx(i,t){return i.some((a=>a.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,a,r,o,u){this._firestore=t,this._userDataWriter=a,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new P5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const a=this._document.data.field(ev("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a)}}}class P5 extends Wx{data(){return super.data()}}function ev(i,t){return typeof t=="string"?Ym(i,t):t instanceof Lo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B5{convertValue(t,a="none"){switch(Ki(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,a);case 5:return t.stringValue;case 6:return this.convertBytes(Xi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,a);case 11:return this.convertObject(t.mapValue,a);case 10:return this.convertVectorValue(t.mapValue);default:throw xe(62114,{value:t})}}convertObject(t,a){return this.convertObjectMap(t.fields,a)}convertObjectMap(t,a="none"){const r={};return Wi(t,((o,u)=>{r[o]=this.convertValue(u,a)})),r}convertVectorValue(t){const a=t.fields?.[jc].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Ma(a)}convertGeoPoint(t){return new Da(yt(t.latitude),yt(t.longitude))}convertArray(t,a){return(t.values||[]).map((r=>this.convertValue(r,a)))}convertServerTimestamp(t,a){switch(a){case"previous":const r=Zc(t);return r==null?null:this.convertValue(r,a);case"estimate":return this.convertTimestamp(So(t));default:return null}}convertTimestamp(t){const a=Yi(t);return new it(a.seconds,a.nanos)}convertDocumentKey(t,a){const r=at.fromString(t);Qe(px(r),9688,{name:t});const o=new Ao(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return o.isEqual(a)||ni(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(i,t,a){let r;return r=i?a&&(a.merge||a.mergeFields)?i.toFirestore(t,a):i.toFirestore(t):t,r}class fo{constructor(t,a){this.hasPendingWrites=t,this.fromCache=a}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Os extends Wx{constructor(t,a,r,o,u,h){super(t,a,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const a=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,a={}){if(this._document){const r=this._document.data.field(ev("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,a={};return a.type=Os._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:Ct("string",Os._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Rc extends Os{data(t={}){return super.data(t)}}class js{constructor(t,a,r,o){this._firestore=t,this._userDataWriter=a,this._snapshot=o,this.metadata=new fo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((a=>t.push(a))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,a){this._snapshot.docs.forEach((r=>{t.call(a,new Rc(this._firestore,this._userDataWriter,r.key,r,new fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const a=!!t.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const y=new Rc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new Rc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:k5(m.type),doc:y,oldIndex:g,newIndex:_}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=js._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(a.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function k5(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}js._jsonSchemaVersion="firestore/querySnapshot/1.0",js._jsonSchema={type:Ct("string",js._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Xm extends B5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const a=this.convertDocumentKey(t,this.firestore._databaseId);return new Nt(this.firestore,null,a)}}function q5(i){i=Bn(i,zo);const t=Bn(i.firestore,Ji),a=cf(t),r=new Xm(t);return tv(i._query),M5(a,i._query).then((o=>new js(t,r,i,o)))}function G1(i,t,a){i=Bn(i,Nt);const r=Bn(i.firestore,Ji),o=nv(i.converter,t,a);return df(r,[Yx(Gm(r),"setDoc",i._key,o,i.converter!==null,a).toMutation(i._key,fn.none())])}function Mr(i,t,a,...r){i=Bn(i,Nt);const o=Bn(i.firestore,Ji),u=Gm(o);let h;return h=typeof(t=ta(t))=="string"||t instanceof Lo?Kx(u,"updateDoc",i._key,t,a,r):Xx(u,"updateDoc",i._key,t),df(o,[h.toMutation(i._key,fn.exists(!0))])}function H5(i){return df(Bn(i.firestore,Ji),[new af(i._key,fn.none())])}function Q1(i,...t){i=ta(i);let a={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||F1(t[r])||(a=t[r++]);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(F1(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let u,h,m;if(i instanceof Nt)h=Bn(i.firestore,Ji),m=Am(i._key.path),u={next:y=>{t[r]&&t[r](F5(h,i,y))},error:t[r+1],complete:t[r+2]};else{const y=Bn(i,zo);h=Bn(y.firestore,Ji),m=y._query;const g=new Xm(h);u={next:_=>{t[r]&&t[r](new js(h,g,y,_))},error:t[r+1],complete:t[r+2]},tv(i._query)}return(function(g,_,T,N){const V=new Bx(N),H=new Mx(_,V,T);return g.asyncQueue.enqueueAndForget((async()=>Nx(await nm(g),H))),()=>{V.Nu(),g.asyncQueue.enqueueAndForget((async()=>Dx(await nm(g),H)))}})(cf(h),m,o,u)}function df(i,t){return(function(r,o){const u=new Fi;return r.asyncQueue.enqueueAndForget((async()=>v5(await D5(r),o,u))),u.promise})(cf(i),t)}function F5(i,t,a){const r=a.docs.get(t._key),o=new Xm(i);return new Os(i,o,t._key,r,new fo(a.hasPendingWrites,a.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(t,a){this._firestore=t,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=Gm(t)}set(t,a,r){this._verifyNotCommitted();const o=Nd(t,this._firestore),u=nv(o.converter,a,r),h=Yx(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,r);return this._mutations.push(h.toMutation(o._key,fn.none())),this}update(t,a,r,...o){this._verifyNotCommitted();const u=Nd(t,this._firestore);let h;return h=typeof(a=ta(a))=="string"||a instanceof Lo?Kx(this._dataReader,"WriteBatch.update",u._key,a,r,o):Xx(this._dataReader,"WriteBatch.update",u._key,a),this._mutations.push(h.toMutation(u._key,fn.exists(!0))),this}delete(t){this._verifyNotCommitted();const a=Nd(t,this._firestore);return this._mutations=this._mutations.concat(new af(a._key,fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nd(i,t){if((i=ta(i)).firestore!==t)throw new fe(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(i){return cf(i=Bn(i,Ji)),new G5(i,(t=>df(i,t)))}(function(t,a=!0){(function(o){Zr=o})(T6),Vc(new bo("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new Ji(new P6(r.getProvider("auth-internal")),new q6(h,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(g.options.projectId,_)})(h,o),h);return u={useFetchStreams:a,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ur(Ky,$y,t),Ur(Ky,$y,"esm2020")})();const Y5={apiKey:"AIzaSyCG0ogFYqNhUrYs5ffm7ATC7KLowmOkes8",authDomain:"fezeaix-commission.firebaseapp.com",projectId:"fezeaix-commission",storageBucket:"fezeaix-commission.firebasestorage.app",messagingSenderId:"277309240523",appId:"1:277309240523:web:280f97eed392384256574e",measurementId:"G-PQY9EZ3JV9"},X5=_2(Y5),Ln=I5(X5),av=U.createContext(null),Tn=()=>U.useContext(av),K5=Fx(Ln,"users"),Dd=Fx(Ln,"commissions"),$5=()=>{"Notification"in window?Notification.permission!=="denied"&&Notification.requestPermission().then(i=>{i==="granted"&&console.log("Notification permission granted.")}):console.warn("This browser does not support desktop notification")},Y1=(i,t)=>{Notification.permission==="granted"&&new Notification(i,{body:t,icon:"/pwa-192x192-v2.png"})},Z5=({children:i})=>{const[t,a]=U.useState(null),[r,o]=U.useState(!0),[u,h]=U.useState([]),[m,y]=U.useState([]),g=U.useRef([]);U.useEffect(()=>{const se=localStorage.getItem("currentUser");if(se){const C=JSON.parse(se),{password:A,...R}=C;a(R)}o(!1)},[]),U.useEffect(()=>{const se=Q1(K5,C=>{const A=C.docs.map(R=>({...R.data(),id:R.id}));y(A)},C=>{console.error("Error fetching users:",C)});return()=>se()},[]),U.useEffect(()=>{const se=Q1(Dd,C=>{const A=C.docs.map(R=>({...R.data(),id:R.id}));if(t&&g.current.length>0&&A.length>0){let R=!1,I=!1,M="",z="";A.forEach(w=>{const de=g.current.find(ae=>ae.id===w.id),Ve=!de,X=de&&(w.messages?.length||0)>(de.messages?.length||0);if(Ve&&t.role==="admin"){R=!0,M="New Commission Request!",z=`${w.requesterUsername} requested ${w.commissionType}.`;return}if(X){const ae=w.messages[w.messages.length-1];if(t.role==="admin"&&w.requesterUsername!==ae.sender){I=!0,M=`New Message from ${w.requesterUsername}`,z=`${w.commissionType}: ${ae.text}`;return}if(t.role!=="admin"&&w.requesterUsername===t.username&&ae.sender==="fezeaix"){I=!0,M="Message from Artist (Fezeaix)",z=`${w.commissionType}: ${ae.text}`;return}}}),R?(new Audio("/notification_request.mp3").play().catch(de=>console.log("New Request Audio playback blocked",de)),Y1(M,z)):I&&(new Audio("/notification.mp3").play().catch(de=>console.log("New Message Audio playback blocked",de)),Y1(M,z))}g.current=A,h(A)},C=>{console.error("Error fetching commissions:",C)});return()=>se()},[t]);const _=async(se,C)=>{try{if(m.some(M=>M.username===se))return{success:!1,message:"Username already exists."};const R=await bc(C,10),I={username:se,password:R,role:se.toLowerCase()==="fezeaix"?"admin":"user"};return await G1(wa(Ln,"users",se),I),{success:!0,message:"Registration successful! Please login."}}catch(A){return console.error("Registration error:",A),{success:!1,message:"Registration failed due to server error."}}},T=async(se,C)=>{try{const A=m.find(R=>R.username===se);if(A){const R=A.password;let I=!1,M=!1;if(R?.startsWith("$2a$")||R?.startsWith("$2b$")||R?.startsWith("$2y$")||(R?.length||0)>50)try{I=await My(C,R)}catch(w){console.warn("Bcrypt compare failed, trying plain text match.",w)}if(I||C===R&&(I=!0,M=!0),I){if(M){console.warn(`User ${se} logged in with plain text password. Upgrading to hash...`);const Ve=await bc(C,10),X=wa(Ln,"users",se);await Mr(X,{password:Ve}),A.password=Ve}const{password:w,...de}=A;return a(de),localStorage.setItem("currentUser",JSON.stringify(de)),{success:!0,message:"Login successful!"}}}return{success:!1,message:"Invalid username or password."}}catch(A){return console.error("Login error:",A),{success:!1,message:"Login failed due to server error."}}},N=()=>{a(null),localStorage.removeItem("currentUser")},V=async(se,C)=>{if(!t)return{success:!1,message:"User not logged in."};try{const A=m.find(ae=>ae.username===t.username);if(!A)return{success:!1,message:"User data not found."};const R=A.password;let I=!1;if(R?.startsWith("$2a$")||R?.startsWith("$2b$")||R?.startsWith("$2y$")||(R?.length||0)>50?I=await My(se,R):I=se===R,!I)return{success:!1,message:"Current password is incorrect."};const z=await bc(C,10),w=wa(Ln,"users",t.username);await Mr(w,{password:z});const de={...t,password:z},{password:Ve,...X}=de;return a(X),localStorage.setItem("currentUser",JSON.stringify(X)),{success:!0,message:"Password updated successfully!"}}catch(A){return console.error("Change password error:",A),{success:!1,message:"Failed to change password."}}},H=async se=>{try{const C={id:Date.now().toString(),...se,status:"New Request",timestamp:new Date().toISOString(),messages:[{id:Date.now()+1,sender:"System",text:`New Commission Request for ${se.commissionType} received. Price: $${se.price}. The artist will contact you via this chat to confirm details.`,timestamp:new Date().toISOString()}]};return await G1(wa(Dd),C),{success:!0,message:"Commission request submitted successfully! Please check your Messages for updates from the artist."}}catch(C){return console.error("Add commission error:",C),{success:!1,message:"Failed to submit commission request."}}},G=async se=>{try{return await H5(wa(Ln,"commissions",se)),{success:!0,message:"Commission request deleted."}}catch(C){return console.error("Delete commission error:",C),{success:!1,message:"Failed to delete commission request."}}},B=async(se,C)=>{try{const A=wa(Ln,"commissions",se);return await Mr(A,{status:C,timestamp:new Date().toISOString()}),{success:!0,message:"Commission status updated."}}catch(A){return console.error("Update status error:",A),{success:!1,message:"Failed to update commission status."}}},Z=async(se,C,A)=>{if(A.trim())try{const R=wa(Ln,"commissions",se),I=u.find(w=>w.id===se);if(!I)return{success:!1};const M={id:Date.now()+Math.random(),sender:C,text:A,timestamp:new Date().toISOString()},z=I.status==="New Request"?"Pending Payment":I.status;return await Mr(R,{messages:[...I.messages||[],M],status:z}),{success:!0}}catch(R){return console.error("Add message error:",R),{success:!1}}},te=async(se,C)=>{try{const A=wa(Ln,"commissions",se),R=u.find(M=>M.id===se);if(!R)return{success:!1,message:"Request not found."};const I=R.messages.filter(M=>M.id!==C);return await Mr(A,{messages:I}),{success:!0}}catch(A){return console.error("Delete message error:",A),{success:!1,message:"Failed to delete message."}}},re=async(se,C)=>{if(!(!t||t.role==="admin"))try{const A=wa(Ln,"commissions",se);await Mr(A,{[`lastViewedByClient.${t.username}`]:C})}catch(A){console.error("Error setting client viewed timestamp:",A)}},ve=async()=>{if(!t||t.role==="admin")return{success:!1,message:"Not a client user."};try{const se=await q5(Dd),C=Q5(Ln),A=new Date().toISOString();return se.docs.forEach(R=>{if(R.data().requesterUsername===t.username){const M=wa(Ln,"commissions",R.id);C.update(M,{[`lastViewedByClient.${t.username}`]:A})}}),await C.commit(),{success:!0,message:"Client notifications cleared."}}catch(se){return console.error("Error clearing client notifications:",se),{success:!1,message:"Failed to clear client notifications."}}},we={user:t,loading:r,register:_,login:T,logout:N,isAuthenticated:!!t,isAdmin:t&&t.role==="admin",commissionRequests:u,addCommissionRequest:H,deleteCommissionRequest:G,addMessageToCommissionRequest:Z,deleteMessageFromCommissionRequest:te,updateCommissionStatus:B,changePassword:V,setClientMessagesViewed:re,requestNotificationPermission:$5,clearClientNotifications:ve};return b.jsx(av.Provider,{value:we,children:i})};function J5(){const[i,t]=U.useState(""),[a,r]=U.useState(""),[o,u]=U.useState(""),{login:h}=Tn(),m=Kr(),y=async g=>{if(g.preventDefault(),u(""),!i||!a){u("Please enter both username and password.");return}const _=await h(i,a);_.success?m("/dashboard/gallery"):u(_.message)};return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-800",children:b.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Login to Fezeaix Commission"}),b.jsxs("form",{onSubmit:y,children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Username"}),b.jsx("input",{type:"text",id:"username",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username",value:i,onChange:g=>t(g.target.value)})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Password"}),b.jsx("input",{type:"password",id:"password",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"********",value:a,onChange:g=>r(g.target.value)})]}),o&&b.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:o}),b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-full transition-colors duration-200",children:"Sign In"})}),b.jsxs("p",{className:"text-center text-gray-600 text-sm mt-4",children:["Don't have an account? ",b.jsx(Un,{to:"/register",className:"text-blue-600 hover:text-blue-800 font-bold transition-colors duration-200",children:"Register here"})]})]})]})})}const W5=i=>i.length<8||i.length>16?"Password must be between 8 and 16 characters long.":/[A-Z]/.test(i)?/[a-z]/.test(i)?/[0-9]/.test(i)?null:"Password must contain at least one number (0-9).":"Password must contain at least one lowercase letter (a-z).":"Password must contain at least one uppercase letter (A-Z).";function e9(){const[i,t]=U.useState(""),[a,r]=U.useState(""),[o,u]=U.useState(""),[h,m]=U.useState(""),[y,g]=U.useState(""),[_,T]=U.useState(""),{register:N}=Tn(),V=Kr(),H=async G=>{if(G.preventDefault(),g(""),T(""),!a||!o||!i||!h){g("Please fill in all fields.");return}if(o!==h){g("Passwords do not match.");return}const B=W5(o);if(B){g(B);return}const Z=await N(a,o);Z.success?(T(Z.message),setTimeout(()=>{V("/login")},2e3)):g(Z.message)};return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-800",children:b.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Create your Fezeaix Account"}),b.jsxs("form",{onSubmit:H,children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"displayname",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Display Name"}),b.jsx("input",{type:"text",id:"displayname",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your display name",value:i,onChange:G=>t(G.target.value)})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Username"}),b.jsx("input",{type:"text",id:"username",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Choose a username",value:a,onChange:G=>r(G.target.value)})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Password"}),b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Min 8-16 chars, include A-Z, a-z, 0-9."}),b.jsx("input",{type:"password",id:"password",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",value:o,onChange:G=>u(G.target.value)})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"confirmPassword",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Confirm Password"}),b.jsx("input",{type:"password",id:"confirmPassword",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",value:h,onChange:G=>m(G.target.value)})]}),y&&b.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:y}),_&&b.jsx("p",{className:"text-green-500 text-sm mb-4 text-center",children:_}),b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-full transition-colors duration-200",children:"Register"})}),b.jsxs("p",{className:"text-center text-gray-600 text-sm mt-4",children:["Already have an account?",b.jsx(Un,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-bold transition-colors duration-200",children:"Login here"})]})]})]})})}var iv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},X1=Bi.createContext&&Bi.createContext(iv),t9=["attr","size","title"];function n9(i,t){if(i==null)return{};var a=a9(i,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(a[r]=i[r])}return a}function a9(i,t){if(i==null)return{};var a={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;a[r]=i[r]}return a}function Gc(){return Gc=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}return i},Gc.apply(this,arguments)}function K1(i,t){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),a.push.apply(a,r)}return a}function Qc(i){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(a),!0).forEach(function(r){i9(i,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):K1(Object(a)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(a,r))})}return i}function i9(i,t,a){return t=s9(t),t in i?Object.defineProperty(i,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[t]=a,i}function s9(i){var t=r9(i,"string");return typeof t=="symbol"?t:t+""}function r9(i,t){if(typeof i!="object"||!i)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var r=a.call(i,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function sv(i){return i&&i.map((t,a)=>Bi.createElement(t.tag,Qc({key:a},t.attr),sv(t.child)))}function ht(i){return t=>Bi.createElement(l9,Gc({attr:Qc({},i.attr)},t),sv(i.child))}function l9(i){var t=a=>{var{attr:r,size:o,title:u}=i,h=n9(i,t9),m=o||a.size||"1em",y;return a.className&&(y=a.className),i.className&&(y=(y?y+" ":"")+i.className),Bi.createElement("svg",Gc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,h,{className:y,style:Qc(Qc({color:i.color||a.color},a.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Bi.createElement("title",null,u),i.children)};return X1!==void 0?Bi.createElement(X1.Consumer,null,a=>t(a)):t(iv)}function o9(i){return ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(i)}function u9(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(i)}function c9(i){return ht({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(i)}function f9(i){return ht({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(i)}function h9(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(i)}function d9(i){return ht({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(i)}function m9(i){return ht({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(i)}function g9(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(i)}function rv(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(i)}function p9(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(i)}function y9(i){return ht({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(i)}function x9(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(i)}function im(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"},child:[]}]})(i)}function lv(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(i)}function v9(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},child:[]}]})(i)}function _9(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(i)}function b9(i){return ht({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(i)}function E9(i){return ht({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function T9(i){return ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(i)}function Km(i){return ht({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(i)}function S9(i){return ht({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(i)}function A9(i){return ht({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"},child:[]}]})(i)}function w9({newRequests:i,messageAlerts:t,handleClose:a,handleClearAll:r}){const o=[...i.map(u=>({...u,type:"REQUEST",title:`${u.requesterUsername} requested ${u.commissionType}`,subtitle:"Status: New Request"})),...t.map(u=>({...u,type:"MESSAGE",title:`New Message from ${u.requesterUsername}`,subtitle:`${u.commissionType}: ${u.messages?u.messages[u.messages.length-1]?.text:"No Message"}`}))].sort((u,h)=>new Date(h.timestamp)-new Date(u.timestamp));return b.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden animate-fade-in z-50 border border-gray-200",children:[b.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"All Notifications"}),b.jsxs("button",{onClick:r,className:"flex items-center text-red-500 hover:text-red-700 text-xs font-semibold p-1 rounded transition-colors",children:[b.jsx(T9,{className:"mr-1",size:12})," Clear All"]})]}),o.length===0?b.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."}):b.jsx("div",{className:"max-h-80 overflow-y-auto",children:o.map(u=>b.jsxs(Un,{to:"/dashboard/inbox",onClick:a,className:"flex flex-col p-3 hover:bg-gray-50 border-b border-gray-100 transition-colors",children:[b.jsxs("p",{className:"text-sm font-semibold text-gray-800 truncate",children:[b.jsx("span",{className:`mr-2 font-bold ${u.type==="REQUEST"?"text-red-600":"text-orange-600"}`,children:u.type==="REQUEST"?" REQUEST:":" MESSAGE:"}),u.title]}),b.jsx("span",{className:"text-xs text-gray-400 mt-1 self-end",children:new Date(u.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},u.id+u.type))})]})}function R9(){const{user:i,logout:t,commissionRequests:a,isAdmin:r,requestNotificationPermission:o}=Tn(),u=Kr(),h=ii(),[m,y]=U.useState(!1),g=U.useRef(null),[_,T]=U.useState(()=>{const w=localStorage.getItem("viewedRequests");return w?JSON.parse(w):[]}),[N,V]=U.useState(()=>{const w=localStorage.getItem("adminLastViewedMessages");return w?JSON.parse(w):{}}),[H,G]=U.useState(Notification.permission);U.useEffect(()=>{localStorage.setItem("viewedRequests",JSON.stringify(_))},[_]),U.useEffect(()=>{localStorage.setItem("adminLastViewedMessages",JSON.stringify(N))},[N]);const B=()=>{o(),G(Notification.permission)},Z=a.reduce((w,de)=>{if(de.requesterUsername!==i?.username)return w;const Ve=de.messages&&de.messages.length>0?de.messages[de.messages.length-1]:null;if(!Ve||Ve.sender!=="fezeaix")return w;const X=de.lastViewedByClient?.[i.username]||new Date(0).toISOString();return new Date(Ve.timestamp).getTime()>new Date(X).getTime()?w+1:w},0),te=a.filter(w=>w.status==="New Request"&&!_.includes(w.id)),re=te.length,ve=a.filter(w=>{const de=w.messages&&w.messages.length>0?w.messages[w.messages.length-1]:null;if(!de||w.status==="New Request"&&te.some(ae=>ae.id===w.id)||!(de.sender!=="fezeaix"&&de.sender!=="System"))return!1;const X=N[w.id]||new Date(0).toISOString();return new Date(de.timestamp).getTime()>new Date(X).getTime()}),we=ve.length,se=re+we,C=r?se:Z,A=()=>{t(),u("/login")},R=()=>{if(window.confirm("Are you sure you want to clear all unread notifications?")){localStorage.removeItem("viewedRequests"),T([]);const w=new Date().toISOString(),de={};a.forEach(Ve=>{de[Ve.id]=w}),V(de),localStorage.setItem("adminLastViewedMessages",JSON.stringify(de)),y(!1)}},I=()=>{r?y(w=>!w):u("/dashboard/messages")},M=()=>{y(!1)};U.useEffect(()=>{if(r&&h.pathname.startsWith("/dashboard/inbox")){const de=new Date().toISOString(),Ve={...N};[...te.map(Re=>Re.id),...ve.map(Re=>Re.id)].forEach(Re=>{Ve[Re]=de}),T(Re=>[...new Set([...Re,...te.map(He=>He.id)])]);const ae=ve.length>0,me=te.length>0;(ae||me)&&(V(Ve),localStorage.setItem("adminLastViewedMessages",JSON.stringify(Ve)))}function w(de){g.current&&!g.current.contains(de.target)&&M()}return r&&document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[g,r,h.pathname,a]);const z=w=>`flex items-center p-3 rounded-lg transition-colors duration-200 ${h.pathname.startsWith(`/dashboard/${w}`)?"bg-blue-700 text-white font-bold shadow-md":"text-blue-200 hover:bg-blue-700 hover:text-white"}`;return b.jsxs("div",{className:"flex h-screen bg-gray-100",children:[b.jsxs("aside",{className:"w-72 bg-blue-900 text-blue-100 flex flex-col shadow-lg",children:[b.jsxs("div",{className:"p-5 text-2xl font-bold border-b border-blue-800 flex items-center",children:[b.jsx(im,{className:"mr-3 text-blue-300"}),"Fezeaix Commission"]}),b.jsx("nav",{className:"flex-1 p-5 overflow-y-auto",children:b.jsxs("ul",{children:[b.jsx("li",{className:"mb-2",children:b.jsxs(Un,{to:"/dashboard/gallery",className:z("gallery"),children:[b.jsx(p9,{className:"mr-3 text-blue-300"})," Gallery"]})}),b.jsx("li",{className:"mb-2",children:b.jsxs(Un,{to:"/dashboard/commission",className:z("commission"),children:[b.jsx(im,{className:"mr-3 text-blue-300"})," Commission"]})}),!r&&b.jsx("li",{className:"mb-2",children:b.jsxs(Un,{to:"/dashboard/messages",className:z("messages"),children:[b.jsx(d9,{className:`mr-3 ${Z>0?"text-yellow-400":"text-blue-300"}`}),"Messages",Z>0&&b.jsxs("span",{className:"ml-auto relative flex h-3 w-3",children:[b.jsx("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),b.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})}),!r&&b.jsx("li",{className:"mb-2",children:b.jsxs(Un,{to:"/dashboard/history",className:z("history"),children:[b.jsx(rv,{className:"mr-3 text-blue-300"})," History"]})}),r&&b.jsx("li",{className:"mb-2",children:b.jsxs(Un,{to:"/dashboard/inbox",className:z("inbox"),children:[b.jsx(y9,{className:`mr-3 ${se>0?"text-yellow-400":"text-blue-300"}`}),"Inbox",se>0&&b.jsxs("span",{className:"ml-auto relative flex h-3 w-3",children:[b.jsx("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),b.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})}),b.jsx("li",{className:"mb-2",children:b.jsxs(Un,{to:"/dashboard/queue",className:z("queue"),children:[b.jsx(x9,{className:"mr-3 text-blue-300"})," Queue"]})}),b.jsx("li",{className:"mb-2",children:b.jsxs(Un,{to:"/dashboard/settings",className:z("settings"),children:[b.jsx(h9,{className:"mr-3 text-blue-300"})," Settings"]})})]})}),b.jsxs("div",{className:"p-5 border-t border-blue-800",children:[H!=="granted"&&b.jsxs("button",{onClick:B,className:"flex items-center p-3 text-yellow-200 bg-yellow-700 hover:bg-yellow-800 rounded-lg transition-colors duration-200 w-full mb-3",title:"Click to enable sound and desktop notifications for the chat.",children:[b.jsx(A9,{className:"mr-3"}),"Enable Notifications"]}),b.jsxs("button",{onClick:A,className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200 w-full",children:[b.jsx(_9,{className:"mr-3 text-blue-300"})," Logout"]})]})]}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[b.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-white border-b border-gray-200 shadow-sm z-10",children:[b.jsxs("h1",{className:"text-xl font-semibold text-gray-800",children:["Welcome, ",i?i.username:"Guest","!"]}),b.jsx("div",{className:"flex items-center space-x-4",children:b.jsxs("div",{className:"relative",ref:g,children:[b.jsxs("button",{onClick:I,className:`relative p-2 rounded-full transition-colors ${C>0?"text-red-500 hover:text-red-600 bg-red-50 animate-pulse":"text-gray-500 hover:text-blue-600 hover:bg-gray-100"}`,title:C>0?`${C} New Notification(s)`:"No new notifications",children:[b.jsx(o9,{className:"text-xl"}),C>0&&b.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-4 h-4 flex items-center justify-center rounded-full",children:C})]}),r&&m&&b.jsx(w9,{newRequests:te,messageAlerts:ve,handleClearAll:R,handleClose:M})]})})]}),b.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:b.jsx(r4,{})})]})]})}const ov="/fezeaix-commission/assets/art1.1-DCuravIE.png",C9="/fezeaix-commission/assets/art1.2-B6Iqhhz4.png",N9="/fezeaix-commission/assets/art1-CbDPtxvT.png",uv="/fezeaix-commission/assets/art2-jkhjJiZ0.png",cv="/fezeaix-commission/assets/art3-DdDvzTdT.png",D9="/fezeaix-commission/assets/art4.1-B-a3XYda.png",M9="/fezeaix-commission/assets/art4.2-Cahwdkl3.png",V9="/fezeaix-commission/assets/art4-YQIqTJVT.png",I9="/fezeaix-commission/assets/art5.1-CZZstCHB.png",O9="/fezeaix-commission/assets/art5-CLPO2HS7.png",fv="/fezeaix-commission/assets/art6.1-B4EZmlFS.png",hv="/fezeaix-commission/assets/art6-CERsBu3s.png",j9="/fezeaix-commission/assets/art7.1-BxocYA7A.png",dv="/fezeaix-commission/assets/art7.2-xicbCdwj.png",mv="/fezeaix-commission/assets/art7-BRizx3x5.png",gv="/fezeaix-commission/assets/art8-DBQB1TcH.png",pv="/fezeaix-commission/assets/art9-nhgN9dYk.jpg",yv="/fezeaix-commission/assets/art10.1-CB4g4l2r.png",xv="/fezeaix-commission/assets/art10.2-DI9XsGn7.png",vv="/fezeaix-commission/assets/art10.3-CMaG_Xy2.jpg",z9="/fezeaix-commission/assets/art10.4-CAFhE7ty.jpg",L9="/fezeaix-commission/assets/art10-D610wGHz.png",_v="/fezeaix-commission/assets/art11-ywWSusCC.png",bv="/fezeaix-commission/assets/art12-5rWRyq-n.png",Ev="/fezeaix-commission/assets/art13-Dp52JEvp.png",Tv="/fezeaix-commission/assets/art14-sgDQDkxG.jpg",Sv="/fezeaix-commission/assets/art15-CdNGEzqJ.png",Av="/fezeaix-commission/assets/art16.1-DkyAzIus.png",wv="/fezeaix-commission/assets/art16-D5dKL5Qr.png",Rv="/fezeaix-commission/assets/art17-Ch4aJ19n.png",Cv="/fezeaix-commission/assets/art18-2c9wammY.PNG";function U9(){const i=[{id:"1.1",src:ov,title:"Mystical Forest"},{id:"1.2",src:C9,title:"Mystical Forest"},{id:"1",src:N9,title:"Dragon Rider"},{id:"2",src:uv,title:"Starry Night Wanderer"},{id:"3",src:cv,title:"Ancient Guardian"},{id:"4.1",src:D9,title:"Mystical Forest"},{id:"4.2",src:M9,title:"Mystical Forest"},{id:"4",src:V9,title:"Desert Oasis"},{id:"5.1",src:I9,title:"Mystical Forest"},{id:"5",src:O9,title:"Frozen Peaks"},{id:"6.1",src:fv,title:"Mystical Forest"},{id:"6",src:hv,title:"City at Dusk"},{id:"7.1",src:j9,title:"Mystical Forest"},{id:"7.2",src:dv,title:"Mystical Forest"},{id:"7",src:mv,title:"Oceanic Depths"},{id:"8",src:gv,title:"Floating Islands"},{id:"9",src:pv,title:"Mystical Forest"},{id:"10.1",src:yv,title:"Mystical Forest"},{id:"10.2",src:xv,title:"Mystical Forest"},{id:"10.3",src:vv,title:"Mystical Forest"},{id:"10.4",src:z9,title:"Mystical Forest"},{id:"10",src:L9,title:"Mystical Forest"},{id:"11",src:_v,title:"Mystical Forest"},{id:"12",src:bv,title:"Mystical Forest"},{id:"13",src:Ev,title:"Mystical Forest"},{id:"14",src:Tv,title:"Mystical Forest"},{id:"15",src:Sv,title:"Mystical Forest"},{id:"16.1",src:Av,title:"Mystical Forest"},{id:"16",src:wv,title:"Mystical Forest"},{id:"17",src:Rv,title:"Mystical Forest"},{id:"18",src:Cv,title:"Mystical Forest"}],[t,a]=U.useState(null),r=u=>{a(u)},o=()=>{a(null)};return b.jsxs("div",{className:"bg-white rounded-xl shadow-lg min-h-full p-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Art Gallery"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"This is where all your amazing artworks will be displayed!"}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mt-4",children:i.map(u=>b.jsxs("div",{className:"relative group cursor-pointer overflow-hidden rounded-lg shadow-md aspect-square",onClick:()=>r(u),children:[b.jsx("img",{src:u.src,alt:u.title,className:"w-full h-full object-cover transform transition-transform duration-500 group-hover:scale-110"}),b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:b.jsx("p",{className:"text-white text-base font-semibold text-center p-2",children:u.title})})]},u.id))}),t&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4 animate-fade-in",onClick:o,children:b.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl max-w-5xl lg:max-w-6xl max-h-[95vh] overflow-hidden animate-scale-up",onClick:u=>u.stopPropagation(),children:[b.jsx("button",{className:"absolute top-4 right-4 text-white text-3xl font-bold bg-gray-800 bg-opacity-70 hover:bg-opacity-100 rounded-full w-10 h-10 flex items-center justify-center z-10 transition-colors",onClick:o,children:""}),b.jsx("img",{src:t.src,alt:t.title,className:"max-w-full max-h-[85vh] object-contain mx-auto"}),b.jsx("div",{className:"p-3 text-center bg-gray-100 border-t border-gray-200",children:b.jsx("p",{className:"text-xl font-bold text-center text-gray-800",children:t.title})})]})})]})}const P9=[{id:"full-color",title:"[ Full Color ] PFP/OC/Fanart/Illustration",description:"!   ",price:25,priceBaht:"800+",buttonColor:"purple",images:[uv,mv,gv,pv,yv,xv,vv,Cv]},{id:"rough-color",title:"[ Rough Color ] PFP/OC/Fanart/Illustration",description:"!   ",price:17,priceBaht:"550+",buttonColor:"blue",images:[ov,cv,hv,_v,Ev,Rv]},{id:"full-color-bust-up",title:"[ Full Color Bust Up ] PhotoID/OC/Cannon",description:"!   ",price:14,priceBaht:"450+",buttonColor:"purple",images:[fv,dv,bv,Tv,Sv,Av,wv]}],B9=`

  
 
  / 
  


 4-7 

////
 (+15)
.

////
gmail
google drive
 


 1  3 
 
 
  
  x2.5
  //
  2 +20
     (reference)
**DM**
`;function k9({commission:i,onClose:t,onSubmit:a,requesterUsername:r}){const[o,u]=U.useState(0),[h,m]=U.useState(!1),[y,g]=U.useState(!1),[_,T]=U.useState(""),[N,V]=U.useState(""),H=B=>{const Z=i.images.length;let te=o+B;te<0&&(te=Z-1),te>=Z&&(te=0),u(te)},G=async()=>{if(!h){T("You must accept the Terms of Service to proceed.");return}g(!0),T(""),V("");const B={commissionType:i.title,price:i.price,requesterUsername:r},Z=await a(B);g(!1),Z.success?(V(Z.message),setTimeout(t,2e3)):T(Z.message||"Failed to submit request.")};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4 animate-fade-in",onClick:t,children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[95vh] overflow-hidden flex flex-col animate-scale-up",onClick:B=>B.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[b.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Request: ",i.title,b.jsxs("span",{className:"text-xl text-purple-600 ml-2",children:["($",i.price," / ",i.priceBaht," Baht)"]})]}),b.jsx("button",{className:"text-gray-400 hover:text-gray-700 transition-colors",onClick:t,children:b.jsx(E9,{size:24})})]}),b.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 overflow-hidden",children:[b.jsxs("div",{className:"relative flex items-center justify-center bg-gray-100 p-4",children:[b.jsx("img",{src:i.images[o],alt:`${i.title} Example ${o+1}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-md"}),i.images.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>H(-1),className:"absolute left-4 p-3 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75 transition-colors",children:b.jsx(c9,{})}),b.jsx("button",{onClick:()=>H(1),className:"absolute right-4 p-3 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75 transition-colors",children:b.jsx(f9,{})})]}),b.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2",children:i.images.map((B,Z)=>b.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${Z===o?"bg-white scale-125":"bg-gray-400"}`},Z))})]}),b.jsxs("div",{className:"p-6 flex flex-col overflow-y-auto custom-scroll",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Commission Details"}),b.jsx("p",{className:"text-gray-600 mb-2",children:i.description}),b.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",i.price,b.jsxs("span",{className:"text-base text-gray-500 font-normal ml-2",children:["(",i.priceBaht," Baht)"]})]})]}),b.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 border-t pt-4",children:"Terms of Service"}),b.jsx("div",{className:"bg-gray-50 p-4 rounded-lg text-sm text-gray-700 max-h-80 overflow-y-auto custom-scroll mb-4",children:B9.split(`
`).filter(B=>B.trim()!=="").map((B,Z)=>b.jsx("p",{className:"mb-1",children:B},Z))}),_&&b.jsx("p",{className:"text-red-500 text-sm mb-3",children:_}),N&&b.jsx("p",{className:"text-green-500 text-sm mb-3",children:N})]})]}),b.jsxs("div",{className:"p-5 border-t border-gray-200 flex flex-col space-y-3",children:[b.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-300 rounded-lg",children:[b.jsx("input",{type:"checkbox",id:"accept-terms",checked:h,onChange:B=>m(B.target.checked),className:"h-5 w-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer"}),b.jsxs("label",{htmlFor:"accept-terms",className:"text-gray-500 font-semibold cursor-pointer select-none",children:["I accept Fezeaix ",b.jsx(g9,{className:"inline text-purple-500 mx-1"}),"'s Terms of Service"]})]}),b.jsx("button",{onClick:G,disabled:!h||y,className:`py-3 rounded-xl font-bold text-white transition-all duration-300 shadow-lg ${!h||y?"bg-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"}`,children:y?"Submitting Request...":"Accept terms to start request"})]})]})})}function q9(){const{addCommissionRequest:i,user:t}=Tn(),[a,r]=U.useState(!1),[o,u]=U.useState(null),h=g=>{r(!0),u(g)},m=()=>{u(null),r(!1)},y=g=>i({...g,description:`[Commission request for ${g.commissionType}. Client will contact artist via inbox for details.]`});return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Information"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"      "}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P9.map(g=>b.jsxs("div",{className:`bg-${g.buttonColor==="blue"?"blue":"purple"}-50 p-6 rounded-xl shadow-md border ${g.buttonColor==="blue"?"border-blue-200":"border-purple-200"} flex flex-col`,children:[b.jsx("h3",{className:`font-bold ${g.buttonColor==="blue"?"text-blue-800":"text-purple-800"} text-xl mb-2`,children:g.title}),b.jsx("p",{className:`${g.buttonColor==="blue"?"text-blue-700":"text-purple-700"} text-sm mb-4 flex-grow`,children:g.description}),b.jsxs("div",{className:`relative w-full h-40 mb-4 rounded-lg overflow-hidden ${g.buttonColor==="blue"?"bg-blue-100":"bg-purple-100"} flex items-center justify-center`,children:[b.jsx("img",{src:g.images[0],alt:`${g.title} Example`,className:"w-full h-full object-cover"}),b.jsx("span",{className:`absolute bottom-2 right-2 ${g.buttonColor==="blue"?"bg-blue-600":"bg-purple-600"} text-white text-xs px-2 py-1 rounded-full`,children:g.title.toUpperCase()})]}),b.jsxs("p",{className:`${g.buttonColor==="blue"?"text-blue-900":"text-purple-900"} font-bold text-xl mb-4`,children:["Price: $",g.price,b.jsxs("span",{className:"text-base text-gray-500 font-normal ml-2",children:["(",g.priceBaht," Baht)"]})]}),b.jsx("button",{onClick:()=>h(g),className:`mt-auto ${g.buttonColor==="blue"?"bg-blue-600 hover:bg-blue-700":"bg-purple-600 hover:bg-purple-700"} text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 shadow-md`,children:"Start Request"})]},g.id))}),a&&o&&b.jsx(k9,{commission:o,onClose:m,onSubmit:y,requesterUsername:t?.username})]})}const H9=["New Request","Pending Payment","In Progress","Sketch Sent","Completed","Canceled","On Hold"],sm=i=>{switch(i){case"New Request":return"bg-red-100 text-red-800 border-red-300";case"Pending Payment":return"bg-orange-100 text-orange-800 border-orange-300";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-300";case"Sketch Sent":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"Completed":return"bg-green-100 text-green-800 border-green-300";case"On Hold":return"bg-gray-100 text-gray-800 border-gray-300";case"Canceled":return"bg-gray-200 text-gray-500 border-gray-400";default:return"bg-gray-50 text-gray-700 border-gray-300"}};function F9({request:i,updateStatus:t,deleteRequest:a}){const[r,o]=U.useState(!1),[u,h]=U.useState(!1),[m,y]=U.useState(i.status),g=async()=>{h(!0),await t(i.id,m),h(!1),o(!1)};return u?b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(b9,{className:"animate-spin text-blue-500",size:16,title:"Updating..."})}):r?b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("select",{value:m,onChange:_=>y(_.target.value),className:`p-1 text-sm border rounded ${sm(m)} focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:H9.map(_=>b.jsx("option",{value:_,children:_},_))}),b.jsx("button",{onClick:g,className:"p-1 bg-green-500 hover:bg-green-600 text-white rounded transition-colors",title:"Save Status",children:b.jsx(u9,{size:14})}),b.jsx("button",{onClick:()=>o(!1),className:"p-1 bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors",title:"Cancel",children:""})]}):b.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[b.jsx("button",{onClick:()=>o(!0),className:"p-1 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",title:"Edit Status",children:b.jsx(m9,{size:14})}),b.jsx("button",{onClick:a,className:"p-1 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Delete Request",children:b.jsx(Km,{size:14})})]})}function G9(){const{commissionRequests:i,isAdmin:t,updateCommissionStatus:a,deleteCommissionRequest:r}=Tn(),o=i.slice().sort((h,m)=>new Date(h.timestamp)-new Date(m.timestamp)),u=(h,m)=>{window.confirm(`Are you sure you want to permanently delete the commission from ${m}?`)&&r(h)};return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg min-h-full",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Queue"}),b.jsx("p",{className:"text-gray-600 mb-6",children:t?"As the artist, you can manage the status and priority of all client commissions here.":"View the current queue and the status of your commission requests here."}),o.length===0?b.jsx("p",{className:"text-gray-500 text-center py-8",children:"The commission queue is currently empty."}):b.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg border border-gray-200",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requester"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission Type"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t&&b.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((h,m)=>b.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:m+1}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.requesterUsername}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:h.commissionType}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold",children:["$",h.price]}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[!t&&b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${sm(h.status)}`,children:h.status}),t&&h.status!=="Editing"&&b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${sm(h.status)}`,children:h.status})]}),t&&b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:b.jsx(F9,{request:h,updateStatus:a,deleteRequest:()=>u(h.id,h.requesterUsername)})})]},h.id))})]})})]})}const Q9=i=>i.length<8||i.length>16?"Password must be between 8 and 16 characters long.":/[A-Z]/.test(i)?/[a-z]/.test(i)?/[0-9]/.test(i)?null:"Password must contain at least one number (0-9).":"Password must contain at least one lowercase letter (a-z).":"Password must contain at least one uppercase letter (A-Z).";function Y9(){const[i,t]=U.useState(""),[a,r]=U.useState(""),[o,u]=U.useState(""),[h,m]=U.useState(""),[y,g]=U.useState(""),{changePassword:_}=Tn(),T=async N=>{if(N.preventDefault(),m(""),g(""),!i||!a||!o){m("Please fill in all fields.");return}if(a!==o){m("New password and confirmation do not match.");return}const V=Q9(a);if(V){m(V);return}if(a===i){m("New password must be different from the current password.");return}const H=await _(i,a);H.success?(g(H.message),t(""),r(""),u("")):m(H.message)};return b.jsxs("div",{className:"mt-4 border p-6 rounded-lg shadow-sm",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Change Password"}),b.jsxs("form",{onSubmit:T,className:"space-y-4 max-w-lg",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),b.jsx("input",{type:"password",id:"currentPassword",value:i,onChange:N=>t(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Min 8-16 chars, include A-Z, a-z, 0-9."}),b.jsx("input",{type:"password",id:"newPassword",value:a,onChange:N=>r(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),b.jsx("input",{type:"password",id:"confirmNewPassword",value:o,onChange:N=>u(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),h&&b.jsx("p",{className:"text-red-500 text-sm",children:h}),y&&b.jsx("p",{className:"text-green-500 text-sm",children:y}),b.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-colors duration-200 disabled:bg-gray-400",children:"Change Password"})]})]})}function X9(){const{user:i,isAdmin:t}=Tn();return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Account Settings"}),b.jsxs("div",{className:"mb-6",children:[b.jsx("p",{className:"text-gray-600 mb-2",children:"Manage your account details and security settings here."}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Username: ",b.jsx("span",{className:"font-bold text-blue-600",children:i?.username})]}),b.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Role: ",b.jsx("span",{className:`font-bold ${t?"text-red-600":"text-green-600"}`,children:t?"Artist (Admin)":"Client (User)"})]})]})]}),b.jsx(Y9,{}),t&&b.jsxs("div",{className:"mt-8 border-t pt-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Artist/Commission Settings"}),b.jsx("p",{className:"text-gray-600",children:"This area is for managing commission terms, pricing, and other artist-specific settings."})]})]})}function K9({request:i,currentUser:t,addMessage:a,deleteMessage:r}){const[o,u]=U.useState(""),h=U.useRef(null);U.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[i.messages]);const m=async g=>{g.preventDefault(),o.trim()&&(await a(i.id,t.username,o.trim()),u(""))},y=g=>{window.confirm("Are you sure you want to delete this message? It will be removed for both the client and the artist.")&&r(i.id,g)};return b.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-200 rounded-xl shadow-md",children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center",children:[b.jsx(S9,{size:24,className:"mr-3 text-blue-500"}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Chat with: ",i.requesterUsername]}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Commission: ",i.commissionType," | Price: $",i.price]})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scroll",children:[i.messages&&i.messages.map(g=>{const _=g.sender===t.username;return g.sender==="System"?b.jsx("div",{className:"flex justify-center w-full",children:b.jsxs("div",{className:"text-center text-xs text-gray-400 italic max-w-xs p-2 rounded-lg bg-gray-50 border border-gray-200",children:[new Date(g.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",g.text]})},g.id):b.jsx("div",{className:`flex ${_?"justify-end":"justify-start"}`,children:b.jsxs("div",{className:`flex items-end max-w-[70%] relative ${_?"flex-row-reverse":"flex-row"}`,children:[b.jsxs("div",{className:`px-4 py-2 rounded-xl shadow-md ${_?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-tl-none"}`,children:[b.jsx("p",{className:"font-semibold text-xs mb-1 opacity-80",children:_?"Me (Artist)":g.sender}),b.jsx("p",{className:"text-sm break-words",children:g.text}),b.jsx("span",{className:`block text-right mt-1 ${_?"text-blue-100":"text-gray-500"} text-xs`,children:new Date(g.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),_&&b.jsx("button",{onClick:()=>y(g.id),className:"mb-1 p-1 text-red-400 hover:text-red-600 transition-colors flex-shrink-0",title:"Delete Message",style:{left:"-20px"},children:b.jsx(Km,{size:12})})]})},g.id)}),b.jsx("div",{ref:h})," "]}),b.jsx("form",{onSubmit:m,className:"p-4 border-t border-gray-200 bg-gray-50",children:b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("input",{type:"text",value:o,onChange:g=>u(g.target.value),placeholder:"Type a message to the client...",className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",disabled:!i.id}),b.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-xl transition-colors duration-200 disabled:bg-gray-400",disabled:!o.trim(),children:b.jsx(lv,{size:20})})]})})]})}function $9(){const{commissionRequests:i,deleteCommissionRequest:t,user:a,addMessageToCommissionRequest:r,deleteMessageFromCommissionRequest:o,setClientMessagesViewed:u}=Tn(),h=i.slice().sort((V,H)=>new Date(H.timestamp)-new Date(V.timestamp)),[m,y]=U.useState(h.length>0?h[0]:null);U.useEffect(()=>{const V=i.slice().sort((H,G)=>new Date(G.timestamp)-new Date(H.timestamp))[0];if(m){const H=i.find(G=>G.id===m.id);y(H||null)}else V&&y(V)},[i,a,m]),U.useEffect(()=>{if(m&&m.messages&&m.messages.length>0){const V=m.messages[m.messages.length-1];if(V.sender!=="fezeaix"&&V.sender!=="System"){const H=JSON.parse(localStorage.getItem("adminLastViewedMessages")||"{}"),G=new Date().toISOString();if(new Date(V.timestamp).getTime()>new Date(H[m.id]||0).getTime()){const B={...H,[m.id]:G};localStorage.setItem("adminLastViewedMessages",JSON.stringify(B))}}}},[m,i]);const g=V=>{window.confirm("Are you sure you want to delete this commission request? This action is permanent.")&&(t(V),m&&m.id===V&&y(null))},_=async(V,H,G)=>{await r(V,H,G)},T=async(V,H)=>{await o(V,H)},N=V=>{if(!V.messages||V.messages.length===0)return!1;const H=V.messages[V.messages.length-1];if(H.sender==="fezeaix"||H.sender==="System")return!1;const B=JSON.parse(localStorage.getItem("adminLastViewedMessages")||"{}")[V.id]||new Date(0).toISOString();return new Date(H.timestamp).getTime()>new Date(B).getTime()};return b.jsxs("div",{className:"p-6 h-full bg-white rounded-xl shadow-lg flex flex-col",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Inbox"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"Here you can manage incoming commission requests and communicate directly with the clients."}),b.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[b.jsx("div",{className:"overflow-y-auto custom-scroll md:col-span-1",children:i.length===0?b.jsx("p",{className:"text-gray-500 text-center py-8",children:"No new commission requests in your inbox."}):b.jsx("div",{className:"space-y-3",children:h.map(V=>{const H=m&&m.id===V.id,G=N(V),B=V.messages&&V.messages.length>0?V.messages[V.messages.length-1]:null,Z=V.messages&&V.messages.find(te=>te.sender==="System");return b.jsxs("div",{onClick:()=>y(V),className:`p-4 rounded-lg shadow-sm border transition-all duration-200 cursor-pointer overflow-hidden break-words ${H?"bg-blue-100 border-blue-400 ring-2 ring-blue-500":"bg-gray-50 border-gray-200 hover:bg-gray-100"} flex items-center justify-between relative`,children:[b.jsxs("div",{className:"flex-1 mr-4 overflow-hidden",children:[b.jsxs("p",{className:"font-semibold text-gray-800 text-lg",children:[b.jsx("span",{className:"text-blue-600",children:V.requesterUsername})," requested ",b.jsx("span",{className:"text-purple-600",children:V.commissionType})]}),b.jsxs("p",{className:"text-gray-600 text-sm",children:["Price: ",b.jsxs("span",{className:"font-medium",children:["$",V.price]})," | Status: ",b.jsx("span",{className:"font-medium text-green-700",children:V.status})]}),Z&&b.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[b.jsx("span",{className:"font-medium",children:"System:"})," ",Z.text]}),B&&B.sender!=="System"&&b.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[b.jsxs("span",{className:"font-medium",children:[B.sender===a.username?"You":B.sender,":"]})," ",B.text]})]}),G&&b.jsxs("span",{className:"absolute top-2 right-10 relative flex h-3 w-3",title:"New Client Message",children:[b.jsx("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),b.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),b.jsx("button",{onClick:te=>{te.stopPropagation(),g(V.id)},className:"text-red-500 hover:text-red-700 p-2 rounded-full transition-colors duration-200 flex-shrink-0",title:"Delete Request",children:b.jsx(Km,{size:16})})]},V.id)})})}),m?b.jsx("div",{className:"md:col-span-2 h-full min-h-[400px] md:min-h-0",children:b.jsx(K9,{request:m,currentUser:a,addMessage:_,deleteMessage:T})}):b.jsx("div",{className:"md:col-span-2 flex items-center justify-center text-gray-500 text-lg",children:"Select a commission request to start chatting."})]})]})}function Z9({request:i,currentUser:t,addMessage:a}){const[r,o]=U.useState(""),u=U.useRef(null);U.useEffect(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[i.messages]);const h=async m=>{m.preventDefault(),r.trim()&&(await a(i.id,t.username,r.trim()),o(""))};return b.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-200 rounded-xl shadow-md",children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center",children:[b.jsx(im,{size:24,className:"mr-3 text-purple-500"}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Chat for: ",i.commissionType]}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Artist: Fezeaix | Status: ",i.status]})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scroll",children:[i.messages&&i.messages.map(m=>{const y=m.sender===t.username;return m.sender==="System"?b.jsxs("div",{className:"text-center text-xs text-gray-400 italic",children:[new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",m.text]},m.id):b.jsx("div",{className:`flex ${y?"justify-end":"justify-start"}`,children:b.jsxs("div",{className:`max-w-[70%] px-4 py-2 rounded-xl shadow-md ${y?"bg-purple-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-tl-none"}`,children:[b.jsx("p",{className:"font-semibold text-xs mb-1 opacity-80",children:y?"Me":m.sender}),b.jsx("p",{className:"text-sm break-words",children:m.text}),b.jsx("span",{className:`block text-right mt-1 ${y?"text-purple-100":"text-gray-500"} text-xs`,children:new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},m.id)}),b.jsx("div",{ref:u})]}),b.jsx("form",{onSubmit:h,className:"p-4 border-t border-gray-200 bg-gray-50",children:b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("input",{type:"text",value:r,onChange:m=>o(m.target.value),placeholder:"Type a message to the artist...",className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors"}),b.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white p-3 rounded-xl transition-colors duration-200 disabled:bg-gray-400",disabled:!r.trim(),children:b.jsx(lv,{size:20})})]})})]})}function J9(){const{commissionRequests:i,user:t,addMessageToCommissionRequest:a,setClientMessagesViewed:r}=Tn(),o=i.filter(_=>_.requesterUsername===t?.username),[u,h]=U.useState(o.length>0?o[0]:null);U.useEffect(()=>{const _=i.filter(T=>T.requesterUsername===t?.username).slice().sort((T,N)=>new Date(N.timestamp)-new Date(T.timestamp));if(u){const T=i.find(N=>N.id===u.id);h(T||null)}else _.length>0&&h(_[0])},[i,t?.username,u]),U.useEffect(()=>{if(u&&u.messages&&u.messages.length>0){const _=u.messages[u.messages.length-1];_.sender==="fezeaix"&&r(u.id,_.timestamp)}},[u,r]);const m=async(_,T,N)=>{await a(_,T,N)},y=o.slice().sort((_,T)=>new Date(T.timestamp)-new Date(_.timestamp));if(o.length===0)return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Commission Messages"}),b.jsx("p",{className:"text-gray-500 text-center py-8",children:"You have no active commission requests yet. Please visit the Commission page to start one."})]});const g=_=>{if(!_.messages||_.messages.length===0)return!1;const T=_.messages[_.messages.length-1];if(T.sender!=="fezeaix")return!1;const N=_.lastViewedByClient?.[t.username]||new Date(0).toISOString();return new Date(T.timestamp).getTime()>new Date(N).getTime()};return b.jsxs("div",{className:"p-6 h-full bg-white rounded-xl shadow-lg flex flex-col",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Commission Messages"}),b.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[b.jsx("div",{className:"overflow-y-auto custom-scroll md:col-span-1",children:b.jsx("div",{className:"space-y-3",children:y.map(_=>{const T=u&&u.id===_.id,N=g(_),V=_.messages&&_.messages.length>0?_.messages[_.messages.length-1]:null;return b.jsxs("div",{onClick:()=>h(_),className:`p-4 rounded-lg shadow-sm border transition-all duration-200 cursor-pointer ${T?"bg-purple-100 border-purple-400 ring-2 ring-purple-500":"bg-gray-50 border-gray-200 hover:bg-gray-100"} flex flex-col relative`,children:[b.jsxs("p",{className:"font-semibold text-gray-800 text-lg",children:["Request: ",b.jsx("span",{className:"text-purple-600",children:_.commissionType})]}),b.jsxs("p",{className:"text-gray-600 text-sm",children:["Status: ",b.jsx("span",{className:"font-medium text-green-700",children:_.status})]}),V&&b.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[b.jsxs("span",{className:"font-medium",children:[V.sender===t.username?"You":V.sender,":"]})," ",V.text]}),N&&b.jsxs("span",{className:"absolute top-2 right-2 relative flex h-3 w-3",title:"New Message",children:[b.jsx("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),b.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]},_.id)})})}),u?b.jsx("div",{className:"md:col-span-2 h-full min-h-[400px]",children:b.jsx(Z9,{request:u,currentUser:t,addMessage:m})}):b.jsx("div",{className:"md:col-span-2 flex items-center justify-center text-gray-500 text-lg",children:"Select a commission request to view the chat."})]})]})}const W9=i=>{switch(i){case"New Request":return"bg-red-100 text-red-800 border-red-300";case"In Discussion":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"Pending Payment":return"bg-orange-100 text-orange-800 border-orange-300";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-300";case"Sketch Sent":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"Revisions":return"bg-purple-100 text-purple-800 border-purple-300";case"Completed":return"bg-green-100 text-green-800 border-green-300";case"On Hold":return"bg-gray-100 text-gray-800 border-gray-300";case"Canceled":return"bg-gray-200 text-gray-500 border-gray-400";default:return"bg-gray-50 text-gray-700 border-gray-300"}};function e8(){const{user:i,commissionRequests:t}=Tn(),a=Kr(),r=t.filter(u=>u.requesterUsername===i?.username).sort((u,h)=>new Date(h.timestamp)-new Date(u.timestamp)),o=u=>{alert(`Requesting: ${u}. Please go to the Commission page to re-submit with new details.`),a("/dashboard/commission")};return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg min-h-full",children:[b.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 flex items-center",children:[b.jsx(rv,{className:"mr-3 text-gray-500"})," My Commission History"]}),b.jsx("p",{className:"text-gray-600 mb-6",children:"View all your past and current commission requests."}),r.length===0?b.jsx("p",{className:"text-gray-500 text-center py-8",children:"You have no commission history yet."}):b.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg border border-gray-200",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested On"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission Type"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),b.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Re-Request"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((u,h)=>b.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[r.length-h," "]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(u.timestamp).toLocaleDateString()}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:u.commissionType}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold",children:["$",u.price]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${W9(u.status)}`,children:u.status})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:b.jsxs("button",{onClick:()=>o(u.commissionType),className:"p-1.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center mx-auto space-x-1 text-xs font-semibold",title:"Use this request as a new template",children:[b.jsx(v9,{size:12}),b.jsx("span",{children:"Re-Request"})]})})]},u.id))})]})})]})}const t8="/fezeaix-commission/";function Md({children:i}){const{isAuthenticated:t,loading:a}=Tn();return a?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:b.jsx("p",{className:"text-xl text-gray-700",children:"Loading user data..."})}):t?i:b.jsx(Lr,{to:"/login",replace:!0})}function n8({children:i}){const{isAuthenticated:t,isAdmin:a,loading:r}=Tn();return console.log("AdminProtectedRoute - Is Authenticated:",t),console.log("AdminProtectedRoute - Is Admin:",a),console.log("AdminProtectedRoute - Loading:",r),r?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:b.jsx("p",{className:"text-xl text-gray-700",children:"Loading user data..."})}):t?a?(console.log("AdminProtectedRoute - Access Granted"),i):(console.log("AdminProtectedRoute - Redirecting to /dashboard/gallery (Not Admin)"),b.jsx(Lr,{to:"/dashboard/gallery",replace:!0})):(console.log("AdminProtectedRoute - Redirecting to /login"),b.jsx(Lr,{to:"/login",replace:!0}))}function a8(){const{isAuthenticated:i,loading:t}=Tn();return b.jsx(M4,{basename:t8,children:b.jsxs(o4,{children:[b.jsx(bn,{path:"/login",element:b.jsx(J5,{})}),b.jsx(bn,{path:"/register",element:b.jsx(e9,{})}),b.jsxs(bn,{path:"/dashboard",element:b.jsx(Md,{children:b.jsx(R9,{})}),children:[b.jsx(bn,{path:"gallery",element:b.jsx(U9,{})}),b.jsx(bn,{path:"commission",element:b.jsx(q9,{})}),b.jsx(bn,{path:"queue",element:b.jsx(G9,{})}),b.jsx(bn,{path:"settings",element:b.jsx(X9,{})}),b.jsx(bn,{path:"messages",element:b.jsx(Md,{children:b.jsx(J9,{})})}),b.jsx(bn,{path:"history",element:b.jsx(Md,{children:b.jsx(e8,{})})}),b.jsx(bn,{path:"inbox",element:b.jsx(n8,{children:b.jsx($9,{})})}),b.jsx(bn,{index:!0,element:b.jsx(Lr,{to:"gallery",replace:!0})})]}),b.jsx(bn,{path:"/",element:t?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:b.jsx("p",{className:"text-xl text-gray-700",children:"Loading..."})}):i?b.jsx(Lr,{to:"/dashboard/gallery",replace:!0}):b.jsx(Lr,{to:"/login",replace:!0})})]})})}gb.createRoot(document.getElementById("root")).render(b.jsx(Bi.StrictMode,{children:b.jsxs(Z5,{children:[" ",b.jsx(a8,{})]})}));
