(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function V1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var nd={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function hE(){if(n0)return to;n0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return to.Fragment=e,to.jsx=i,to.jsxs=i,to}var i0;function fE(){return i0||(i0=1,nd.exports=hE()),nd.exports}var b=fE(),id={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function dE(){if(s0)return Tt;s0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,H={};function tt(I,J,rt){this.props=I,this.context=J,this.refs=H,this.updater=rt||Q}tt.prototype.isReactComponent={},tt.prototype.setState=function(I,J){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,J,"setState")},tt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function it(){}it.prototype=tt.prototype;function et(I,J,rt){this.props=I,this.context=J,this.refs=H,this.updater=rt||Q}var ot=et.prototype=new it;ot.constructor=et,K(ot,tt.prototype),ot.isPureReactComponent=!0;var ct=Array.isArray;function dt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(I,J,rt){var ut=rt.ref;return{$$typeof:s,type:I,key:J,ref:ut!==void 0?ut:null,props:rt}}function O(I,J){return R(I.type,J,I.props)}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function L(I){var J={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(rt){return J[rt]})}var N=/\/+/g;function ie(I,J){return typeof I=="object"&&I!==null&&I.key!=null?L(""+I.key):J.toString(36)}function Ne(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(dt,dt):(I.status="pending",I.then(function(J){I.status==="pending"&&(I.status="fulfilled",I.value=J)},function(J){I.status==="pending"&&(I.status="rejected",I.reason=J)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function X(I,J,rt,ut,Et){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var jt=!1;if(I===null)jt=!0;else switch(wt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(I.$$typeof){case s:case e:jt=!0;break;case E:return jt=I._init,X(jt(I._payload),J,rt,ut,Et)}}if(jt)return Et=Et(I),jt=ut===""?"."+ie(I,0):ut,ct(Et)?(rt="",jt!=null&&(rt=jt.replace(N,"$&/")+"/"),X(Et,J,rt,"",function($s){return $s})):Et!=null&&(V(Et)&&(Et=O(Et,rt+(Et.key==null||I&&I.key===Et.key?"":(""+Et.key).replace(N,"$&/")+"/")+jt)),J.push(Et)),1;jt=0;var De=ut===""?".":ut+":";if(ct(I))for(var se=0;se<I.length;se++)ut=I[se],wt=De+ie(ut,se),jt+=X(ut,J,rt,wt,Et);else if(se=j(I),typeof se=="function")for(I=se.call(I),se=0;!(ut=I.next()).done;)ut=ut.value,wt=De+ie(ut,se++),jt+=X(ut,J,rt,wt,Et);else if(wt==="object"){if(typeof I.then=="function")return X(Ne(I),J,rt,ut,Et);throw J=String(I),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return jt}function at(I,J,rt){if(I==null)return I;var ut=[],Et=0;return X(I,ut,"","",function(wt){return J.call(rt,wt,Et++)}),ut}function pt(I){if(I._status===-1){var J=I._result;J=J(),J.then(function(rt){(I._status===0||I._status===-1)&&(I._status=1,I._result=rt)},function(rt){(I._status===0||I._status===-1)&&(I._status=2,I._result=rt)}),I._status===-1&&(I._status=0,I._result=J)}if(I._status===1)return I._result.default;throw I._result}var Ut=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ft={map:at,forEach:function(I,J,rt){at(I,function(){J.apply(this,arguments)},rt)},count:function(I){var J=0;return at(I,function(){J++}),J},toArray:function(I){return at(I,function(J){return J})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Tt.Activity=S,Tt.Children=Ft,Tt.Component=tt,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=et,Tt.StrictMode=r,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return C.H.useMemoCache(I)}},Tt.cache=function(I){return function(){return I.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(I,J,rt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ut=K({},I.props),Et=I.key;if(J!=null)for(wt in J.key!==void 0&&(Et=""+J.key),J)!A.call(J,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&J.ref===void 0||(ut[wt]=J[wt]);var wt=arguments.length-2;if(wt===1)ut.children=rt;else if(1<wt){for(var jt=Array(wt),De=0;De<wt;De++)jt[De]=arguments[De+2];ut.children=jt}return R(I.type,Et,ut)},Tt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Tt.createElement=function(I,J,rt){var ut,Et={},wt=null;if(J!=null)for(ut in J.key!==void 0&&(wt=""+J.key),J)A.call(J,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(Et[ut]=J[ut]);var jt=arguments.length-2;if(jt===1)Et.children=rt;else if(1<jt){for(var De=Array(jt),se=0;se<jt;se++)De[se]=arguments[se+2];Et.children=De}if(I&&I.defaultProps)for(ut in jt=I.defaultProps,jt)Et[ut]===void 0&&(Et[ut]=jt[ut]);return R(I,wt,Et)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(I){return{$$typeof:p,render:I}},Tt.isValidElement=V,Tt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:pt}},Tt.memo=function(I,J){return{$$typeof:g,type:I,compare:J===void 0?null:J}},Tt.startTransition=function(I){var J=C.T,rt={};C.T=rt;try{var ut=I(),Et=C.S;Et!==null&&Et(rt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(dt,Ut)}catch(wt){Ut(wt)}finally{J!==null&&rt.types!==null&&(J.types=rt.types),C.T=J}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(I){return C.H.use(I)},Tt.useActionState=function(I,J,rt){return C.H.useActionState(I,J,rt)},Tt.useCallback=function(I,J){return C.H.useCallback(I,J)},Tt.useContext=function(I){return C.H.useContext(I)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(I,J){return C.H.useDeferredValue(I,J)},Tt.useEffect=function(I,J){return C.H.useEffect(I,J)},Tt.useEffectEvent=function(I){return C.H.useEffectEvent(I)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(I,J,rt){return C.H.useImperativeHandle(I,J,rt)},Tt.useInsertionEffect=function(I,J){return C.H.useInsertionEffect(I,J)},Tt.useLayoutEffect=function(I,J){return C.H.useLayoutEffect(I,J)},Tt.useMemo=function(I,J){return C.H.useMemo(I,J)},Tt.useOptimistic=function(I,J){return C.H.useOptimistic(I,J)},Tt.useReducer=function(I,J,rt){return C.H.useReducer(I,J,rt)},Tt.useRef=function(I){return C.H.useRef(I)},Tt.useState=function(I){return C.H.useState(I)},Tt.useSyncExternalStore=function(I,J,rt){return C.H.useSyncExternalStore(I,J,rt)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.0",Tt}var a0;function Qd(){return a0||(a0=1,id.exports=dE()),id.exports}var P=Qd();const Ls=V1(P);var sd={exports:{}},eo={},ad={exports:{}},rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function mE(){return r0||(r0=1,(function(s){function e(X,at){var pt=X.length;X.push(at);t:for(;0<pt;){var Ut=pt-1>>>1,Ft=X[Ut];if(0<o(Ft,at))X[Ut]=at,X[pt]=Ft,pt=Ut;else break t}}function i(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var at=X[0],pt=X.pop();if(pt!==at){X[0]=pt;t:for(var Ut=0,Ft=X.length,I=Ft>>>1;Ut<I;){var J=2*(Ut+1)-1,rt=X[J],ut=J+1,Et=X[ut];if(0>o(rt,pt))ut<Ft&&0>o(Et,rt)?(X[Ut]=Et,X[ut]=pt,Ut=ut):(X[Ut]=rt,X[J]=pt,Ut=J);else if(ut<Ft&&0>o(Et,pt))X[Ut]=Et,X[ut]=pt,Ut=ut;else break t}}return at}function o(X,at){var pt=X.sortIndex-at.sortIndex;return pt!==0?pt:X.id-at.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],g=[],E=1,S=null,w=3,j=!1,Q=!1,K=!1,H=!1,tt=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function ot(X){for(var at=i(g);at!==null;){if(at.callback===null)r(g);else if(at.startTime<=X)r(g),at.sortIndex=at.expirationTime,e(y,at);else break;at=i(g)}}function ct(X){if(K=!1,ot(X),!Q)if(i(y)!==null)Q=!0,dt||(dt=!0,L());else{var at=i(g);at!==null&&Ne(ct,at.startTime-X)}}var dt=!1,C=-1,A=5,R=-1;function O(){return H?!0:!(s.unstable_now()-R<A)}function V(){if(H=!1,dt){var X=s.unstable_now();R=X;var at=!0;try{t:{Q=!1,K&&(K=!1,it(C),C=-1),j=!0;var pt=w;try{e:{for(ot(X),S=i(y);S!==null&&!(S.expirationTime>X&&O());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,w=S.priorityLevel;var Ft=Ut(S.expirationTime<=X);if(X=s.unstable_now(),typeof Ft=="function"){S.callback=Ft,ot(X),at=!0;break e}S===i(y)&&r(y),ot(X)}else r(y);S=i(y)}if(S!==null)at=!0;else{var I=i(g);I!==null&&Ne(ct,I.startTime-X),at=!1}}break t}finally{S=null,w=pt,j=!1}at=void 0}}finally{at?L():dt=!1}}}var L;if(typeof et=="function")L=function(){et(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ie=N.port2;N.port1.onmessage=V,L=function(){ie.postMessage(null)}}else L=function(){tt(V,0)};function Ne(X,at){C=tt(function(){X(s.unstable_now())},at)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(X){switch(w){case 1:case 2:case 3:var at=3;break;default:at=w}var pt=w;w=at;try{return X()}finally{w=pt}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(X,at){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pt=w;w=X;try{return at()}finally{w=pt}},s.unstable_scheduleCallback=function(X,at,pt){var Ut=s.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ut+pt:Ut):pt=Ut,X){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=pt+Ft,X={id:E++,callback:at,priorityLevel:X,startTime:pt,expirationTime:Ft,sortIndex:-1},pt>Ut?(X.sortIndex=pt,e(g,X),i(y)===null&&X===i(g)&&(K?(it(C),C=-1):K=!0,Ne(ct,pt-Ut))):(X.sortIndex=Ft,e(y,X),Q||j||(Q=!0,dt||(dt=!0,L()))),X},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(X){var at=w;return function(){var pt=w;w=at;try{return X.apply(this,arguments)}finally{w=pt}}}})(rd)),rd}var l0;function gE(){return l0||(l0=1,ad.exports=mE()),ad.exports}var ld={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function pE(){if(o0)return Ke;o0=1;var s=Qd();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:g,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,E)},Ke.flushSync=function(y){var g=d.T,E=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=g,r.p=E,r.d.f()}},Ke.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},Ke.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ke.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,S=p(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:j}):E==="script"&&r.d.X(y,{crossOrigin:S,integrity:w,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},Ke.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=p(E,g.crossOrigin);r.d.L(y,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=p(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},Ke.requestFormReset=function(y){r.d.r(y)},Ke.unstable_batchedUpdates=function(y,g){return y(g)},Ke.useFormState=function(y,g,E){return d.H.useFormState(y,g,E)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var u0;function yE(){if(u0)return ld.exports;u0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ld.exports=pE(),ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function vE(){if(c0)return eo;c0=1;var s=gE(),e=Qd(),i=yE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),et=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case tt:return"Profiler";case H:return"StrictMode";case ct:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case et:return t.displayName||"Context";case it:return(t._context.displayName||"Context")+".Consumer";case ot:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Ne=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Ut=[],Ft=-1;function I(t){return{current:t}}function J(t){0>Ft||(t.current=Ut[Ft],Ut[Ft]=null,Ft--)}function rt(t,n){Ft++,Ut[Ft]=t.current,t.current=n}var ut=I(null),Et=I(null),wt=I(null),jt=I(null);function De(t,n){switch(rt(wt,n),rt(Et,t),rt(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ay(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ay(n),t=wy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ut),rt(ut,t)}function se(){J(ut),J(Et),J(wt)}function $s(t){t.memoizedState!==null&&rt(jt,t);var n=ut.current,a=wy(n,t.type);n!==a&&(rt(Et,t),rt(ut,a))}function za(t){Et.current===t&&(J(ut),J(Et)),jt.current===t&&(J(jt),$l._currentValue=pt)}var La,Ua;function ti(t){if(La===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);La=n&&n[1]||"",Ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+t+Ua}var $r=!1;function Zs(t,n){if(!t||$r)return"";$r=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var q=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){q=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){q=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var D=v.split(`
`),k=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===k.length)for(l=D.length-1,h=k.length-1;1<=l&&0<=h&&D[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==k[h]){var Y=`
`+D[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{$r=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ti(a):""}function Zr(t,n){switch(t.tag){case 26:case 27:case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return t.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return Zs(t.type,!1);case 11:return Zs(t.type.render,!1);case 1:return Zs(t.type,!0);case 31:return ti("Activity");default:return""}}function Jr(t){try{var n="",a=null;do n+=Zr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,ns=s.unstable_cancelCallback,ih=s.unstable_shouldYield,No=s.unstable_requestPaint,Je=s.unstable_now,Js=s.unstable_getCurrentPriorityLevel,Wr=s.unstable_ImmediatePriority,tl=s.unstable_UserBlockingPriority,is=s.unstable_NormalPriority,sh=s.unstable_LowPriority,Do=s.unstable_IdlePriority,Vo=s.log,Mo=s.unstable_setDisableYieldValue,Un=null,Pe=null;function xn(t){if(typeof Vo=="function"&&Mo(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Un,t)}catch{}}var he=Math.clz32?Math.clz32:Oo,Io=Math.log,Pa=Math.LN2;function Oo(t){return t>>>=0,t===0?32:31-(Io(t)/Pa|0)|0}var ei=256,Ws=262144,ye=4194304;function ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ni(l):(v&=T,v!==0?h=ni(v):a||(a=T&~t,a!==0&&(h=ni(a))))):(T=l&~f,T!==0?h=ni(T):v!==0?h=ni(v):a||(a=l&~t,a!==0&&(h=ni(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ah(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ta(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rh(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,k=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-he(a),Z=1<<Y;T[Y]=0,D[Y]=-1;var q=k[Y];if(q!==null)for(k[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&ea(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function ea(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function el(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function nl(t,n){var a=n&-n;return a=(a&42)!==0?1:na(a),(a&(t.suspendedLanes|n))!==0?0:a}function na(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ni(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zo(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:Xy(t.type))}function Bn(t,n){var a=at.p;try{return at.p=t,n()}finally{at.p=a}}var kn=Math.random().toString(36).slice(2),ve="__reactFiber$"+kn,je="__reactProps$"+kn,ai="__reactContainer$"+kn,Ba="__reactEvents$"+kn,lh="__reactListeners$"+kn,Lo="__reactHandles$"+kn,Uo="__reactResources$"+kn,ri="__reactMarker$"+kn;function ka(t){delete t[ve],delete t[je],delete t[Ba],delete t[lh],delete t[Lo]}function li(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ai]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Iy(t);t!==null;){if(a=t[ve])return a;t=Iy(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[ve]||t[ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function oi(t){var n=t[Uo];return n||(n=t[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[ri]=!0}var il=new Set,sl={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(sl[t]=n,t=0;t<n.length;t++)il.add(n[t])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},ll={};function Po(t){return pe.call(ll,t)?!0:pe.call(rl,t)?!1:al.test(t)?ll[t]=!0:(rl[t]=!0,!1)}function qa(t,n,a){if(Po(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function fn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ss(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ol(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=ss(t)?"checked":"value";t._valueTracker=ol(t,n,""+t[n])}}function ia(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ss(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sa=/[\n"\\]/g;function en(t){return t.replace(sa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ha(t,n,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ze(n)):t.value!==""+ze(n)&&(t.value=""+ze(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?ul(t,v,ze(n)):a!=null?ul(t,v,ze(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ze(T):t.removeAttribute("name")}function Bo(t,n,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(t);return}a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Gt(t)}function ul(t,n,a){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function as(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ko(t,n,a){if(n!=null&&(n=""+ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ze(a):""}function rs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Gt(t)}function nn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var qo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||qo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function hl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&cl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&cl(t,f,n[f])}function Fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(t){return ls.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var fl=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,fi=null;function aa(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[je]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[je]||null;if(!h)throw Error(r(90));Ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ia(l)}break t;case"textarea":ko(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&as(t,!!a.multiple,n,!1)}}}var Qa=!1;function us(t,n,a){if(Qa)return t(n,a);Qa=!0;try{var l=t(n);return l}finally{if(Qa=!1,(os!==null||fi!==null)&&(zu(),os&&(n=os,t=fi,fi=os=null,aa(n),t)))for(n=0;n<t.length;n++)aa(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[je]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(Rn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{ra=!1}var di=null,dl=null,la=null;function ml(){if(la)return la;var t,n=dl,a=n.length,l,h="value"in di?di.value:di.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return la=h.slice(t,1<l?1-l:void 0)}function oa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Di(){return!0}function Fn(){return!1}function Be(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Vi),cs=S({},Vi,{view:0,detail:0}),gl=Be(cs),hs,Ya,gi,Ka=S({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(hs=t.screenX-gi.screenX,Ya=t.screenY-gi.screenY):Ya=hs=0,gi=t),hs)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),pl=Be(Ka),ua=S({},Ka,{dataTransfer:0}),Fo=Be(ua),Go=S({},cs,{relatedTarget:0}),ca=Be(Go),yl=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qo=Be(yl),Xa=S({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yo=Be(Xa),Ko=S({},Vi,{data:0}),pi=Be(Ko),Xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Zo[t])?!!n[t]:!1}function fs(){return Jo}var We=S({},cs,{key:function(t){if(t.key){var n=Xo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(t){return t.type==="keypress"?oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wo=Be(We),tu=S({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Be(tu),u=S({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=Be(u),_=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Be(_),U=S({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Be(U),st=S({},Vi,{newState:0,oldState:0}),xt=Be(st),fe=[9,13,27,32],kt=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!ae,yi=Rn&&(!kt||ae&&8<ae&&11>=ae),Gn=" ",Qn=!1;function ha(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Za=!1;function j_(t,n){switch(t){case"compositionend":return $a(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Qn?null:t;default:return null}}function z_(t,n){if(Za)return t==="compositionend"||!kt&&ha(t,n)?(t=ml(),la=dl=di=null,Za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var L_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!L_[t.type]:n==="textarea"}function Lm(t,n,a,l){os?fi?fi.push(l):fi=[l]:os=l,n=Hu(n,"onChange"),0<n.length&&(a=new mi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var vl=null,_l=null;function U_(t){_y(t,0)}function eu(t){var n=hn(t);if(ia(n))return t}function Um(t,n){if(t==="change")return n}var Pm=!1;if(Rn){var oh;if(Rn){var uh="oninput"in document;if(!uh){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),uh=typeof Bm.oninput=="function"}oh=uh}else oh=!1;Pm=oh&&(!document.documentMode||9<document.documentMode)}function km(){vl&&(vl.detachEvent("onpropertychange",qm),_l=vl=null)}function qm(t){if(t.propertyName==="value"&&eu(_l)){var n=[];Lm(n,_l,t,wn(t)),us(U_,n)}}function P_(t,n,a){t==="focusin"?(km(),vl=n,_l=a,vl.attachEvent("onpropertychange",qm)):t==="focusout"&&km()}function B_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(_l)}function k_(t,n){if(t==="click")return eu(n)}function q_(t,n){if(t==="input"||t==="change")return eu(n)}function H_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var dn=typeof Object.is=="function"?Object.is:H_;function El(t,n){if(dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pe.call(n,h)||!dn(t[h],n[h]))return!1}return!0}function Hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fm(t,n){var a=Hm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Hm(a)}}function Gm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Gm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Qm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=hi(t.document)}return n}function ch(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var F_=Rn&&"documentMode"in document&&11>=document.documentMode,Ja=null,hh=null,bl=null,fh=!1;function Ym(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fh||Ja==null||Ja!==hi(l)||(l=Ja,"selectionStart"in l&&ch(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&El(bl,l)||(bl=l,l=Hu(hh,"onSelect"),0<l.length&&(n=new mi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ja)))}function fa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Wa={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},dh={},Km={};Rn&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function da(t){if(dh[t])return dh[t];if(!Wa[t])return t;var n=Wa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Km)return dh[t]=n[a];return t}var Xm=da("animationend"),$m=da("animationiteration"),Zm=da("animationstart"),G_=da("transitionrun"),Q_=da("transitionstart"),Y_=da("transitioncancel"),Jm=da("transitionend"),Wm=new Map,mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mh.push("scrollEnd");function Yn(t,n){Wm.set(t,n),ui(n,[t])}var nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],tr=0,gh=0;function iu(){for(var t=tr,n=gh=tr=0;n<t;){var a=Nn[n];Nn[n++]=null;var l=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&tg(a,h,f)}}function su(t,n,a,l){Nn[tr++]=t,Nn[tr++]=n,Nn[tr++]=a,Nn[tr++]=l,gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ph(t,n,a,l){return su(t,n,a,l),au(t)}function ma(t,n){return su(t,null,null,n),au(t)}function tg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-he(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function au(t){if(50<Hl)throw Hl=0,wf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var er={};function K_(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,n,a,l){return new K_(t,n,a,l)}function yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,n){var a=t.alternate;return a===null?(a=mn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function eg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ru(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")yh(t)&&(v=1);else if(typeof t=="string")v=W2(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=mn(31,a,n,h),t.elementType=R,t.lanes=f,t;case K:return ga(a.children,h,f,n);case H:v=8,h|=24;break;case tt:return t=mn(12,a,n,h|2),t.elementType=tt,t.lanes=f,t;case ct:return t=mn(13,a,n,h),t.elementType=ct,t.lanes=f,t;case dt:return t=mn(19,a,n,h),t.elementType=dt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case et:v=10;break t;case it:v=9;break t;case ot:v=11;break t;case C:v=14;break t;case A:v=16,l=null;break t}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=mn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ga(t,n,a,l){return t=mn(7,t,l,n),t.lanes=a,t}function vh(t,n,a){return t=mn(6,t,null,n),t.lanes=a,t}function ng(t){var n=mn(18,null,null,0);return n.stateNode=t,n}function _h(t,n,a){return n=mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ig=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var a=ig.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Jr(n)},ig.set(t,n),n)}return{value:t,source:n,stack:Jr(n)}}var nr=[],ir=0,lu=null,Tl=0,Vn=[],Mn=0,ds=null,vi=1,_i="";function Oi(t,n){nr[ir++]=Tl,nr[ir++]=lu,lu=t,Tl=n}function sg(t,n,a){Vn[Mn++]=vi,Vn[Mn++]=_i,Vn[Mn++]=ds,ds=t;var l=vi;t=_i;var h=32-he(l)-1;l&=~(1<<h),a+=1;var f=32-he(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,vi=1<<32-he(n)+h|a<<h|l,_i=f+t}else vi=1<<f|a<<h|l,_i=t}function Eh(t){t.return!==null&&(Oi(t,1),sg(t,1,0))}function bh(t){for(;t===lu;)lu=nr[--ir],nr[ir]=null,Tl=nr[--ir],nr[ir]=null;for(;t===ds;)ds=Vn[--Mn],Vn[Mn]=null,_i=Vn[--Mn],Vn[Mn]=null,vi=Vn[--Mn],Vn[Mn]=null}function ag(t,n){Vn[Mn++]=vi,Vn[Mn++]=_i,Vn[Mn++]=ds,vi=n.id,_i=n.overflow,ds=t}var ke=null,Wt=null,Ot=!1,ms=null,In=!1,Th=Error(r(519));function gs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(Dn(n,t)),Th}function rg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[je]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Nt(Gl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Bo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),rs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Sy(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||gs(t,!0)}function lg(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:ke=ke.return}}function sr(t){if(t!==ke)return!1;if(!Ot)return lg(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||kf(t.type,t.memoizedProps)),a=!a),a&&Wt&&gs(t),lg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Wt=My(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Wt=My(t)}else n===27?(n=Wt,Ns(t.type)?(t=Qf,Qf=null,Wt=t):Wt=n):Wt=ke?jn(t.stateNode.nextSibling):null;return!0}function pa(){Wt=ke=null,Ot=!1}function Sh(){var t=ms;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ms=null),t}function Sl(t){ms===null?ms=[t]:ms.push(t)}var xh=I(null),ya=null,ji=null;function ps(t,n,a){rt(xh,n._currentValue),n._currentValue=a}function zi(t){t._currentValue=xh.current,J(xh)}function Ah(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function wh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Ah(f.return,a,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Ah(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ar(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===jt.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}h=h.return}t!==null&&wh(n,t,a,l),n.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function va(t){ya=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return og(ya,t)}function uu(t,n){return ya===null&&va(t),og(t,n)}function og(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ji===null){if(t===null)throw Error(r(308));ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ji=ji.next=n;return a}var X_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},$_=s.unstable_scheduleCallback,Z_=s.unstable_NormalPriority,be={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rh(){return{controller:new X_,data:new Map,refCount:0}}function xl(t){t.refCount--,t.refCount===0&&$_(Z_,function(){t.controller.abort()})}var Al=null,Ch=0,rr=0,lr=null;function J_(t,n){if(Al===null){var a=Al=[];Ch=0,rr=Mf(),lr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ch++,n.then(ug,ug),n}function ug(){if(--Ch===0&&Al!==null){lr!==null&&(lr.status="fulfilled");var t=Al;Al=null,rr=0,lr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function W_(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var cg=X.S;X.S=function(t,n){Yp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&J_(t,n),cg!==null&&cg(t,n)};var _a=I(null);function Nh(){var t=_a.current;return t!==null?t:Jt.pooledCache}function cu(t,n){n===null?rt(_a,_a.current):rt(_a,n.pool)}function hg(){var t=Nh();return t===null?null:{parent:be._currentValue,pool:t}}var or=Error(r(460)),Dh=Error(r(474)),hu=Error(r(542)),fu={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t}throw ba=n,or}}function Ea(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ba=a,or):a}}var ba=null;function mg(){if(ba===null)throw Error(r(459));var t=ba;return ba=null,t}function gg(t){if(t===or||t===hu)throw Error(r(483))}var ur=null,wl=0;function du(t){var n=wl;return wl+=1,ur===null&&(ur=[]),dg(ur,t,n)}function Rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function mu(t,n){throw n.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function pg(t){function n(z,M){if(t){var B=z.deletions;B===null?(z.deletions=[M],z.flags|=16):B.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=Ii(z,M),z.index=0,z.sibling=null,z}function f(z,M,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<M?(z.flags|=67108866,M):B):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,M,B,$){return M===null||M.tag!==6?(M=vh(B,z.mode,$),M.return=z,M):(M=h(M,B),M.return=z,M)}function D(z,M,B,$){var gt=B.type;return gt===K?Y(z,M,B.props.children,$,B.key):M!==null&&(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&Ea(gt)===M.type)?(M=h(M,B.props),Rl(M,B),M.return=z,M):(M=ru(B.type,B.key,B.props,null,z.mode,$),Rl(M,B),M.return=z,M)}function k(z,M,B,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=_h(B,z.mode,$),M.return=z,M):(M=h(M,B.children||[]),M.return=z,M)}function Y(z,M,B,$,gt){return M===null||M.tag!==7?(M=ga(B,z.mode,$,gt),M.return=z,M):(M=h(M,B),M.return=z,M)}function Z(z,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=vh(""+M,z.mode,B),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return B=ru(M.type,M.key,M.props,null,z.mode,B),Rl(B,M),B.return=z,B;case Q:return M=_h(M,z.mode,B),M.return=z,M;case A:return M=Ea(M),Z(z,M,B)}if(Ne(M)||L(M))return M=ga(M,z.mode,B,null),M.return=z,M;if(typeof M.then=="function")return Z(z,du(M),B);if(M.$$typeof===et)return Z(z,uu(z,M),B);mu(z,M)}return null}function q(z,M,B,$){var gt=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return gt!==null?null:T(z,M,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===gt?D(z,M,B,$):null;case Q:return B.key===gt?k(z,M,B,$):null;case A:return B=Ea(B),q(z,M,B,$)}if(Ne(B)||L(B))return gt!==null?null:Y(z,M,B,$,null);if(typeof B.then=="function")return q(z,M,du(B),$);if(B.$$typeof===et)return q(z,M,uu(z,B),$);mu(z,B)}return null}function G(z,M,B,$,gt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(B)||null,T(M,z,""+$,gt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case j:return z=z.get($.key===null?B:$.key)||null,D(M,z,$,gt);case Q:return z=z.get($.key===null?B:$.key)||null,k(M,z,$,gt);case A:return $=Ea($),G(z,M,B,$,gt)}if(Ne($)||L($))return z=z.get(B)||null,Y(M,z,$,gt,null);if(typeof $.then=="function")return G(z,M,B,du($),gt);if($.$$typeof===et)return G(z,M,B,uu(M,$),gt);mu(M,$)}return null}function ht(z,M,B,$){for(var gt=null,Pt=null,ft=M,Rt=M=0,Vt=null;ft!==null&&Rt<B.length;Rt++){ft.index>Rt?(Vt=ft,ft=null):Vt=ft.sibling;var Bt=q(z,ft,B[Rt],$);if(Bt===null){ft===null&&(ft=Vt);break}t&&ft&&Bt.alternate===null&&n(z,ft),M=f(Bt,M,Rt),Pt===null?gt=Bt:Pt.sibling=Bt,Pt=Bt,ft=Vt}if(Rt===B.length)return a(z,ft),Ot&&Oi(z,Rt),gt;if(ft===null){for(;Rt<B.length;Rt++)ft=Z(z,B[Rt],$),ft!==null&&(M=f(ft,M,Rt),Pt===null?gt=ft:Pt.sibling=ft,Pt=ft);return Ot&&Oi(z,Rt),gt}for(ft=l(ft);Rt<B.length;Rt++)Vt=G(ft,z,Rt,B[Rt],$),Vt!==null&&(t&&Vt.alternate!==null&&ft.delete(Vt.key===null?Rt:Vt.key),M=f(Vt,M,Rt),Pt===null?gt=Vt:Pt.sibling=Vt,Pt=Vt);return t&&ft.forEach(function(Os){return n(z,Os)}),Ot&&Oi(z,Rt),gt}function vt(z,M,B,$){if(B==null)throw Error(r(151));for(var gt=null,Pt=null,ft=M,Rt=M=0,Vt=null,Bt=B.next();ft!==null&&!Bt.done;Rt++,Bt=B.next()){ft.index>Rt?(Vt=ft,ft=null):Vt=ft.sibling;var Os=q(z,ft,Bt.value,$);if(Os===null){ft===null&&(ft=Vt);break}t&&ft&&Os.alternate===null&&n(z,ft),M=f(Os,M,Rt),Pt===null?gt=Os:Pt.sibling=Os,Pt=Os,ft=Vt}if(Bt.done)return a(z,ft),Ot&&Oi(z,Rt),gt;if(ft===null){for(;!Bt.done;Rt++,Bt=B.next())Bt=Z(z,Bt.value,$),Bt!==null&&(M=f(Bt,M,Rt),Pt===null?gt=Bt:Pt.sibling=Bt,Pt=Bt);return Ot&&Oi(z,Rt),gt}for(ft=l(ft);!Bt.done;Rt++,Bt=B.next())Bt=G(ft,z,Rt,Bt.value,$),Bt!==null&&(t&&Bt.alternate!==null&&ft.delete(Bt.key===null?Rt:Bt.key),M=f(Bt,M,Rt),Pt===null?gt=Bt:Pt.sibling=Bt,Pt=Bt);return t&&ft.forEach(function(cE){return n(z,cE)}),Ot&&Oi(z,Rt),gt}function Zt(z,M,B,$){if(typeof B=="object"&&B!==null&&B.type===K&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:t:{for(var gt=B.key;M!==null;){if(M.key===gt){if(gt=B.type,gt===K){if(M.tag===7){a(z,M.sibling),$=h(M,B.props.children),$.return=z,z=$;break t}}else if(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&Ea(gt)===M.type){a(z,M.sibling),$=h(M,B.props),Rl($,B),$.return=z,z=$;break t}a(z,M);break}else n(z,M);M=M.sibling}B.type===K?($=ga(B.props.children,z.mode,$,B.key),$.return=z,z=$):($=ru(B.type,B.key,B.props,null,z.mode,$),Rl($,B),$.return=z,z=$)}return v(z);case Q:t:{for(gt=B.key;M!==null;){if(M.key===gt)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(z,M.sibling),$=h(M,B.children||[]),$.return=z,z=$;break t}else{a(z,M);break}else n(z,M);M=M.sibling}$=_h(B,z.mode,$),$.return=z,z=$}return v(z);case A:return B=Ea(B),Zt(z,M,B,$)}if(Ne(B))return ht(z,M,B,$);if(L(B)){if(gt=L(B),typeof gt!="function")throw Error(r(150));return B=gt.call(B),vt(z,M,B,$)}if(typeof B.then=="function")return Zt(z,M,du(B),$);if(B.$$typeof===et)return Zt(z,M,uu(z,B),$);mu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(z,M.sibling),$=h(M,B),$.return=z,z=$):(a(z,M),$=vh(B,z.mode,$),$.return=z,z=$),v(z)):a(z,M)}return function(z,M,B,$){try{wl=0;var gt=Zt(z,M,B,$);return ur=null,gt}catch(ft){if(ft===or||ft===hu)throw ft;var Pt=mn(29,ft,null,z.mode);return Pt.lanes=$,Pt.return=z,Pt}finally{}}}var Ta=pg(!0),yg=pg(!1),ys=!1;function Vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _s(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=au(t),tg(t,null,a),n}return su(t,l,n,a),au(t)}function Cl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,el(t,a)}}function Ih(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Oh=!1;function Nl(){if(Oh){var t=lr;if(t!==null)throw t}}function Dl(t,n,a,l){Oh=!1;var h=t.updateQueue;ys=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,k=D.next;D.next=null,v===null?f=k:v.next=k,v=D;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=k:T.next=k,Y.lastBaseUpdate=D))}if(f!==null){var Z=h.baseState;v=0,Y=k=D=null,T=f;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Dt&q)===q:(l&q)===q){q!==0&&q===rr&&(Oh=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ht=t,vt=T;q=n;var Zt=a;switch(vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){Z=ht.call(Zt,Z,q);break t}Z=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,q=typeof ht=="function"?ht.call(Zt,Z,q):ht,q==null)break t;Z=S({},Z,q);break t;case 2:ys=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(k=Y=G,D=Z):Y=Y.next=G,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(D=Z),h.baseState=D,h.firstBaseUpdate=k,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),xs|=v,t.lanes=v,t.memoizedState=Z}}function vg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function _g(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vg(a[t],n)}var cr=I(null),gu=I(0);function Eg(t,n){t=Gi,rt(gu,t),rt(cr,n),Gi=t|n.baseLanes}function jh(){rt(gu,Gi),rt(cr,cr.current)}function zh(){Gi=gu.current,J(cr),J(gu)}var gn=I(null),On=null;function Es(t){var n=t.alternate;rt(de,de.current&1),rt(gn,t),On===null&&(n===null||cr.current!==null||n.memoizedState!==null)&&(On=t)}function Lh(t){rt(de,de.current),rt(gn,t),On===null&&(On=t)}function bg(t){t.tag===22?(rt(de,de.current),rt(gn,t),On===null&&(On=t)):bs()}function bs(){rt(de,de.current),rt(gn,gn.current)}function pn(t){J(gn),On===t&&(On=null),J(de)}var de=I(0);function pu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ff(a)||Gf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,At=null,Xt=null,Te=null,yu=!1,hr=!1,Sa=!1,vu=0,Vl=0,fr=null,t2=0;function ue(){throw Error(r(321))}function Uh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!dn(t[a],n[a]))return!1;return!0}function Ph(t,n,a,l,h,f){return Li=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?sp:tf,Sa=!1,f=a(l,h),Sa=!1,hr&&(f=Sg(n,a,l,h)),Tg(t),f}function Tg(t){X.H=Ol;var n=Xt!==null&&Xt.next!==null;if(Li=0,Te=Xt=At=null,yu=!1,Vl=0,fr=null,n)throw Error(r(300));t===null||Se||(t=t.dependencies,t!==null&&ou(t)&&(Se=!0))}function Sg(t,n,a,l){At=t;var h=0;do{if(hr&&(fr=null),Vl=0,hr=!1,25<=h)throw Error(r(301));if(h+=1,Te=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=ap,f=n(a,l)}while(hr);return f}function e2(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Ml(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(At.flags|=1024),n}function Bh(){var t=vu!==0;return vu=0,t}function kh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function qh(t){if(yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}yu=!1}Li=0,Te=Xt=At=null,hr=!1,Vl=vu=0,fr=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?At.memoizedState=Te=t:Te=Te.next=t,Te}function me(){if(Xt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Te===null?At.memoizedState:Te.next;if(n!==null)Te=n,Xt=t;else{if(t===null)throw At.alternate===null?Error(r(467)):Error(r(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?At.memoizedState=Te=t:Te=Te.next=t}return Te}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var n=Vl;return Vl+=1,fr===null&&(fr=[]),t=dg(fr,t,n),n=At,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?sp:tf),t}function Eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===et)return qe(t)}throw Error(r(438,String(t)))}function Hh(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=_u(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Ui(t,n){return typeof n=="function"?n(t):n}function bu(t){var n=me();return Fh(n,Xt,t)}function Fh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,D=null,k=n,Y=!1;do{var Z=k.lane&-536870913;if(Z!==k.lane?(Dt&Z)===Z:(Li&Z)===Z){var q=k.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Z===rr&&(Y=!0);else if((Li&q)===q){k=k.next,q===rr&&(Y=!0);continue}else Z={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},D===null?(T=D=Z,v=f):D=D.next=Z,At.lanes|=q,xs|=q;Z=k.action,Sa&&a(f,Z),f=k.hasEagerState?k.eagerState:a(f,Z)}else q={lane:Z,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},D===null?(T=D=q,v=f):D=D.next=q,At.lanes|=Z,xs|=Z;k=k.next}while(k!==null&&k!==n);if(D===null?v=f:D.next=T,!dn(f,t.memoizedState)&&(Se=!0,Y&&(a=lr,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gh(t){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);dn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function xg(t,n,a){var l=At,h=me(),f=Ot;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!dn((Xt||h).memoizedState,a);if(v&&(h.memoizedState=a,Se=!0),h=h.queue,Kh(Rg.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,dr(9,{destroy:void 0},wg.bind(null,l,h,a,n),null),Jt===null)throw Error(r(349));f||(Li&127)!==0||Ag(l,n,a)}return a}function Ag(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=_u(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function wg(t,n,a,l){n.value=a,n.getSnapshot=l,Cg(n)&&Ng(t)}function Rg(t,n,a){return a(function(){Cg(n)&&Ng(t)})}function Cg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!dn(t,a)}catch{return!0}}function Ng(t){var n=ma(t,2);n!==null&&on(n,t,2)}function Qh(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),Sa){xn(!0);try{a()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function Dg(t,n,a,l){return t.baseState=a,Fh(t,Xt,typeof l=="function"?l:Ui)}function n2(t,n,a,l,h){if(xu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};X.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Vg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Vg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=X.T,v={};X.T=v;try{var T=a(h,l),D=X.S;D!==null&&D(v,T),Mg(t,n,T)}catch(k){Yh(t,n,k)}finally{f!==null&&v.types!==null&&(f.types=v.types),X.T=f}}else try{f=a(h,l),Mg(t,n,f)}catch(k){Yh(t,n,k)}}function Mg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ig(t,n,l)},function(l){return Yh(t,n,l)}):Ig(t,n,a)}function Ig(t,n,a){n.status="fulfilled",n.value=a,Og(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vg(t,a)))}function Yh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Og(n),n=n.next;while(n!==l)}t.action=null}function Og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jg(t,n){return n}function zg(t,n){if(Ot){var a=Jt.formState;if(a!==null){t:{var l=At;if(Ot){if(Wt){e:{for(var h=Wt,f=In;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=jn(h.nextSibling),l=h.data==="F!";break t}}gs(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:n},a.queue=l,a=ep.bind(null,At,l),l.dispatch=a,l=Qh(!1),f=Wh.bind(null,At,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=n2.bind(null,At,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Lg(t){var n=me();return Ug(n,Xt,t)}function Ug(t,n,a){if(n=Fh(t,n,jg)[0],t=bu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ml(n)}catch(v){throw v===or?hu:v}else l=n;n=me();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,dr(9,{destroy:void 0},i2.bind(null,h,a),null)),[l,f,t]}function i2(t,n){t.action=n}function Pg(t){var n=me(),a=Xt;if(a!==null)return Ug(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function dr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=_u(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Bg(){return me().memoizedState}function Tu(t,n,a,l){var h=tn();At.flags|=t,h.memoizedState=dr(1|n,{destroy:void 0},a,l===void 0?null:l)}function Su(t,n,a,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Xt!==null&&l!==null&&Uh(l,Xt.memoizedState.deps)?h.memoizedState=dr(n,f,a,l):(At.flags|=t,h.memoizedState=dr(1|n,f,a,l))}function kg(t,n){Tu(8390656,8,t,n)}function Kh(t,n){Su(2048,8,t,n)}function s2(t){At.flags|=4;var n=At.updateQueue;if(n===null)n=_u(),At.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function qg(t){var n=me().memoizedState;return s2({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Hg(t,n){return Su(4,2,t,n)}function Fg(t,n){return Su(4,4,t,n)}function Gg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Qg(t,n,a){a=a!=null?a.concat([t]):null,Su(4,4,Gg.bind(null,n,t),a)}function Xh(){}function Yg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Uh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Kg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Uh(n,l[1]))return l[0];if(l=t(),Sa){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l}function $h(t,n,a){return a===void 0||(Li&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Xp(),At.lanes|=t,xs|=t,a)}function Xg(t,n,a,l){return dn(a,n)?a:cr.current!==null?(t=$h(t,a,l),dn(t,n)||(Se=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(Dt&261930)===0?(Se=!0,t.memoizedState=a):(t=Xp(),At.lanes|=t,xs|=t,n)}function $g(t,n,a,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var v=X.T,T={};X.T=T,Wh(t,!1,n,a);try{var D=h(),k=X.S;if(k!==null&&k(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=W_(D,l);Il(t,n,Y,_n(t))}else Il(t,n,l,_n(t))}catch(Z){Il(t,n,{then:function(){},status:"rejected",reason:Z},_n())}finally{at.p=f,v!==null&&T.types!==null&&(v.types=T.types),X.T=v}}function a2(){}function Zh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Zg(t).queue;$g(t,h,n,pt,a===null?a2:function(){return Jg(t),a(l)})}function Zg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:pt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jg(t){var n=Zg(t);n.next===null&&(n=t.alternate.memoizedState),Il(t,n.next.queue,{},_n())}function Jh(){return qe($l)}function Wg(){return me().memoizedState}function tp(){return me().memoizedState}function r2(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=vs(a);var l=_s(n,t,a);l!==null&&(on(l,n,a),Cl(l,n,a)),n={cache:Rh()},t.payload=n;return}n=n.return}}function l2(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xu(t)?np(n,a):(a=ph(t,n,a,l),a!==null&&(on(a,t,l),ip(a,n,l)))}function ep(t,n,a){var l=_n();Il(t,n,a,l)}function Il(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(xu(t))np(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return su(t,n,h,0),Jt===null&&iu(),!1}catch{}finally{}if(a=ph(t,n,h,l),a!==null)return on(a,t,l),ip(a,n,l),!0}return!1}function Wh(t,n,a,l){if(l={lane:2,revertLane:Mf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xu(t)){if(n)throw Error(r(479))}else n=ph(t,a,l,2),n!==null&&on(n,t,2)}function xu(t){var n=t.alternate;return t===At||n!==null&&n===At}function np(t,n){hr=yu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ip(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,el(t,a)}}var Ol={readContext:qe,use:Eu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Ol.useEffectEvent=ue;var sp={readContext:qe,use:Eu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:kg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Tu(4194308,4,Gg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Tu(4194308,4,t,n)},useInsertionEffect:function(t,n){Tu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(Sa){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var h=a(n);if(Sa){xn(!0);try{a(n)}finally{xn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=l2.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Qh(t);var n=t.queue,a=ep.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Xh,useDeferredValue:function(t,n){var a=tn();return $h(a,t,n)},useTransition:function(){var t=Qh(!1);return t=$g.bind(null,At,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,h=tn();if(Ot){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Jt===null)throw Error(r(349));(Dt&127)!==0||Ag(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,kg(Rg.bind(null,l,f,t),[t]),l.flags|=2048,dr(9,{destroy:void 0},wg.bind(null,l,f,a,n),null),a},useId:function(){var t=tn(),n=Jt.identifierPrefix;if(Ot){var a=_i,l=vi;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=vu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=t2++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Jh,useFormState:zg,useActionState:zg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Wh.bind(null,At,!0,a),a.dispatch=n,[t,n]},useMemoCache:Hh,useCacheRefresh:function(){return tn().memoizedState=r2.bind(null,At)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},tf={readContext:qe,use:Eu,useCallback:Yg,useContext:qe,useEffect:Kh,useImperativeHandle:Qg,useInsertionEffect:Hg,useLayoutEffect:Fg,useMemo:Kg,useReducer:bu,useRef:Bg,useState:function(){return bu(Ui)},useDebugValue:Xh,useDeferredValue:function(t,n){var a=me();return Xg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=bu(Ui)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:xg,useId:Wg,useHostTransitionStatus:Jh,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var a=me();return Dg(a,Xt,t,n)},useMemoCache:Hh,useCacheRefresh:tp};tf.useEffectEvent=qg;var ap={readContext:qe,use:Eu,useCallback:Yg,useContext:qe,useEffect:Kh,useImperativeHandle:Qg,useInsertionEffect:Hg,useLayoutEffect:Fg,useMemo:Kg,useReducer:Gh,useRef:Bg,useState:function(){return Gh(Ui)},useDebugValue:Xh,useDeferredValue:function(t,n){var a=me();return Xt===null?$h(a,t,n):Xg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Gh(Ui)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:xg,useId:Wg,useHostTransitionStatus:Jh,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,n){var a=me();return Xt!==null?Dg(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Hh,useCacheRefresh:tp};ap.useEffectEvent=qg;function ef(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),h=vs(l);h.payload=n,a!=null&&(h.callback=a),n=_s(t,h,l),n!==null&&(on(n,t,l),Cl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),h=vs(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_s(t,h,l),n!==null&&(on(n,t,l),Cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=vs(a);l.tag=2,n!=null&&(l.callback=n),n=_s(t,l,a),n!==null&&(on(n,t,a),Cl(n,t,a))}};function rp(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!El(a,l)||!El(h,f):!0}function lp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&nf.enqueueReplaceState(n,n.state,null)}function xa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function op(t){nu(t)}function up(t){console.error(t)}function cp(t){nu(t)}function Au(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function hp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(t,n,a){return a=vs(a),a.tag=3,a.payload={element:null},a.callback=function(){Au(t,n)},a}function fp(t){return t=vs(t),t.tag=3,t}function dp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){hp(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){hp(n,a,l),typeof h!="function"&&(As===null?As=new Set([this]):As.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function o2(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ar(n,a,h,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?Lu():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===fu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Nf(t,l,h)),!1;case 22:return a.flags|=65536,l===fu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Nf(t,l,h)),!1}throw Error(r(435,a.tag))}return Nf(t,l,h),Lu(),!1}if(Ot)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Th&&(t=Error(r(422),{cause:l}),Sl(Dn(t,a)))):(l!==Th&&(n=Error(r(423),{cause:l}),Sl(Dn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=sf(t.stateNode,l,h),Ih(t,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:l});if(f=Dn(f,a),ql===null?ql=[f]:ql.push(f),ce!==4&&(ce=2),n===null)return!0;l=Dn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sf(a.stateNode,l,t),Ih(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(As===null||!As.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=fp(h),dp(h,t,a,l),Ih(a,h),!1}a=a.return}while(a!==null);return!1}var af=Error(r(461)),Se=!1;function He(t,n,a,l){n.child=t===null?yg(n,null,a,l):Ta(n,t.child,a,l)}function mp(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return va(n),l=Ph(t,n,a,v,f,h),T=Bh(),t!==null&&!Se?(kh(t,n,h),Pi(t,n,h)):(Ot&&T&&Eh(n),n.flags|=1,He(t,n,l,h),n.child)}function gp(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!yh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,pp(t,n,f,l,h)):(t=ru(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!df(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:El,a(v,l)&&t.ref===n.ref)return Pi(t,n,h)}return n.flags|=1,t=Ii(f,l),t.ref=n.ref,t.return=n,n.child=t}function pp(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(El(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,df(t,h))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Pi(t,n,h)}return rf(t,n,a,l,h)}function yp(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return vp(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(n,f!==null?f.cachePool:null),f!==null?Eg(n,f):jh(),bg(n);else return l=n.lanes=536870912,vp(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(cu(n,f.cachePool),Eg(n,f),bs(),n.memoizedState=null):(t!==null&&cu(n,null),jh(),bs());return He(t,n,h,a),n.child}function jl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vp(t,n,a,l,h){var f=Nh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&cu(n,null),jh(),bg(n),t!==null&&ar(t,n,l,!0),n.childLanes=h,null}function wu(t,n){return n=Cu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function _p(t,n,a){return Ta(n,t.child,null,a),t=wu(n,n.pendingProps),t.flags|=2,pn(n),n.memoizedState=null,t}function u2(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=wu(n,l),n.lanes=536870912,jl(null,t);if(Lh(n),(t=Wt)?(t=Vy(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ds!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=ng(t),a.return=n,n.child=a,ke=n,Wt=null)):t=null,t===null)throw gs(n);return n.lanes=536870912,null}return wu(n,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Lh(n),h)if(n.flags&256)n.flags&=-257,n=_p(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||ar(t,n,a,!1),h=(a&t.childLanes)!==0,Se||h){if(l=Jt,l!==null&&(v=nl(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,ma(t,v),on(l,t,v),af;Lu(),n=_p(t,n,a)}else t=f.treeContext,Wt=jn(v.nextSibling),ke=n,Ot=!0,ms=null,In=!1,t!==null&&ag(n,t),n=wu(n,l),n.flags|=4096;return n}return t=Ii(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ru(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function rf(t,n,a,l,h){return va(n),a=Ph(t,n,a,l,void 0,h),l=Bh(),t!==null&&!Se?(kh(t,n,h),Pi(t,n,h)):(Ot&&l&&Eh(n),n.flags|=1,He(t,n,a,h),n.child)}function Ep(t,n,a,l,h,f){return va(n),n.updateQueue=null,a=Sg(n,l,a,h),Tg(t),l=Bh(),t!==null&&!Se?(kh(t,n,f),Pi(t,n,f)):(Ot&&l&&Eh(n),n.flags|=1,He(t,n,a,f),n.child)}function bp(t,n,a,l,h){if(va(n),n.stateNode===null){var f=er,v=a.contextType;typeof v=="object"&&v!==null&&(f=qe(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Vh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?qe(v):er,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ef(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&nf.enqueueReplaceState(f,f.state,null),Dl(n,l,f,h),Nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=xa(a,T);f.props=D;var k=f.context,Y=a.contextType;v=er,typeof Y=="object"&&Y!==null&&(v=qe(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||k!==v)&&lp(n,f,l,v),ys=!1;var q=n.memoizedState;f.state=q,Dl(n,l,f,h),Nl(),k=n.memoizedState,T||q!==k||ys?(typeof Z=="function"&&(ef(n,a,Z,l),k=n.memoizedState),(D=ys||rp(n,a,D,l,q,k,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=v,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Mh(t,n),v=n.memoizedProps,Y=xa(a,v),f.props=Y,Z=n.pendingProps,q=f.context,k=a.contextType,D=er,typeof k=="object"&&k!==null&&(D=qe(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||q!==D)&&lp(n,f,l,D),ys=!1,q=n.memoizedState,f.state=q,Dl(n,l,f,h),Nl();var G=n.memoizedState;v!==Z||q!==G||ys||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof T=="function"&&(ef(n,a,T,l),G=n.memoizedState),(Y=ys||rp(n,a,Y,l,q,G,D)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=D,l=Y):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ru(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ta(n,t.child,null,h),n.child=Ta(n,null,a,h)):He(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Pi(t,n,h),t}function Tp(t,n,a,l){return pa(),n.flags|=256,He(t,n,a,l),n.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(t){return{baseLanes:t,cachePool:hg()}}function uf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function Sp(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(h?Es(n):bs(),(t=Wt)?(t=Vy(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ds!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},a=ng(t),a.return=n,n.child=a,ke=n,Wt=null)):t=null,t===null)throw gs(n);return Gf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(bs(),h=n.mode,T=Cu({mode:"hidden",children:T},h),l=ga(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=of(a),l.childLanes=uf(t,v,a),n.memoizedState=lf,jl(null,l)):(Es(n),cf(n,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(Es(n),n.flags&=-257,n=hf(t,n,a)):n.memoizedState!==null?(bs(),n.child=t.child,n.flags|=128,n=null):(bs(),T=l.fallback,h=n.mode,l=Cu({mode:"visible",children:l.children},h),T=ga(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Ta(n,t.child,null,a),l=n.child,l.memoizedState=of(a),l.childLanes=uf(t,v,a),n.memoizedState=lf,n=jl(null,l));else if(Es(n),Gf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(r(419)),l.stack="",l.digest=v,Sl({value:l,source:null,stack:null}),n=hf(t,n,a)}else if(Se||ar(t,n,a,!1),v=(a&t.childLanes)!==0,Se||v){if(v=Jt,v!==null&&(l=nl(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ma(t,l),on(v,t,l),af;Ff(T)||Lu(),n=hf(t,n,a)}else Ff(T)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,Wt=jn(T.nextSibling),ke=n,Ot=!0,ms=null,In=!1,t!==null&&ag(n,t),n=cf(n,l.children),n.flags|=4096);return n}return h?(bs(),T=l.fallback,h=n.mode,D=t.child,k=D.sibling,l=Ii(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,k!==null?T=Ii(k,T):(T=ga(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,jl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=of(a):(h=T.cachePool,h!==null?(D=be._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=hg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=uf(t,v,a),n.memoizedState=lf,jl(t.child,l)):(Es(n),a=t.child,t=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function cf(t,n){return n=Cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Cu(t,n){return t=mn(22,t,null,n),t.lanes=0,t}function hf(t,n,a){return Ta(n,t.child,null,a),t=cf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ah(t.return,n,a)}function ff(t,n,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function Ap(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=de.current,T=(v&2)!==0;if(T?(v=v&1|2,n.flags|=128):v&=1,rt(de,v),He(t,n,l,a),l=Ot?Tl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xp(t,a,n);else if(t.tag===19)xp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&pu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ff(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&pu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ff(n,!0,a,null,f,l);break;case"together":ff(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Pi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),xs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ar(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ii(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ii(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function df(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function c2(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),ps(n,be,t.memoizedState.cache),pa();break;case 27:case 5:$s(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Lh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Es(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Sp(t,n,a):(Es(n),t=Pi(t,n,a),t!==null?t.sibling:null);Es(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ar(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Ap(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(de,de.current),l)break;return null;case 22:return n.lanes=0,yp(t,n,a,n.pendingProps);case 24:ps(n,be,t.memoizedState.cache)}return Pi(t,n,a)}function wp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!df(t,a)&&(n.flags&128)===0)return Se=!1,c2(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Ot&&(n.flags&1048576)!==0&&sg(n,Tl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Ea(n.elementType),n.type=t,typeof t=="function")yh(t)?(l=xa(t,l),n.tag=1,n=bp(null,n,t,l,a)):(n.tag=0,n=rf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ot){n.tag=11,n=mp(null,n,t,l,a);break t}else if(h===C){n.tag=14,n=gp(null,n,t,l,a);break t}}throw n=ie(t)||t,Error(r(306,n,""))}}return n;case 0:return rf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=xa(l,n.pendingProps),bp(t,n,l,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Mh(t,n),Dl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,ps(n,be,l),l!==f.cache&&wh(n,[be],a,!0),Nl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Tp(t,n,l,a);break t}else if(l!==h){h=Dn(Error(r(424)),n),Sl(h),n=Tp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=jn(t.firstChild),ke=n,Ot=!0,ms=null,In=!0,a=yg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pa(),l===h){n=Pi(t,n,a);break t}He(t,n,l,a)}n=n.child}return n;case 26:return Ru(t,n),t===null?(a=Ly(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=Fu(wt.current).createElement(a),l[ve]=n,l[je]=t,Fe(l,a,t),_e(l),n.stateNode=l):n.memoizedState=Ly(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $s(n),t===null&&Ot&&(l=n.stateNode=Oy(n.type,n.pendingProps,wt.current),ke=n,In=!0,h=Wt,Ns(n.type)?(Qf=h,Wt=jn(l.firstChild)):Wt=h),He(t,n,n.pendingProps.children,a),Ru(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((h=l=Wt)&&(l=B2(l,n.type,n.pendingProps,In),l!==null?(n.stateNode=l,ke=n,Wt=jn(l.firstChild),In=!1,h=!0):h=!1),h||gs(n)),$s(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,kf(h,f)?l=null:v!==null&&kf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Ph(t,n,e2,null,null,a),$l._currentValue=h),Ru(t,n),He(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=Wt)&&(a=k2(a,n.pendingProps,In),a!==null?(n.stateNode=a,ke=n,Wt=null,t=!0):t=!1),t||gs(n)),null;case 13:return Sp(t,n,a);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ta(n,null,l,a):He(t,n,l,a),n.child;case 11:return mp(t,n,n.type,n.pendingProps,a);case 7:return He(t,n,n.pendingProps,a),n.child;case 8:return He(t,n,n.pendingProps.children,a),n.child;case 12:return He(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ps(n,n.type,l.value),He(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,va(n),h=qe(h),l=l(h),n.flags|=1,He(t,n,l,a),n.child;case 14:return gp(t,n,n.type,n.pendingProps,a);case 15:return pp(t,n,n.type,n.pendingProps,a);case 19:return Ap(t,n,a);case 31:return u2(t,n,a);case 22:return yp(t,n,a,n.pendingProps);case 24:return va(n),l=qe(be),t===null?(h=Nh(),h===null&&(h=Jt,f=Rh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Vh(n),ps(n,be,h)):((t.lanes&a)!==0&&(Mh(t,n),Dl(n,null,null,a),Nl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ps(n,be,l)):(l=f.cache,ps(n,be,l),l!==h.cache&&wh(n,[be],a,!0))),He(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Bi(t){t.flags|=4}function mf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Wp())t.flags|=8192;else throw ba=fu,Dh}else t.flags&=-16777217}function Rp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qy(n))if(Wp())t.flags|=8192;else throw ba=fu,Dh}function Nu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?jo():536870912,t.lanes|=n,yr|=n)}function zl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function h2(t,n,a){var l=n.pendingProps;switch(bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(be),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sr(n)?Bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Bi(n),f!==null?(te(n),Rp(n,f)):(te(n),mf(n,h,null,l,a))):f?f!==t.memoizedState?(Bi(n),te(n),Rp(n,f)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Bi(n),te(n),mf(n,h,t,l,a)),null;case 27:if(za(n),a=wt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}t=ut.current,sr(n)?rg(n):(t=Oy(h,l,a),n.stateNode=t,Bi(n))}return te(n),null;case 5:if(za(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(f=ut.current,sr(n))rg(n);else{var v=Fu(wt.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[ve]=n,f[je]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;t:switch(Fe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Bi(n)}}return te(n),mf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=wt.current,sr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=ke,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Sy(t.nodeValue,a)),t||gs(n,!0)}else t=Fu(t).createTextNode(l),t[ve]=n,n.stateNode=t}return te(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=sr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ve]=n}else pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else a=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=n}else pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Nu(n,n.updateQueue),te(n),null);case 4:return se(),t===null&&zf(n.stateNode.containerInfo),te(n),null;case 10:return zi(n.type),te(n),null;case 19:if(J(de),l=n.memoizedState,l===null)return te(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)zl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=pu(t),f!==null){for(n.flags|=128,zl(l,!1),t=f.updateQueue,n.updateQueue=t,Nu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)eg(a,t),a=a.sibling;return rt(de,de.current&1|2),Ot&&Oi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>Ou&&(n.flags|=128,h=!0,zl(l,!1),n.lanes=4194304)}else{if(!h)if(t=pu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Nu(n,t),zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return te(n),null}else 2*Je()-l.renderingStartTime>Ou&&a!==536870912&&(n.flags|=128,h=!0,zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=de.current,rt(de,h?a&1|2:a&1),Ot&&Oi(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return pn(n),zh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&Nu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&J(_a),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),zi(be),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function f2(t,n){switch(bh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return zi(be),se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return za(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(r(340));pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(de),null;case 4:return se(),null;case 10:return zi(n.type),null;case 22:case 23:return pn(n),zh(),t!==null&&J(_a),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return zi(be),null;case 25:return null;default:return null}}function Cp(t,n){switch(bh(n),n.tag){case 3:zi(be),se();break;case 26:case 27:case 5:za(n);break;case 4:se();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:J(de);break;case 10:zi(n.type);break;case 22:case 23:pn(n),zh(),t!==null&&J(_a);break;case 24:zi(be)}}function Ll(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(n,n.return,T)}}function Ts(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var D=a,k=T;try{k()}catch(Y){Yt(h,D,Y)}}}l=l.next}while(l!==f)}}catch(Y){Yt(n,n.return,Y)}}function Np(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{_g(n,a)}catch(l){Yt(t,t.return,l)}}}function Dp(t,n,a){a.props=xa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Yt(t,n,h)}}function Ei(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(t,n,h)}else a.current=null}function Vp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(t,t.return,h)}}function gf(t,n,a){try{var l=t.stateNode;O2(l,t.type,a,n),l[je]=n}catch(h){Yt(t,t.return,h)}}function Mp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ns(t.type)||t.tag===4}function pf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Ns(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(yf(t,n,a),t=t.sibling;t!==null;)yf(t,n,a),t=t.sibling}function Du(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Du(t,n,a),t=t.sibling;t!==null;)Du(t,n,a),t=t.sibling}function Ip(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,l,a),n[ve]=t,n[je]=a}catch(f){Yt(t,t.return,f)}}var ki=!1,xe=!1,vf=!1,Op=typeof WeakSet=="function"?WeakSet:Set,Le=null;function d2(t,n){if(t=t.containerInfo,Pf=Zu,t=Qm(t),ch(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,D=-1,k=0,Y=0,Z=t,q=null;e:for(;;){for(var G;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==f||l!==0&&Z.nodeType!==3||(D=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(G=Z.firstChild)!==null;)q=Z,Z=G;for(;;){if(Z===t)break e;if(q===a&&++k===h&&(T=v),q===f&&++Y===l&&(D=v),(G=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=G}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bf={focusedElem:t,selectionRange:a},Zu=!1,Le=n;Le!==null;)if(n=Le,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Le=t;else for(;Le!==null;){switch(n=Le,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ht=xa(a.type,h);t=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){Yt(a,a.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Hf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Le=t;break}Le=n.return}}function jp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hi(t,a),l&4&&Ll(5,a);break;case 1:if(Hi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Yt(a,a.return,v)}else{var h=xa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Yt(a,a.return,v)}}l&64&&Np(a),l&512&&Ul(a,a.return);break;case 3:if(Hi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{_g(t,n)}catch(v){Yt(a,a.return,v)}}break;case 27:n===null&&l&4&&Ip(a);case 26:case 5:Hi(t,a),n===null&&l&4&&Vp(a),l&512&&Ul(a,a.return);break;case 12:Hi(t,a);break;case 31:Hi(t,a),l&4&&Up(t,a);break;case 13:Hi(t,a),l&4&&Pp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=T2.bind(null,a),q2(t,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){n=n!==null&&n.memoizedState!==null||xe,h=ki;var f=xe;ki=l,(xe=n)&&!f?Fi(t,a,(a.subtreeFlags&8772)!==0):Hi(t,a),ki=h,xe=f}break;case 30:break;default:Hi(t,a)}}function zp(t){var n=t.alternate;n!==null&&(t.alternate=null,zp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ka(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,sn=!1;function qi(t,n,a){for(a=a.child;a!==null;)Lp(t,n,a),a=a.sibling}function Lp(t,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:xe||Ei(a,n),qi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||Ei(a,n);var l=re,h=sn;Ns(a.type)&&(re=a.stateNode,sn=!1),qi(t,n,a),Yl(a.stateNode),re=l,sn=h;break;case 5:xe||Ei(a,n);case 6:if(l=re,h=sn,re=null,qi(t,n,a),re=l,sn=h,re!==null)if(sn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:re!==null&&(sn?(t=re,Ny(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ar(t)):Ny(re,a.stateNode));break;case 4:l=re,h=sn,re=a.stateNode.containerInfo,sn=!0,qi(t,n,a),re=l,sn=h;break;case 0:case 11:case 14:case 15:Ts(2,a,n),xe||Ts(4,a,n),qi(t,n,a);break;case 1:xe||(Ei(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Dp(a,n,l)),qi(t,n,a);break;case 21:qi(t,n,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,qi(t,n,a),xe=l;break;default:qi(t,n,a)}}function Up(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ar(t)}catch(a){Yt(n,n.return,a)}}}function Pp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ar(t)}catch(a){Yt(n,n.return,a)}}function m2(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Op),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Op),n;default:throw Error(r(435,t.tag))}}function Vu(t,n){var a=m2(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=S2.bind(null,t,l);l.then(h,h)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Ns(T.type)){re=T.stateNode,sn=!1;break t}break;case 5:re=T.stateNode,sn=!1;break t;case 3:case 4:re=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(re===null)throw Error(r(160));Lp(f,v,h),re=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Bp(n,t),n=n.sibling}var Kn=null;function Bp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(Ts(3,t,t.return),Ll(3,t),Ts(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(xe||a===null||Ei(a,a.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(an(n,t),rn(t),l&512&&(xe||a===null||Ei(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,l,a),f[ve]=t,_e(f),l=f;break t;case"link":var v=By("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),Fe(f,l,a),h.head.appendChild(f);break;case"meta":if(v=By("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(l),Fe(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[ve]=t,_e(f),l=f}t.stateNode=l}else ky(h,t.type,t.stateNode);else t.stateNode=Py(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ky(h,t.type,t.stateNode):Py(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(xe||a===null||Ei(a,a.return)),a!==null&&l&4&&gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(xe||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{nn(h,"")}catch(ht){Yt(t,t.return,ht)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(vf=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ht){Yt(t,t.return,ht)}}break;case 3:if(Yu=null,h=Kn,Kn=Gu(n.containerInfo),an(n,t),Kn=h,rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ar(n.containerInfo)}catch(ht){Yt(t,t.return,ht)}vf&&(vf=!1,kp(t));break;case 4:l=Kn,Kn=Gu(t.stateNode.containerInfo),an(n,t),rn(t),Kn=l;break;case 12:an(n,t),rn(t);break;case 31:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Iu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,k=ki,Y=xe;if(ki=k||h,xe=Y||D,an(n,t),xe=Y,ki=k,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||ki||xe||Aa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var Z=D.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ht){Yt(D,D.return,ht)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ht){Yt(D,D.return,ht)}}}else if(n.tag===18){if(a===null){D=n;try{var G=D.stateNode;h?Dy(G,!0):Dy(D.stateNode,!1)}catch(ht){Yt(D,D.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vu(t,a))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Mp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=pf(t);Du(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(nn(v,""),a.flags&=-33);var T=pf(t);Du(t,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,k=pf(t);yf(t,k,D);break;default:throw Error(r(161))}}catch(Y){Yt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function kp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;kp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Hi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jp(t,n.alternate,n),n=n.sibling}function Aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ts(4,n,n.return),Aa(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Dp(n,n.return,a),Aa(n);break;case 27:Yl(n.stateNode);case 26:case 5:Ei(n,n.return),Aa(n);break;case 22:n.memoizedState===null&&Aa(n);break;case 30:Aa(n);break;default:Aa(n)}t=t.sibling}}function Fi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,a),Ll(4,f);break;case 1:if(Fi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Yt(l,l.return,k)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)vg(D[h],T)}catch(k){Yt(l,l.return,k)}}a&&v&64&&Np(f),Ul(f,f.return);break;case 27:Ip(f);case 26:case 5:Fi(h,f,a),a&&l===null&&v&4&&Vp(f),Ul(f,f.return);break;case 12:Fi(h,f,a);break;case 31:Fi(h,f,a),a&&v&4&&Up(h,f);break;case 13:Fi(h,f,a),a&&v&4&&Pp(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,a),Ul(f,f.return);break;case 30:break;default:Fi(h,f,a)}n=n.sibling}}function _f(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&xl(a))}function Ef(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&xl(t))}function Xn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qp(t,n,a,l),n=n.sibling}function qp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,a,l),h&2048&&Ll(9,n);break;case 1:Xn(t,n,a,l);break;case 3:Xn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&xl(t)));break;case 12:if(h&2048){Xn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Yt(n,n.return,D)}}else Xn(t,n,a,l);break;case 31:Xn(t,n,a,l);break;case 13:Xn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,a,l):Pl(t,n):f._visibility&2?Xn(t,n,a,l):(f._visibility|=2,mr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&_f(v,n);break;case 24:Xn(t,n,a,l),h&2048&&Ef(n.alternate,n);break;default:Xn(t,n,a,l)}}function mr(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,v=n,T=a,D=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:mr(f,v,T,D,h),Ll(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?mr(f,v,T,D,h):Pl(f,v):(Y._visibility|=2,mr(f,v,T,D,h)),h&&k&2048&&_f(v.alternate,v);break;case 24:mr(f,v,T,D,h),h&&k&2048&&Ef(v.alternate,v);break;default:mr(f,v,T,D,h)}n=n.sibling}}function Pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Pl(a,l),h&2048&&_f(l.alternate,l);break;case 24:Pl(a,l),h&2048&&Ef(l.alternate,l);break;default:Pl(a,l)}n=n.sibling}}var Bl=8192;function gr(t,n,a){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)Hp(t,n,a),t=t.sibling}function Hp(t,n,a){switch(t.tag){case 26:gr(t,n,a),t.flags&Bl&&t.memoizedState!==null&&tE(a,Kn,t.memoizedState,t.memoizedProps);break;case 5:gr(t,n,a);break;case 3:case 4:var l=Kn;Kn=Gu(t.stateNode.containerInfo),gr(t,n,a),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Bl,Bl=16777216,gr(t,n,a),Bl=l):gr(t,n,a));break;default:gr(t,n,a)}}function Fp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,Qp(l,t)}Fp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gp(t),t=t.sibling}function Gp(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&Ts(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Mu(t)):kl(t);break;default:kl(t)}}function Mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,Qp(l,t)}Fp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ts(8,n,n.return),Mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Mu(n));break;default:Mu(n)}t=t.sibling}}function Qp(t,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Ts(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Le=l;else t:for(a=t;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(zp(l),l===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var g2={getCacheForType:function(t){var n=qe(be),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(be).controller.signal}},p2=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,Ct=null,Dt=0,Qt=0,yn=null,Ss=!1,pr=!1,bf=!1,Gi=0,ce=0,xs=0,wa=0,Tf=0,vn=0,yr=0,ql=null,ln=null,Sf=!1,Iu=0,Yp=0,Ou=1/0,ju=null,As=null,Me=0,ws=null,vr=null,Qi=0,xf=0,Af=null,Kp=null,Hl=0,wf=null;function _n(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:X.T!==null?Mf():zo()}function Xp(){if(vn===0)if((Dt&536870912)===0||Ot){var t=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function on(t,n,a){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(_r(t,0),Rs(t,Dt,vn,!1)),ta(t,a),((qt&2)===0||t!==Jt)&&(t===Jt&&((qt&2)===0&&(wa|=a),ce===4&&Rs(t,Dt,vn,!1)),bi(t))}function $p(t,n,a){if((qt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?_2(t,n):Cf(t,n,!0),f=l;do{if(h===0){pr&&!l&&Rs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!y2(a)){h=Cf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=ql;var D=T.current.memoizedState.isDehydrated;if(D&&(_r(T,v).flags|=256),v=Cf(T,v,!1),v!==2){if(bf&&!D){T.errorRecoveryDisabledLanes|=f,wa|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){_r(t,0),Rs(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Rs(l,n,vn,!Ss);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Iu+300-Je(),10<h)){if(Rs(l,n,vn,!Ss),ii(l,0,!0)!==0)break t;Qi=n,l.timeoutHandle=Ry(Zp.bind(null,l,a,ln,ju,Sf,n,vn,wa,yr,Ss,f,"Throttled",-0,0),h);break t}Zp(l,a,ln,ju,Sf,n,vn,wa,yr,Ss,f,null,-0,0)}}break}while(!0);bi(t)}function Zp(t,n,a,l,h,f,v,T,D,k,Y,Z,q,G){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Hp(n,f,Z);var ht=(f&62914560)===f?Iu-Je():(f&4194048)===f?Yp-Je():0;if(ht=eE(Z,ht),ht!==null){Qi=f,t.cancelPendingCommit=ht(ay.bind(null,t,n,f,a,l,h,v,T,D,Y,Z,null,q,G)),Rs(t,f,v,!k);return}}ay(t,n,f,a,l,h,v,T,D)}function y2(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rs(t,n,a,l){n&=~Tf,n&=~wa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-he(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&ea(t,a,n)}function zu(){return(qt&6)===0?(Fl(0),!1):!0}function Rf(){if(Ct!==null){if(Qt===0)var t=Ct.return;else t=Ct,ji=ya=null,qh(t),ur=null,wl=0,t=Ct;for(;t!==null;)Cp(t.alternate,t),t=t.return;Ct=null}}function _r(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,L2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qi=0,Rf(),Jt=t,Ct=a=Ii(t.current,null),Dt=n,Qt=0,yn=null,Ss=!1,pr=Pn(t,n),bf=!1,yr=vn=Tf=wa=xs=ce=0,ln=ql=null,Sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-he(l),f=1<<h;n|=t[h],l&=~f}return Gi=n,iu(),a}function Jp(t,n){At=null,X.H=Ol,n===or||n===hu?(n=mg(),Qt=3):n===Dh?(n=mg(),Qt=4):Qt=n===af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Ct===null&&(ce=1,Au(t,Dn(n,t.current)))}function Wp(){var t=gn.current;return t===null?!0:(Dt&4194048)===Dt?On===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===On:!1}function ty(){var t=X.H;return X.H=Ol,t===null?Ol:t}function ey(){var t=X.A;return X.A=g2,t}function Lu(){ce=4,Ss||(Dt&4194048)!==Dt&&gn.current!==null||(pr=!0),(xs&134217727)===0&&(wa&134217727)===0||Jt===null||Rs(Jt,Dt,vn,!1)}function Cf(t,n,a){var l=qt;qt|=2;var h=ty(),f=ey();(Jt!==t||Dt!==n)&&(ju=null,_r(t,n)),n=!1;var v=ce;t:do try{if(Qt!==0&&Ct!==null){var T=Ct,D=yn;switch(Qt){case 8:Rf(),v=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var k=Qt;if(Qt=0,yn=null,Er(t,T,D,k),a&&pr){v=0;break t}break;default:k=Qt,Qt=0,yn=null,Er(t,T,D,k)}}v2(),v=ce;break}catch(Y){Jp(t,Y)}while(!0);return n&&t.shellSuspendCounter++,ji=ya=null,qt=l,X.H=h,X.A=f,Ct===null&&(Jt=null,Dt=0,iu()),v}function v2(){for(;Ct!==null;)ny(Ct)}function _2(t,n){var a=qt;qt|=2;var l=ty(),h=ey();Jt!==t||Dt!==n?(ju=null,Ou=Je()+500,_r(t,n)):pr=Pn(t,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var f=yn;e:switch(Qt){case 1:Qt=0,yn=null,Er(t,n,f,1);break;case 2:case 9:if(fg(f)){Qt=0,yn=null,iy(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),bi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:fg(f)?(Qt=0,yn=null,iy(n)):(Qt=0,yn=null,Er(t,n,f,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var T=Ct;if(v?qy(v):T.stateNode.complete){Qt=0,yn=null;var D=T.sibling;if(D!==null)Ct=D;else{var k=T.return;k!==null?(Ct=k,Uu(k)):Ct=null}break e}}Qt=0,yn=null,Er(t,n,f,5);break;case 6:Qt=0,yn=null,Er(t,n,f,6);break;case 8:Rf(),ce=6;break t;default:throw Error(r(462))}}E2();break}catch(Y){Jp(t,Y)}while(!0);return ji=ya=null,X.H=l,X.A=h,qt=a,Ct!==null?0:(Jt=null,Dt=0,iu(),ce)}function E2(){for(;Ct!==null&&!ih();)ny(Ct)}function ny(t){var n=wp(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,n===null?Uu(t):Ct=n}function iy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ep(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Ep(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:qh(n);default:Cp(a,n),n=Ct=eg(n,Gi),n=wp(a,n,Gi)}t.memoizedProps=t.pendingProps,n===null?Uu(t):Ct=n}function Er(t,n,a,l){ji=ya=null,qh(n),ur=null,wl=0;var h=n.return;try{if(o2(t,h,n,a,Dt)){ce=1,Au(t,Dn(a,t.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ce=1,Au(t,Dn(a,t.current)),Ct=null;return}n.flags&32768?(Ot||l===1?t=!0:pr||(Dt&536870912)!==0?t=!1:(Ss=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(n,t)):Uu(n)}function Uu(t){var n=t;do{if((n.flags&32768)!==0){sy(n,Ss);return}t=n.return;var a=h2(n.alternate,n,Gi);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);ce===0&&(ce=5)}function sy(t,n){do{var a=f2(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);ce=6,Ct=null}function ay(t,n,a,l,h,f,v,T,D){t.cancelPendingCommit=null;do Pu();while(Me!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=gh,rh(t,a,f,v,T,D),t===Jt&&(Ct=Jt=null,Dt=0),vr=n,ws=t,Qi=a,xf=f,Af=h,Kp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,x2(is,function(){return cy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=at.p,at.p=2,v=qt,qt|=4;try{d2(t,n,a)}finally{qt=v,at.p=h,X.T=l}}Me=1,ry(),ly(),oy()}}function ry(){if(Me===1){Me=0;var t=ws,n=vr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=at.p;at.p=2;var h=qt;qt|=4;try{Bp(n,t);var f=Bf,v=Qm(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Gm(T.ownerDocument.documentElement,T)){if(D!==null&&ch(T)){var k=D.start,Y=D.end;if(Y===void 0&&(Y=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var G=q.getSelection(),ht=T.textContent.length,vt=Math.min(D.start,ht),Zt=D.end===void 0?vt:Math.min(D.end,ht);!G.extend&&vt>Zt&&(v=Zt,Zt=vt,vt=v);var z=Fm(T,vt),M=Fm(T,Zt);if(z&&M&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var B=Z.createRange();B.setStart(z.node,z.offset),G.removeAllRanges(),vt>Zt?(G.addRange(B),G.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),G.addRange(B))}}}}for(Z=[],G=T;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var $=Z[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Zu=!!Pf,Bf=Pf=null}finally{qt=h,at.p=l,X.T=a}}t.current=n,Me=2}}function ly(){if(Me===2){Me=0;var t=ws,n=vr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=at.p;at.p=2;var h=qt;qt|=4;try{jp(t,n.alternate,n)}finally{qt=h,at.p=l,X.T=a}}Me=3}}function oy(){if(Me===4||Me===3){Me=0,No();var t=ws,n=vr,a=Qi,l=Kp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,vr=ws=null,uy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(As=null),Ni(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=at.p,at.p=2,X.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{X.T=n,at.p=h}}(Qi&3)!==0&&Pu(),bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===wf?Hl++:(Hl=0,wf=t):Hl=0,Fl(0)}}function uy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,xl(n)))}function Pu(){return ry(),ly(),oy(),cy()}function cy(){if(Me!==5)return!1;var t=ws,n=xf;xf=0;var a=Ni(Qi),l=X.T,h=at.p;try{at.p=32>a?32:a,X.T=null,a=Af,Af=null;var f=ws,v=Qi;if(Me=0,vr=ws=null,Qi=0,(qt&6)!==0)throw Error(r(331));var T=qt;if(qt|=4,Gp(f.current),qp(f,f.current,v,a),qt=T,Fl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{at.p=h,X.T=l,uy(t,n)}}function hy(t,n,a){n=Dn(a,n),n=sf(t.stateNode,n,2),t=_s(t,n,2),t!==null&&(ta(t,2),bi(t))}function Yt(t,n,a){if(t.tag===3)hy(t,t,a);else for(;n!==null;){if(n.tag===3){hy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(As===null||!As.has(l))){t=Dn(a,t),a=fp(2),l=_s(n,a,2),l!==null&&(dp(a,l,n,t),ta(l,2),bi(l));break}}n=n.return}}function Nf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new p2;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(bf=!0,h.add(a),t=b2.bind(null,t,n,a),n.then(t,t))}function b2(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Dt&a)===a&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>Je()-Iu?(qt&2)===0&&_r(t,0):Tf|=a,yr===Dt&&(yr=0)),bi(t)}function fy(t,n){n===0&&(n=jo()),t=ma(t,n),t!==null&&(ta(t,n),bi(t))}function T2(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),fy(t,a)}function S2(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),fy(t,a)}function x2(t,n){return Ve(t,n)}var Bu=null,br=null,Df=!1,ku=!1,Vf=!1,Cs=0;function bi(t){t!==br&&t.next===null&&(br===null?Bu=br=t:br=br.next=t),ku=!0,Df||(Df=!0,w2())}function Fl(t,n){if(!Vf&&ku){Vf=!0;do for(var a=!1,l=Bu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,py(l,f))}else f=Dt,f=ii(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(a=!0,py(l,f));l=l.next}while(a);Vf=!1}}function A2(){dy()}function dy(){ku=Df=!1;var t=0;Cs!==0&&z2()&&(t=Cs);for(var n=Je(),a=null,l=Bu;l!==null;){var h=l.next,f=my(l,n);f===0?(l.next=null,a===null?Bu=h:a.next=h,h===null&&(br=a)):(a=l,(t!==0||(f&3)!==0)&&(ku=!0)),l=h}Me!==0&&Me!==5||Fl(t),Cs!==0&&(Cs=0)}function my(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-he(f),T=1<<v,D=h[v];D===-1?((T&a)===0||(T&l)!==0)&&(h[v]=ah(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,a=Dt,a=ii(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ns(l),Ni(a)){case 2:case 8:a=tl;break;case 32:a=is;break;case 268435456:a=Do;break;default:a=is}return l=gy.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ns(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pu()&&t.callbackNode!==a)return null;var l=Dt;return l=ii(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($p(t,l,n),my(t,Je()),t.callbackNode!=null&&t.callbackNode===a?gy.bind(null,t):null)}function py(t,n){if(Pu())return null;$p(t,n,!0)}function w2(){U2(function(){(qt&6)!==0?Ve(Wr,A2):dy()})}function Mf(){if(Cs===0){var t=rr;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Cs=t}return Cs}function yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ga(""+t)}function vy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function R2(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=yy((h[je]||null).action),v=l.submitter;v&&(n=(n=v[je]||null)?yy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new mi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var D=v?vy(h,v):new FormData(h);Zh(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=v?vy(h,v):new FormData(h),Zh(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var If=0;If<mh.length;If++){var Of=mh[If],C2=Of.toLowerCase(),N2=Of[0].toUpperCase()+Of.slice(1);Yn(C2,"on"+N2)}Yn(Xm,"onAnimationEnd"),Yn($m,"onAnimationIteration"),Yn(Zm,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(G_,"onTransitionRun"),Yn(Q_,"onTransitionStart"),Yn(Y_,"onTransitionCancel"),Yn(Jm,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function _y(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,k=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=k;try{f(h)}catch(Y){nu(Y)}h.currentTarget=null,f=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,k=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=k;try{f(h)}catch(Y){nu(Y)}h.currentTarget=null,f=D}}}}function Nt(t,n){var a=n[Ba];a===void 0&&(a=n[Ba]=new Set);var l=t+"__bubble";a.has(l)||(Ey(n,t,2,!1),a.add(l))}function jf(t,n,a){var l=0;n&&(l|=4),Ey(a,t,l,n)}var qu="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[qu]){t[qu]=!0,il.forEach(function(a){a!=="selectionchange"&&(D2.has(a)||jf(a,!1,t),jf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[qu]||(n[qu]=!0,jf("selectionchange",!1,n))}}function Ey(t,n,a,l){switch(Xy(n)){case 2:var h=sE;break;case 8:h=aE;break;default:h=Zf}a=h.bind(null,n,a,t),h=void 0,!ra||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Lf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=li(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=f=v;continue t}T=T.parentNode}}l=l.return}us(function(){var k=f,Y=wn(a),Z=[];t:{var q=Wm.get(t);if(q!==void 0){var G=mi,ht=t;switch(t){case"keypress":if(oa(a)===0)break t;case"keydown":case"keyup":G=Wo;break;case"focusin":ht="focus",G=ca;break;case"focusout":ht="blur",G=ca;break;case"beforeblur":case"afterblur":G=ca;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Xm:case $m:case Zm:G=Qo;break;case Jm:G=x;break;case"scroll":case"scrollend":G=gl;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Mi;break;case"toggle":case"beforetoggle":G=xt}var vt=(n&4)!==0,Zt=!vt&&(t==="scroll"||t==="scrollend"),z=vt?q!==null?q+"Capture":null:q;vt=[];for(var M=k,B;M!==null;){var $=M;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||z===null||($=Hn(M,z),$!=null&&vt.push(Ql(M,$,B))),Zt)break;M=M.return}0<vt.length&&(q=new G(q,ht,null,a,Y),Z.push({event:q,listeners:vt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==fl&&(ht=a.relatedTarget||a.fromElement)&&(li(ht)||ht[ai]))break t;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ht=a.relatedTarget||a.toElement,G=k,ht=ht?li(ht):null,ht!==null&&(Zt=c(ht),vt=ht.tag,ht!==Zt||vt!==5&&vt!==27&&vt!==6)&&(ht=null)):(G=null,ht=k),G!==ht)){if(vt=pl,$="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(vt=Mi,$="onPointerLeave",z="onPointerEnter",M="pointer"),Zt=G==null?q:hn(G),B=ht==null?q:hn(ht),q=new vt($,M+"leave",G,a,Y),q.target=Zt,q.relatedTarget=B,$=null,li(Y)===k&&(vt=new vt(z,M+"enter",ht,a,Y),vt.target=B,vt.relatedTarget=Zt,$=vt),Zt=$,G&&ht)e:{for(vt=V2,z=G,M=ht,B=0,$=z;$;$=vt($))B++;$=0;for(var gt=M;gt;gt=vt(gt))$++;for(;0<B-$;)z=vt(z),B--;for(;0<$-B;)M=vt(M),$--;for(;B--;){if(z===M||M!==null&&z===M.alternate){vt=z;break e}z=vt(z),M=vt(M)}vt=null}else vt=null;G!==null&&by(Z,q,G,vt,!1),ht!==null&&Zt!==null&&by(Z,Zt,ht,vt,!0)}}t:{if(q=k?hn(k):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Pt=Um;else if(zm(q))if(Pm)Pt=q_;else{Pt=B_;var ft=P_}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?k&&Fa(k.elementType)&&(Pt=Um):Pt=k_;if(Pt&&(Pt=Pt(t,k))){Lm(Z,Pt,a,Y);break t}ft&&ft(t,q,k),t==="focusout"&&k&&q.type==="number"&&k.memoizedProps.value!=null&&ul(q,"number",q.value)}switch(ft=k?hn(k):window,t){case"focusin":(zm(ft)||ft.contentEditable==="true")&&(Ja=ft,hh=k,bl=null);break;case"focusout":bl=hh=Ja=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,Ym(Z,a,Y);break;case"selectionchange":if(F_)break;case"keydown":case"keyup":Ym(Z,a,Y)}var Rt;if(kt)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Za?ha(t,a)&&(Vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(yi&&a.locale!=="ko"&&(Za||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Za&&(Rt=ml()):(di=Y,dl="value"in di?di.value:di.textContent,Za=!0)),ft=Hu(k,Vt),0<ft.length&&(Vt=new pi(Vt,t,null,a,Y),Z.push({event:Vt,listeners:ft}),Rt?Vt.data=Rt:(Rt=$a(a),Rt!==null&&(Vt.data=Rt)))),(Rt=Cn?j_(t,a):z_(t,a))&&(Vt=Hu(k,"onBeforeInput"),0<Vt.length&&(ft=new pi("onBeforeInput","beforeinput",null,a,Y),Z.push({event:ft,listeners:Vt}),ft.data=Rt)),R2(Z,t,k,a,Y)}_y(Z,n)})}function Ql(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Hu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(t,a),h!=null&&l.unshift(Ql(t,h,f)),h=Hn(t,n),h!=null&&l.push(Ql(t,h,f))),t.tag===3)return l;t=t.return}return[]}function V2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function by(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,k=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||k===null||(D=k,h?(k=Hn(a,f),k!=null&&v.unshift(Ql(a,k,D))):h||(k=Hn(a,f),k!=null&&v.push(Ql(a,k,D)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var M2=/\r\n?/g,I2=/\u0000|\uFFFD/g;function Ty(t){return(typeof t=="string"?t:""+t).replace(M2,`
`).replace(I2,"")}function Sy(t,n){return n=Ty(n),Ty(t)===n}function $t(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":fn(t,"class",l);break;case"tabIndex":fn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(t,a,l);break;case"style":hl(t,l,f);break;case"data":if(n!=="object"){fn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(t,n,"name",h.name,h,null),$t(t,n,"formEncType",h.formEncType,h,null),$t(t,n,"formMethod",h.formMethod,h,null),$t(t,n,"formTarget",h.formTarget,h,null)):($t(t,n,"encType",h.encType,h,null),$t(t,n,"method",h.method,h,null),$t(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),qa(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ho.get(a)||a,qa(t,a,l))}}function Uf(t,n,a,l,h,f){switch(a){case"style":hl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[je]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):qa(t,a,l)}}}function Fe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,f,v,a,null)}}h&&$t(t,n,"srcSet",a.srcSet,a,null),l&&$t(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var T=f=v=h=null,D=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":D=Y;break;case"defaultChecked":k=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:$t(t,n,l,Y,a,null)}}Bo(t,f,T,D,k,v,h,!1);return;case"select":Nt("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$t(t,n,h,T,a,null)}n=f,a=v,t.multiple=!!l,n!=null?as(t,!!l,n,!1):a!=null&&as(t,!!l,a,!0);return;case"textarea":Nt("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:$t(t,n,v,T,a,null)}rs(t,l,h,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,D,l,a,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Nt(Gl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,k,l,a,null)}return;default:if(Fa(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Uf(t,n,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$t(t,n,T,l,a,null))}function O2(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,D=null,k=null,Y=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(G)||$t(t,n,G,null,l,Z)}}for(var q in l){var G=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(G!=null||Z!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":k=G;break;case"defaultChecked":Y=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==Z&&$t(t,n,q,G,l,Z)}}Ha(t,v,T,D,k,Y,f,h);return;case"select":G=v=T=q=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=a[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==D&&$t(t,n,h,f,l,D)}n=T,a=v,l=G,q!=null?as(t,!!a,q,!1):!!l!=!!a&&(n!=null?as(t,!!a,n,!0):as(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&$t(t,n,v,h,l,f)}ko(t,q,G);return;case"option":for(var ht in a)if(q=a[ht],a.hasOwnProperty(ht)&&q!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":t.selected=!1;break;default:$t(t,n,ht,null,l,q)}for(D in l)if(q=l[D],G=a[D],l.hasOwnProperty(D)&&q!==G&&(q!=null||G!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(t,n,D,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)q=a[vt],a.hasOwnProperty(vt)&&q!=null&&!l.hasOwnProperty(vt)&&$t(t,n,vt,null,l,q);for(k in l)if(q=l[k],G=a[k],l.hasOwnProperty(k)&&q!==G&&(q!=null||G!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:$t(t,n,k,q,l,G)}return;default:if(Fa(n)){for(var Zt in a)q=a[Zt],a.hasOwnProperty(Zt)&&q!==void 0&&!l.hasOwnProperty(Zt)&&Uf(t,n,Zt,void 0,l,q);for(Y in l)q=l[Y],G=a[Y],!l.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||Uf(t,n,Y,q,l,G);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&$t(t,n,z,null,l,q);for(Z in l)q=l[Z],G=a[Z],!l.hasOwnProperty(Z)||q===G||q==null&&G==null||$t(t,n,Z,q,l,G)}function xy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,T=h.duration;if(f&&T&&xy(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],k=D.startTime;if(k>T)break;var Y=D.transferSize,Z=D.initiatorType;Y&&xy(Z)&&(D=D.responseEnd,v+=Y*(D<T?1:(T-k)/(D-k)))}if(--l,n+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Pf=null,Bf=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function Ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function kf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qf=null;function z2(){var t=window.event;return t&&t.type==="popstate"?t===qf?!1:(qf=t,!0):(qf=null,!1)}var Ry=typeof setTimeout=="function"?setTimeout:void 0,L2=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(P2)}:Ry;function P2(t){setTimeout(function(){throw t})}function Ns(t){return t==="head"}function Ny(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ar(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Yl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Yl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Yl(t.ownerDocument.body);a=h}while(a);Ar(n)}function Dy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Hf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hf(a),ka(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function B2(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function k2(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function Vy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function Ff(t){return t.data==="$?"||t.data==="$~"}function Gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function q2(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Qf=null;function My(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Oy(t,n,a){switch(n=Fu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ka(t)}var zn=new Map,jy=new Set;function Gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=at.d;at.d={f:H2,r:F2,D:G2,C:Q2,L:Y2,m:K2,X:$2,S:X2,M:Z2};function H2(){var t=Yi.f(),n=zu();return t||n}function F2(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?Jg(n):Yi.r(t)}var Tr=typeof document>"u"?null:document;function zy(t,n,a){var l=Tr;if(l&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),jy.has(h)||(jy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Fe(n,"link",t),_e(n),l.head.appendChild(n)))}}function G2(t){Yi.D(t),zy("dns-prefetch",t,null)}function Q2(t,n){Yi.C(t,n),zy("preconnect",t,n)}function Y2(t,n,a){Yi.L(t,n,a);var l=Tr;if(l&&t&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+en(a.imageSizes)+'"]')):h+='[href="'+en(t)+'"]';var f=h;switch(n){case"style":f=Sr(t);break;case"script":f=xr(t)}zn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),zn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Kl(f))||n==="script"&&l.querySelector(Xl(f))||(n=l.createElement("link"),Fe(n,"link",t),_e(n),l.head.appendChild(n)))}}function K2(t,n){Yi.m(t,n);var a=Tr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xr(t)}if(!zn.has(f)&&(t=S({rel:"modulepreload",href:t},n),zn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(f)))return}l=a.createElement("link"),Fe(l,"link",t),_e(l),a.head.appendChild(l)}}}function X2(t,n,a){Yi.S(t,n,a);var l=Tr;if(l&&t){var h=oi(l).hoistableStyles,f=Sr(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Kl(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=zn.get(f))&&Yf(t,a);var D=v=l.createElement("link");_e(D),Fe(D,"link",t),D._p=new Promise(function(k,Y){D.onload=k,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function $2(t,n){Yi.X(t,n);var a=Tr;if(a&&t){var l=oi(a).hoistableScripts,h=xr(t),f=l.get(h);f||(f=a.querySelector(Xl(h)),f||(t=S({src:t,async:!0},n),(n=zn.get(h))&&Kf(t,n),f=a.createElement("script"),_e(f),Fe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Z2(t,n){Yi.M(t,n);var a=Tr;if(a&&t){var l=oi(a).hoistableScripts,h=xr(t),f=l.get(h);f||(f=a.querySelector(Xl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=zn.get(h))&&Kf(t,n),f=a.createElement("script"),_e(f),Fe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ly(t,n,a,l){var h=(h=wt.current)?Gu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Sr(a.href),a=oi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Sr(a.href);var f=oi(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Kl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),f||J2(h,t,a,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xr(a),a=oi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Sr(t){return'href="'+en(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function Uy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function J2(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Fe(n,"link",a),_e(n),t.head.appendChild(n))}function xr(t){return'[src="'+en(t)+'"]'}function Xl(t){return"script[async]"+t}function Py(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(a.href)+'"]');if(l)return n.instance=l,_e(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),Fe(l,"style",h),Qu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Sr(a.href);var f=t.querySelector(Kl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=Uy(a),(h=zn.get(h))&&Yf(l,h),f=(t.ownerDocument||t).createElement("link"),_e(f);var v=f;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Fe(f,"link",l),n.state.loading|=4,Qu(f,a.precedence,t),n.instance=f;case"script":return f=xr(a.src),(h=t.querySelector(Xl(f)))?(n.instance=h,_e(h),h):(l=a,(h=zn.get(f))&&(l=S({},a),Kf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),_e(h),Fe(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Qu(l,a.precedence,t));return n.instance}function Qu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Yu=null;function By(t,n,a){if(Yu===null){var l=new Map,h=Yu=new Map;h.set(a,l)}else h=Yu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ri]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function ky(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function W2(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function tE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Sr(l.href),f=n.querySelector(Kl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ku.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,_e(f);return}f=n.ownerDocument||n,l=Uy(l),(h=zn.get(h))&&Yf(l,h),f=f.createElement("link"),_e(f);var v=f;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Fe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ku.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Xf=0;function eE(t,n){return t.stylesheets&&t.count===0&&$u(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Xf===0&&(Xf=62500*j2());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Xf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function $u(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,n.forEach(nE,t),Xu=null,Ku.call(t))}function nE(t,n){if(!(n.state.loading&4)){var a=Xu.get(t);if(a)var l=a.get(null);else{a=new Map,Xu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var $l={$$typeof:et,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function iE(t,n,a,l,h,f,v,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Hy(t,n,a,l,h,f,v,T,D,k,Y,Z){return t=new iE(t,n,a,v,D,k,Y,Z,T),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),t.current=f,f.stateNode=t,n=Rh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Vh(f),t}function Fy(t){return t?(t=er,t):er}function Gy(t,n,a,l,h,f){h=Fy(h),l.context===null?l.context=h:l.pendingContext=h,l=vs(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=_s(t,l,n),a!==null&&(on(a,t,n),Cl(a,t,n))}function Qy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function $f(t,n){Qy(t,n),(t=t.alternate)&&Qy(t,n)}function Yy(t){if(t.tag===13||t.tag===31){var n=ma(t,67108864);n!==null&&on(n,t,67108864),$f(t,67108864)}}function Ky(t){if(t.tag===13||t.tag===31){var n=_n();n=na(n);var a=ma(t,n);a!==null&&on(a,t,n),$f(t,n)}}var Zu=!0;function sE(t,n,a,l){var h=X.T;X.T=null;var f=at.p;try{at.p=2,Zf(t,n,a,l)}finally{at.p=f,X.T=h}}function aE(t,n,a,l){var h=X.T;X.T=null;var f=at.p;try{at.p=8,Zf(t,n,a,l)}finally{at.p=f,X.T=h}}function Zf(t,n,a,l){if(Zu){var h=Jf(l);if(h===null)Lf(t,n,l,Ju,a),$y(t,l);else if(lE(h,t,n,a,l))l.stopPropagation();else if($y(t,l),n&4&&-1<rE.indexOf(t)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=ni(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-he(v);T.entanglements[1]|=D,v&=~D}bi(f),(qt&6)===0&&(Ou=Je()+500,Fl(0))}}break;case 31:case 13:T=ma(f,2),T!==null&&on(T,f,2),zu(),$f(f,2)}if(f=Jf(l),f===null&&Lf(t,n,l,Ju,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Lf(t,n,l,null,a)}}function Jf(t){return t=wn(t),Wf(t)}var Ju=null;function Wf(t){if(Ju=null,t=li(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ju=t,null}function Xy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Js()){case Wr:return 2;case tl:return 8;case is:case sh:return 32;case Do:return 268435456;default:return 32}default:return 32}}var td=!1,Ds=null,Vs=null,Ms=null,Zl=new Map,Jl=new Map,Is=[],rE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $y(t,n){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(n.pointerId)}}function Wl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&Yy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function lE(t,n,a,l,h){switch(n){case"focusin":return Ds=Wl(Ds,t,n,a,l,h),!0;case"dragenter":return Vs=Wl(Vs,t,n,a,l,h),!0;case"mouseover":return Ms=Wl(Ms,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Zl.set(f,Wl(Zl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Jl.set(f,Wl(Jl.get(f)||null,t,n,a,l,h)),!0}return!1}function Zy(t){var n=li(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){Ky(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){Ky(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Jf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);fl=l,a.target.dispatchEvent(l),fl=null}else return n=An(a),n!==null&&Yy(n),t.blockedOn=a,!1;n.shift()}return!0}function Jy(t,n,a){Wu(t)&&a.delete(n)}function oE(){td=!1,Ds!==null&&Wu(Ds)&&(Ds=null),Vs!==null&&Wu(Vs)&&(Vs=null),Ms!==null&&Wu(Ms)&&(Ms=null),Zl.forEach(Jy),Jl.forEach(Jy)}function tc(t,n){t.blockedOn===n&&(t.blockedOn=null,td||(td=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,oE)))}var ec=null;function Wy(t){ec!==t&&(ec=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ec===t&&(ec=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Wf(l||a)===null)continue;break}var f=An(a);f!==null&&(t.splice(n,3),n-=3,Zh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ar(t){function n(D){return tc(D,t)}Ds!==null&&tc(Ds,t),Vs!==null&&tc(Vs,t),Ms!==null&&tc(Ms,t),Zl.forEach(n),Jl.forEach(n);for(var a=0;a<Is.length;a++){var l=Is[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Is.length&&(a=Is[0],a.blockedOn===null);)Zy(a),a.blockedOn===null&&Is.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[je]||null;if(typeof f=="function")v||Wy(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[je]||null)T=v.formAction;else if(Wf(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Wy(a)}}}function t0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function ed(t){this._internalRoot=t}nc.prototype.render=ed.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=_n();Gy(a,l,t,n,null,null)},nc.prototype.unmount=ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gy(t.current,2,null,t,null,null),zu(),n[ai]=null}};function nc(t){this._internalRoot=t}nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=zo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Is.length&&n!==0&&n<Is[a].priority;a++);Is.splice(a,0,t),a===0&&Zy(t)}};var e0=e.version;if(e0!=="19.2.0")throw Error(r(527,e0,"19.2.0"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var uE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Un=ic.inject(uE),Pe=ic}catch{}}return eo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=op,f=up,v=cp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Hy(t,1,!1,null,null,a,l,null,h,f,v,t0),t[ai]=n.current,zf(t),new ed(n)},eo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=op,v=up,T=cp,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=Hy(t,1,!0,n,a??null,l,h,D,f,v,T,t0),n.context=Fy(null),a=n.current,l=_n(),l=na(l),h=vs(l),h.callback=null,_s(a,h,l),a=l,n.current.lanes=a,ta(n,a),bi(n),t[ai]=n.current,zf(t),new nc(n)},eo.version="19.2.0",eo}var h0;function _E(){if(h0)return sd.exports;h0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),sd.exports=vE(),sd.exports}var EE=_E();const bE=V1(EE);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var f0="popstate";function TE(s={}){function e(r,o){let{pathname:c,search:d,hash:p}=r.location;return Ed("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:fo(o)}return xE(e,i,null,s)}function le(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Zn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SE(){return Math.random().toString(36).substring(2,10)}function d0(s,e){return{usr:s.state,key:s.key,idx:e}}function Ed(s,e,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?kr(e):e,state:i,key:e&&e.key||r||SE()}}function fo({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function kr(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function xE(s,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,p="POP",y=null,g=E();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function E(){return(d.state||{idx:null}).idx}function S(){p="POP";let H=E(),tt=H==null?null:H-g;g=H,y&&y({action:p,location:K.location,delta:tt})}function w(H,tt){p="PUSH";let it=Ed(K.location,H,tt);g=E()+1;let et=d0(it,g),ot=K.createHref(it);try{d.pushState(et,"",ot)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;o.location.assign(ot)}c&&y&&y({action:p,location:K.location,delta:1})}function j(H,tt){p="REPLACE";let it=Ed(K.location,H,tt);g=E();let et=d0(it,g),ot=K.createHref(it);d.replaceState(et,"",ot),c&&y&&y({action:p,location:K.location,delta:0})}function Q(H){return AE(H)}let K={get action(){return p},get location(){return s(o,d)},listen(H){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(f0,S),y=H,()=>{o.removeEventListener(f0,S),y=null}},createHref(H){return e(o,H)},createURL:Q,encodeLocation(H){let tt=Q(H);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:w,replace:j,go(H){return d.go(H)}};return K}function AE(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),le(i,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:fo(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function M1(s,e,i="/"){return wE(s,e,i,!1)}function wE(s,e,i,r){let o=typeof e=="string"?kr(e):e,c=$i(o.pathname||"/",i);if(c==null)return null;let d=I1(s);RE(d);let p=null;for(let y=0;p==null&&y<d.length;++y){let g=UE(c);p=zE(d[y],g,r)}return p}function I1(s,e=[],i=[],r="",o=!1){let c=(d,p,y=o,g)=>{let E={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&y)return;le(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let S=Ki([r,E.relativePath]),w=i.concat(E);d.children&&d.children.length>0&&(le(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),I1(d.children,e,w,S,y)),!(d.path==null&&!d.index)&&e.push({path:S,score:OE(S,d.index),routesMeta:w})};return s.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let y of O1(d.path))c(d,p,!0,y)}),e}function O1(s){let e=s.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=O1(r.join("/")),p=[];return p.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&p.push(...d),p.map(y=>s.startsWith("/")&&y===""?"/":y)}function RE(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:jE(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var CE=/^:[\w-]+$/,NE=3,DE=2,VE=1,ME=10,IE=-2,m0=s=>s==="*";function OE(s,e){let i=s.split("/"),r=i.length;return i.some(m0)&&(r+=IE),e&&(r+=DE),i.filter(o=>!m0(o)).reduce((o,c)=>o+(CE.test(c)?NE:c===""?VE:ME),r)}function jE(s,e){return s.length===e.length&&s.slice(0,-1).every((r,o)=>r===e[o])?s[s.length-1]-e[e.length-1]:0}function zE(s,e,i=!1){let{routesMeta:r}=s,o={},c="/",d=[];for(let p=0;p<r.length;++p){let y=r[p],g=p===r.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=_c({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),w=y.route;if(!S&&g&&i&&!r[r.length-1].route.index&&(S=_c({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:Ki([c,S.pathname]),pathnameBase:qE(Ki([c,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(c=Ki([c,S.pathnameBase]))}return d}function _c(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=LE(s.path,s.caseSensitive,s.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((g,{paramName:E,isOptional:S},w)=>{if(E==="*"){let Q=p[w]||"";d=c.slice(0,c.length-Q.length).replace(/(.)\/+$/,"$1")}const j=p[w];return S&&!j?g[E]=void 0:g[E]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:s}}function LE(s,e=!1,i=!0){Zn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,y)=>(r.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function UE(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function $i(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}function PE(s,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof s=="string"?kr(s):s;return{pathname:i?i.startsWith("/")?i:BE(i,e):e,search:HE(r),hash:FE(o)}}function BE(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function od(s,e,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kE(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Yd(s){let e=kE(s);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Kd(s,e,i,r=!1){let o;typeof s=="string"?o=kr(s):(o={...s},le(!o.pathname||!o.pathname.includes("?"),od("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),od("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),od("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=i;else{let S=e.length-1;if(!r&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}p=S>=0?e[S]:"/"}let y=PE(o,p),g=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var Ki=s=>s.join("/").replace(/\/\/+/g,"/"),qE=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),HE=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,FE=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function GE(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j1=["POST","PUT","PATCH","DELETE"];new Set(j1);var QE=["GET",...j1];new Set(QE);var qr=P.createContext(null);qr.displayName="DataRouter";var Uc=P.createContext(null);Uc.displayName="DataRouterState";P.createContext(!1);var z1=P.createContext({isTransitioning:!1});z1.displayName="ViewTransition";var YE=P.createContext(new Map);YE.displayName="Fetchers";var KE=P.createContext(null);KE.displayName="Await";var Jn=P.createContext(null);Jn.displayName="Navigation";var To=P.createContext(null);To.displayName="Location";var Wn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var Xd=P.createContext(null);Xd.displayName="RouteError";function XE(s,{relative:e}={}){le(Hr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=P.useContext(Jn),{hash:o,pathname:c,search:d}=So(s,{relative:e}),p=c;return i!=="/"&&(p=c==="/"?i:Ki([i,c])),r.createHref({pathname:p,search:d,hash:o})}function Hr(){return P.useContext(To)!=null}function es(){return le(Hr(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(To).location}var L1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U1(s){P.useContext(Jn).static||P.useLayoutEffect(s)}function Fr(){let{isDataRoute:s}=P.useContext(Wn);return s?cb():$E()}function $E(){le(Hr(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(qr),{basename:e,navigator:i}=P.useContext(Jn),{matches:r}=P.useContext(Wn),{pathname:o}=es(),c=JSON.stringify(Yd(r)),d=P.useRef(!1);return U1(()=>{d.current=!0}),P.useCallback((y,g={})=>{if(Zn(d.current,L1),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=Kd(y,JSON.parse(c),o,g.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ki([e,E.pathname])),(g.replace?i.replace:i.push)(E,g.state,g)},[e,i,c,o,s])}var ZE=P.createContext(null);function JE(s){let e=P.useContext(Wn).outlet;return P.useMemo(()=>e&&P.createElement(ZE.Provider,{value:s},e),[e,s])}function So(s,{relative:e}={}){let{matches:i}=P.useContext(Wn),{pathname:r}=es(),o=JSON.stringify(Yd(i));return P.useMemo(()=>Kd(s,JSON.parse(o),r,e==="path"),[s,o,r,e])}function WE(s,e){return P1(s,e)}function P1(s,e,i,r,o){le(Hr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=P.useContext(Jn),{matches:d}=P.useContext(Wn),p=d[d.length-1],y=p?p.params:{},g=p?p.pathname:"/",E=p?p.pathnameBase:"/",S=p&&p.route;{let it=S&&S.path||"";B1(g,!S||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let w=es(),j;if(e){let it=typeof e=="string"?kr(e):e;le(E==="/"||it.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),j=it}else j=w;let Q=j.pathname||"/",K=Q;if(E!=="/"){let it=E.replace(/^\//,"").split("/");K="/"+Q.replace(/^\//,"").split("/").slice(it.length).join("/")}let H=M1(s,{pathname:K});Zn(S||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Zn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let tt=sb(H&&H.map(it=>Object.assign({},it,{params:Object.assign({},y,it.params),pathname:Ki([E,c.encodeLocation?c.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:Ki([E,c.encodeLocation?c.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),d,i,r,o);return e&&tt?P.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},tt):tt}function tb(){let s=ub(),e=GE(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),i?P.createElement("pre",{style:o},i):null,d)}var eb=P.createElement(tb,null),nb=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?P.createElement(Wn.Provider,{value:this.props.routeContext},P.createElement(Xd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ib({routeContext:s,match:e,children:i}){let r=P.useContext(qr);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Wn.Provider,{value:s},i)}function sb(s,e=[],i=null,r=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,d=i?.errors;if(d!=null){let g=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);le(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let p=!1,y=-1;if(i)for(let g=0;g<c.length;g++){let E=c[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=g),E.route.id){let{loaderData:S,errors:w}=i,j=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||j){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((g,E,S)=>{let w,j=!1,Q=null,K=null;i&&(w=d&&E.route.id?d[E.route.id]:void 0,Q=E.route.errorElement||eb,p&&(y<0&&S===0?(B1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,K=null):y===S&&(j=!0,K=E.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,S+1)),tt=()=>{let it;return w?it=Q:j?it=K:E.route.Component?it=P.createElement(E.route.Component,null):E.route.element?it=E.route.element:it=g,P.createElement(ib,{match:E,routeContext:{outlet:g,matches:H,isDataRoute:i!=null},children:it})};return i&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?P.createElement(nb,{location:i.location,revalidation:i.revalidation,component:Q,error:w,children:tt(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:r}):tt()},null)}function $d(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ab(s){let e=P.useContext(qr);return le(e,$d(s)),e}function rb(s){let e=P.useContext(Uc);return le(e,$d(s)),e}function lb(s){let e=P.useContext(Wn);return le(e,$d(s)),e}function Zd(s){let e=lb(s),i=e.matches[e.matches.length-1];return le(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function ob(){return Zd("useRouteId")}function ub(){let s=P.useContext(Xd),e=rb("useRouteError"),i=Zd("useRouteError");return s!==void 0?s:e.errors?.[i]}function cb(){let{router:s}=ab("useNavigate"),e=Zd("useNavigate"),i=P.useRef(!1);return U1(()=>{i.current=!0}),P.useCallback(async(o,c={})=>{Zn(i.current,L1),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var g0={};function B1(s,e,i){!e&&!g0[s]&&(g0[s]=!0,Zn(!1,i))}P.memo(hb);function hb({routes:s,future:e,state:i,unstable_onError:r}){return P1(s,void 0,i,r,e)}function Dr({to:s,replace:e,state:i,relative:r}){le(Hr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(Jn);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext(Wn),{pathname:d}=es(),p=Fr(),y=Kd(s,Yd(c),d,r==="path"),g=JSON.stringify(y);return P.useEffect(()=>{p(JSON.parse(g),{replace:e,state:i,relative:r})},[p,g,r,e,i]),null}function fb(s){return JE(s.context)}function En(s){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function db({basename:s="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){le(!Hr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=kr(i));let{pathname:y="/",search:g="",hash:E="",state:S=null,key:w="default"}=i,j=P.useMemo(()=>{let Q=$i(y,d);return Q==null?null:{location:{pathname:Q,search:g,hash:E,state:S,key:w},navigationType:r}},[d,y,g,E,S,w,r]);return Zn(j!=null,`<Router basename="${d}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:P.createElement(Jn.Provider,{value:p},P.createElement(To.Provider,{children:e,value:j}))}function mb({children:s,location:e}){return WE(bd(s),e)}function bd(s,e=[]){let i=[];return P.Children.forEach(s,(r,o)=>{if(!P.isValidElement(r))return;let c=[...e,o];if(r.type===P.Fragment){i.push.apply(i,bd(r.props.children,c));return}le(r.type===En,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=bd(r.props.children,c)),i.push(d)}),i}var hc="get",fc="application/x-www-form-urlencoded";function Pc(s){return s!=null&&typeof s.tagName=="string"}function gb(s){return Pc(s)&&s.tagName.toLowerCase()==="button"}function pb(s){return Pc(s)&&s.tagName.toLowerCase()==="form"}function yb(s){return Pc(s)&&s.tagName.toLowerCase()==="input"}function vb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function _b(s,e){return s.button===0&&(!e||e==="_self")&&!vb(s)}var sc=null;function Eb(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var bb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ud(s){return s!=null&&!bb.has(s)?(Zn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fc}"`),null):s}function Tb(s,e){let i,r,o,c,d;if(pb(s)){let p=s.getAttribute("action");r=p?$i(p,e):null,i=s.getAttribute("method")||hc,o=ud(s.getAttribute("enctype"))||fc,c=new FormData(s)}else if(gb(s)||yb(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||p.getAttribute("action");if(r=y?$i(y,e):null,i=s.getAttribute("formmethod")||p.getAttribute("method")||hc,o=ud(s.getAttribute("formenctype"))||ud(p.getAttribute("enctype"))||fc,c=new FormData(p,s),!Eb()){let{name:g,type:E,value:S}=s;if(E==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,S)}}else{if(Pc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=hc,r=null,o=fc,d=s}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jd(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Sb(s,e,i){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${i}`:e&&$i(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function xb(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ab(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function wb(s,e,i){let r=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await xb(c,i);return d.links?d.links():[]}return[]}));return Db(r.flat(1).filter(Ab).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function p0(s,e,i,r,o,c){let d=(y,g)=>i[g]?y.route.id!==i[g].route.id:!0,p=(y,g)=>i[g].pathname!==y.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,g)=>d(y,g)||p(y,g)):c==="data"?e.filter((y,g)=>{let E=r.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,g)||p(y,g))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Rb(s,e,{includeHydrateFallback:i}={}){return Cb(s.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Cb(s){return[...new Set(s)]}function Nb(s){let e={},i=Object.keys(s).sort();for(let r of i)e[r]=s[r];return e}function Db(s,e){let i=new Set;return new Set(e),s.reduce((r,o)=>{let c=JSON.stringify(Nb(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function k1(){let s=P.useContext(qr);return Jd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Vb(){let s=P.useContext(Uc);return Jd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Wd=P.createContext(void 0);Wd.displayName="FrameworkContext";function q1(){let s=P.useContext(Wd);return Jd(s,"You must render this element inside a <HydratedRouter> element"),s}function Mb(s,e){let i=P.useContext(Wd),[r,o]=P.useState(!1),[c,d]=P.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,w=P.useRef(null);P.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let K=tt=>{tt.forEach(it=>{d(it.isIntersecting)})},H=new IntersectionObserver(K,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[s]),P.useEffect(()=>{if(r){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[r]);let j=()=>{o(!0)},Q=()=>{o(!1),d(!1)};return i?s!=="intent"?[c,w,{}]:[c,w,{onFocus:no(p,j),onBlur:no(y,Q),onMouseEnter:no(g,j),onMouseLeave:no(E,Q),onTouchStart:no(S,j)}]:[!1,w,{}]}function no(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function Ib({page:s,...e}){let{router:i}=k1(),r=P.useMemo(()=>M1(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?P.createElement(jb,{page:s,matches:r,...e}):null}function Ob(s){let{manifest:e,routeModules:i}=q1(),[r,o]=P.useState([]);return P.useEffect(()=>{let c=!1;return wb(s,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[s,e,i]),r}function jb({page:s,matches:e,...i}){let r=es(),{manifest:o,routeModules:c}=q1(),{basename:d}=k1(),{loaderData:p,matches:y}=Vb(),g=P.useMemo(()=>p0(s,e,y,o,r,"data"),[s,e,y,o,r]),E=P.useMemo(()=>p0(s,e,y,o,r,"assets"),[s,e,y,o,r]),S=P.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let Q=new Set,K=!1;if(e.forEach(tt=>{let it=o.routes[tt.route.id];!it||!it.hasLoader||(!g.some(et=>et.route.id===tt.route.id)&&tt.route.id in p&&c[tt.route.id]?.shouldRevalidate||it.hasClientLoader?K=!0:Q.add(tt.route.id))}),Q.size===0)return[];let H=Sb(s,d,"data");return K&&Q.size>0&&H.searchParams.set("_routes",e.filter(tt=>Q.has(tt.route.id)).map(tt=>tt.route.id).join(",")),[H.pathname+H.search]},[d,p,r,o,g,e,s,c]),w=P.useMemo(()=>Rb(E,o),[E,o]),j=Ob(E);return P.createElement(P.Fragment,null,S.map(Q=>P.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...i})),w.map(Q=>P.createElement("link",{key:Q,rel:"modulepreload",href:Q,...i})),j.map(({key:Q,link:K})=>P.createElement("link",{key:Q,nonce:i.nonce,...K})))}function zb(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var H1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H1&&(window.__reactRouterVersion="7.9.5")}catch{}function Lb({basename:s,children:e,window:i}){let r=P.useRef();r.current==null&&(r.current=TE({window:i,v5Compat:!0}));let o=r.current,[c,d]=P.useState({action:o.action,location:o.location}),p=P.useCallback(y=>{P.startTransition(()=>d(y))},[d]);return P.useLayoutEffect(()=>o.listen(p),[o,p]),P.createElement(db,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var F1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bn=P.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:p,target:y,to:g,preventScrollReset:E,viewTransition:S,...w},j){let{basename:Q}=P.useContext(Jn),K=typeof g=="string"&&F1.test(g),H,tt=!1;if(typeof g=="string"&&K&&(H=g,H1))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=$i(O.pathname,Q);O.origin===R.origin&&V!=null?g=V+O.search+O.hash:tt=!0}catch{Zn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=XE(g,{relative:o}),[et,ot,ct]=Mb(r,w),dt=kb(g,{replace:d,state:p,target:y,preventScrollReset:E,relative:o,viewTransition:S});function C(R){e&&e(R),R.defaultPrevented||dt(R)}let A=P.createElement("a",{...w,...ct,href:H||it,onClick:tt||c?e:C,ref:zb(j,ot),target:y,"data-discover":!K&&i==="render"?"true":void 0});return et&&!K?P.createElement(P.Fragment,null,A,P.createElement(Ib,{page:it})):A});bn.displayName="Link";var Ub=P.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:p,children:y,...g},E){let S=So(d,{relative:g.relative}),w=es(),j=P.useContext(Uc),{navigator:Q,basename:K}=P.useContext(Jn),H=j!=null&&Qb(S)&&p===!0,tt=Q.encodeLocation?Q.encodeLocation(S).pathname:S.pathname,it=w.pathname,et=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(it=it.toLowerCase(),et=et?et.toLowerCase():null,tt=tt.toLowerCase()),et&&K&&(et=$i(et,K)||et);const ot=tt!=="/"&&tt.endsWith("/")?tt.length-1:tt.length;let ct=it===tt||!o&&it.startsWith(tt)&&it.charAt(ot)==="/",dt=et!=null&&(et===tt||!o&&et.startsWith(tt)&&et.charAt(tt.length)==="/"),C={isActive:ct,isPending:dt,isTransitioning:H},A=ct?e:void 0,R;typeof r=="function"?R=r(C):R=[r,ct?"active":null,dt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(C):c;return P.createElement(bn,{...g,"aria-current":A,className:R,ref:E,style:O,to:d,viewTransition:p},typeof y=="function"?y(C):y)});Ub.displayName="NavLink";var Pb=P.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:d=hc,action:p,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:S,...w},j)=>{let Q=Fb(),K=Gb(p,{relative:g}),H=d.toLowerCase()==="get"?"get":"post",tt=typeof p=="string"&&F1.test(p),it=et=>{if(y&&y(et),et.defaultPrevented)return;et.preventDefault();let ot=et.nativeEvent.submitter,ct=ot?.getAttribute("formmethod")||d;Q(ot||et.currentTarget,{fetcherKey:e,method:ct,navigate:i,replace:o,state:c,relative:g,preventScrollReset:E,viewTransition:S})};return P.createElement("form",{ref:j,method:H,action:K,onSubmit:r?y:it,...w,"data-discover":!tt&&s==="render"?"true":void 0})});Pb.displayName="Form";function Bb(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(s){let e=P.useContext(qr);return le(e,Bb(s)),e}function kb(s,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=Fr(),y=es(),g=So(s,{relative:c});return P.useCallback(E=>{if(_b(E,e)){E.preventDefault();let S=i!==void 0?i:fo(y)===fo(g);p(s,{replace:S,state:r,preventScrollReset:o,relative:c,viewTransition:d})}},[y,p,g,i,r,e,s,o,c,d])}var qb=0,Hb=()=>`__${String(++qb)}__`;function Fb(){let{router:s}=G1("useSubmit"),{basename:e}=P.useContext(Jn),i=ob();return P.useCallback(async(r,o={})=>{let{action:c,method:d,encType:p,formData:y,body:g}=Tb(r,e);if(o.navigate===!1){let E=o.fetcherKey||Hb();await s.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,i])}function Gb(s,{relative:e}={}){let{basename:i}=P.useContext(Jn),r=P.useContext(Wn);le(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...So(s||".",{relative:e})},d=es();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),y=p.getAll("index");if(y.some(E=>E==="")){p.delete("index"),y.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();c.search=E?`?${E}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Ki([i,c.pathname])),fo(c)}function Qb(s,{relative:e}={}){let i=P.useContext(z1);le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=G1("useViewTransitionState"),o=So(s,{relative:e});if(!i.isTransitioning)return!1;let c=$i(i.currentLocation.pathname,r)||i.currentLocation.pathname,d=$i(i.nextLocation.pathname,r)||i.nextLocation.pathname;return _c(o.pathname,d)!=null||_c(o.pathname,c)!=null}const Yb=()=>{};var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Kb=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,y=o+2<s.length,g=y?s[o+2]:0,E=c>>2,S=(c&3)<<4|p>>4;let w=(p&15)<<2|g>>6,j=g&63;y||(j=64,d||(w=64)),r.push(i[E],i[S],i[w],i[j])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Q1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Kb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const g=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||g==null||S==null)throw new Xb;const w=c<<2|p>>4;if(r.push(w),g!==64){const j=p<<4&240|g>>2;if(r.push(j),S!==64){const Q=g<<6&192|S;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $b=function(s){const e=Q1(s);return Y1.encodeByteArray(e,!0)},Ec=function(s){return $b(s).replace(/\./g,"")},Zb=function(s){try{return Y1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=()=>Jb().__FIREBASE_DEFAULTS__,tT=()=>{if(typeof process>"u"||typeof y0>"u")return;const s=y0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Zb(s[1]);return e&&JSON.parse(e)},tm=()=>{try{return Yb()||Wb()||tT()||eT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},nT=s=>tm()?.emulatorHosts?.[s],iT=s=>{const e=nT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},K1=()=>tm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ec(JSON.stringify(i)),Ec(JSON.stringify(d)),""].join(".")}const lo={};function lT(){const s={prod:[],emulator:[]};for(const e of Object.keys(lo))lo[e]?s.emulator.push(e):s.prod.push(e);return s}function oT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let v0=!1;function uT(s,e){if(typeof window>"u"||typeof document>"u"||!em(window.location.host)||lo[s]===e||lo[s]||v0)return;lo[s]=e;function i(w){return`__firebase__banner__${w}`}const r="__firebase__banner",c=lT().prod.length>0;function d(){const w=document.getElementById(r);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,j){w.setAttribute("width","24"),w.setAttribute("id",j),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{v0=!0,d()},w}function E(w,j){w.setAttribute("id",j),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=oT(r),j=i("text"),Q=document.getElementById(j)||document.createElement("span"),K=i("learnmore"),H=document.getElementById(K)||document.createElement("a"),tt=i("preprendIcon"),it=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const et=w.element;p(et),E(H,K);const ot=g();y(it,tt),et.append(it,Q,H,ot),document.body.appendChild(et)}c?(Q.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hT(){const s=tm()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fT(){return!hT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dT(){try{return typeof indexedDB=="object"}catch{return!1}}function mT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="FirebaseError";class Gr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=gT,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X1.prototype.create)}}class X1{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?pT(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Gr(o,p,r)}}function pT(s,e){return s.replace(yT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const yT=/\{\$([^}]+)}/g;function bc(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(_0(c)&&_0(d)){if(!bc(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function _0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(s){return s&&s._delegate?s._delegate:s}class mo{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new sT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ET(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_T(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _T(s){return s===Ca?void 0:s}function ET(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const TT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},ST=Lt.INFO,xT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},AT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=xT[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $1{constructor(e){this.name=e,this._logLevel=ST,this._logHandler=AT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const wT=(s,e)=>e.some(i=>s instanceof i);let E0,b0;function RT(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CT(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z1=new WeakMap,Td=new WeakMap,J1=new WeakMap,cd=new WeakMap,nm=new WeakMap;function NT(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Us(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Z1.set(i,s)}).catch(()=>{}),nm.set(e,s),e}function DT(s){if(Td.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Td.set(s,e)}let Sd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Td.get(s);if(e==="objectStoreNames")return s.objectStoreNames||J1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Us(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function VT(s){Sd=s(Sd)}function MT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(hd(this),e,...i);return J1.set(r,e.sort?e.sort():[e]),Us(r)}:CT().includes(s)?function(...e){return s.apply(hd(this),e),Us(Z1.get(this))}:function(...e){return Us(s.apply(hd(this),e))}}function IT(s){return typeof s=="function"?MT(s):(s instanceof IDBTransaction&&DT(s),wT(s,RT())?new Proxy(s,Sd):s)}function Us(s){if(s instanceof IDBRequest)return NT(s);if(cd.has(s))return cd.get(s);const e=IT(s);return e!==s&&(cd.set(s,e),nm.set(e,s)),e}const hd=s=>nm.get(s);function OT(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=Us(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Us(d.result),y.oldVersion,y.newVersion,Us(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const jT=["get","getKey","getAll","getAllKeys","count"],zT=["put","add","delete","clear"],fd=new Map;function T0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(fd.get(e))return fd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=zT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||jT.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),o&&y.done]))[0]};return fd.set(e,c),c}VT(s=>({...s,get:(e,i,r)=>T0(e,i)||s.get(e,i,r),has:(e,i)=>!!T0(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function UT(s){return s.getComponent()?.type==="VERSION"}const xd="@firebase/app",S0="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new $1("@firebase/app"),PT="@firebase/app-compat",BT="@firebase/analytics-compat",kT="@firebase/analytics",qT="@firebase/app-check-compat",HT="@firebase/app-check",FT="@firebase/auth",GT="@firebase/auth-compat",QT="@firebase/database",YT="@firebase/data-connect",KT="@firebase/database-compat",XT="@firebase/functions",$T="@firebase/functions-compat",ZT="@firebase/installations",JT="@firebase/installations-compat",WT="@firebase/messaging",t4="@firebase/messaging-compat",e4="@firebase/performance",n4="@firebase/performance-compat",i4="@firebase/remote-config",s4="@firebase/remote-config-compat",a4="@firebase/storage",r4="@firebase/storage-compat",l4="@firebase/firestore",o4="@firebase/ai",u4="@firebase/firestore-compat",c4="firebase",h4="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="[DEFAULT]",f4={[xd]:"fire-core",[PT]:"fire-core-compat",[kT]:"fire-analytics",[BT]:"fire-analytics-compat",[HT]:"fire-app-check",[qT]:"fire-app-check-compat",[FT]:"fire-auth",[GT]:"fire-auth-compat",[QT]:"fire-rtdb",[YT]:"fire-data-connect",[KT]:"fire-rtdb-compat",[XT]:"fire-fn",[$T]:"fire-fn-compat",[ZT]:"fire-iid",[JT]:"fire-iid-compat",[WT]:"fire-fcm",[t4]:"fire-fcm-compat",[e4]:"fire-perf",[n4]:"fire-perf-compat",[i4]:"fire-rc",[s4]:"fire-rc-compat",[a4]:"fire-gcs",[r4]:"fire-gcs-compat",[l4]:"fire-fst",[u4]:"fire-fst-compat",[o4]:"fire-vertex","fire-js":"fire-js",[c4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,d4=new Map,wd=new Map;function x0(s,e){try{s.container.addComponent(e)}catch(i){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Sc(s){const e=s.name;if(wd.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;wd.set(e,s);for(const i of Tc.values())x0(i,s);for(const i of d4.values())x0(i,s);return!0}function m4(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function g4(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new X1("app","Firebase",p4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=h4;function W1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Ad,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ps.create("bad-app-name",{appName:String(o)});if(i||(i=K1()),!i)throw Ps.create("no-options");const c=Tc.get(o);if(c){if(bc(i,c.options)&&bc(r,c.config))return c;throw Ps.create("duplicate-app",{appName:o})}const d=new bT(o);for(const y of wd.values())d.addComponent(y);const p=new y4(i,r,d);return Tc.set(o,p),p}function _4(s=Ad){const e=Tc.get(s);if(!e&&s===Ad&&K1())return W1();if(!e)throw Ps.create("no-app",{appName:s});return e}function Vr(s,e,i){let r=f4[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Sc(new mo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="firebase-heartbeat-database",b4=1,go="firebase-heartbeat-store";let dd=null;function tv(){return dd||(dd=OT(E4,b4,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(go)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ps.create("idb-open",{originalErrorMessage:s.message})})),dd}async function T4(s){try{const i=(await tv()).transaction(go),r=await i.objectStore(go).get(ev(s));return await i.done,r}catch(e){if(e instanceof Gr)Ji.warn(e.message);else{const i=Ps.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(i.message)}}}async function A0(s,e){try{const r=(await tv()).transaction(go,"readwrite");await r.objectStore(go).put(e,ev(s)),await r.done}catch(i){if(i instanceof Gr)Ji.warn(i.message);else{const r=Ps.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(r.message)}}}function ev(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=1024,x4=30;class A4{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new R4(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>x4){const o=C4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w0(),{heartbeatsToSend:i,unsentEntries:r}=w4(this._heartbeatsCache.heartbeats),o=Ec(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function w0(){return new Date().toISOString().substring(0,10)}function w4(s,e=S4){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),R0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),R0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class R4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dT()?mT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await T4(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function R0(s){return Ec(JSON.stringify({version:2,heartbeats:s})).length}function C4(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(s){Sc(new mo("platform-logger",e=>new LT(e),"PRIVATE")),Sc(new mo("heartbeat",e=>new A4(e),"PRIVATE")),Vr(xd,S0,s),Vr(xd,S0,"esm2020"),Vr("fire-js","")}N4("");var D4="firebase",V4="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(D4,V4,"app");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,nv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(O,V,L){for(var N=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)N[ie-2]=arguments[ie];return A.prototype[V].apply(O,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const O=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)O[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;V<16;++V)O[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],V=C.g[2];let L=C.g[3],N;N=A+(L^R&(V^L))+O[0]+3614090360&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(V^A&(R^V))+O[1]+3905402710&4294967295,L=A+(N<<12&4294967295|N>>>20),N=V+(R^L&(A^R))+O[2]+606105819&4294967295,V=L+(N<<17&4294967295|N>>>15),N=R+(A^V&(L^A))+O[3]+3250441966&4294967295,R=V+(N<<22&4294967295|N>>>10),N=A+(L^R&(V^L))+O[4]+4118548399&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(V^A&(R^V))+O[5]+1200080426&4294967295,L=A+(N<<12&4294967295|N>>>20),N=V+(R^L&(A^R))+O[6]+2821735955&4294967295,V=L+(N<<17&4294967295|N>>>15),N=R+(A^V&(L^A))+O[7]+4249261313&4294967295,R=V+(N<<22&4294967295|N>>>10),N=A+(L^R&(V^L))+O[8]+1770035416&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(V^A&(R^V))+O[9]+2336552879&4294967295,L=A+(N<<12&4294967295|N>>>20),N=V+(R^L&(A^R))+O[10]+4294925233&4294967295,V=L+(N<<17&4294967295|N>>>15),N=R+(A^V&(L^A))+O[11]+2304563134&4294967295,R=V+(N<<22&4294967295|N>>>10),N=A+(L^R&(V^L))+O[12]+1804603682&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(V^A&(R^V))+O[13]+4254626195&4294967295,L=A+(N<<12&4294967295|N>>>20),N=V+(R^L&(A^R))+O[14]+2792965006&4294967295,V=L+(N<<17&4294967295|N>>>15),N=R+(A^V&(L^A))+O[15]+1236535329&4294967295,R=V+(N<<22&4294967295|N>>>10),N=A+(V^L&(R^V))+O[1]+4129170786&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^V&(A^R))+O[6]+3225465664&4294967295,L=A+(N<<9&4294967295|N>>>23),N=V+(A^R&(L^A))+O[11]+643717713&4294967295,V=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(V^L))+O[0]+3921069994&4294967295,R=V+(N<<20&4294967295|N>>>12),N=A+(V^L&(R^V))+O[5]+3593408605&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^V&(A^R))+O[10]+38016083&4294967295,L=A+(N<<9&4294967295|N>>>23),N=V+(A^R&(L^A))+O[15]+3634488961&4294967295,V=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(V^L))+O[4]+3889429448&4294967295,R=V+(N<<20&4294967295|N>>>12),N=A+(V^L&(R^V))+O[9]+568446438&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^V&(A^R))+O[14]+3275163606&4294967295,L=A+(N<<9&4294967295|N>>>23),N=V+(A^R&(L^A))+O[3]+4107603335&4294967295,V=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(V^L))+O[8]+1163531501&4294967295,R=V+(N<<20&4294967295|N>>>12),N=A+(V^L&(R^V))+O[13]+2850285829&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^V&(A^R))+O[2]+4243563512&4294967295,L=A+(N<<9&4294967295|N>>>23),N=V+(A^R&(L^A))+O[7]+1735328473&4294967295,V=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(V^L))+O[12]+2368359562&4294967295,R=V+(N<<20&4294967295|N>>>12),N=A+(R^V^L)+O[5]+4294588738&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^V)+O[8]+2272392833&4294967295,L=A+(N<<11&4294967295|N>>>21),N=V+(L^A^R)+O[11]+1839030562&4294967295,V=L+(N<<16&4294967295|N>>>16),N=R+(V^L^A)+O[14]+4259657740&4294967295,R=V+(N<<23&4294967295|N>>>9),N=A+(R^V^L)+O[1]+2763975236&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^V)+O[4]+1272893353&4294967295,L=A+(N<<11&4294967295|N>>>21),N=V+(L^A^R)+O[7]+4139469664&4294967295,V=L+(N<<16&4294967295|N>>>16),N=R+(V^L^A)+O[10]+3200236656&4294967295,R=V+(N<<23&4294967295|N>>>9),N=A+(R^V^L)+O[13]+681279174&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^V)+O[0]+3936430074&4294967295,L=A+(N<<11&4294967295|N>>>21),N=V+(L^A^R)+O[3]+3572445317&4294967295,V=L+(N<<16&4294967295|N>>>16),N=R+(V^L^A)+O[6]+76029189&4294967295,R=V+(N<<23&4294967295|N>>>9),N=A+(R^V^L)+O[9]+3654602809&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^V)+O[12]+3873151461&4294967295,L=A+(N<<11&4294967295|N>>>21),N=V+(L^A^R)+O[15]+530742520&4294967295,V=L+(N<<16&4294967295|N>>>16),N=R+(V^L^A)+O[2]+3299628645&4294967295,R=V+(N<<23&4294967295|N>>>9),N=A+(V^(R|~L))+O[0]+4096336452&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~V))+O[7]+1126891415&4294967295,L=A+(N<<10&4294967295|N>>>22),N=V+(A^(L|~R))+O[14]+2878612391&4294967295,V=L+(N<<15&4294967295|N>>>17),N=R+(L^(V|~A))+O[5]+4237533241&4294967295,R=V+(N<<21&4294967295|N>>>11),N=A+(V^(R|~L))+O[12]+1700485571&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~V))+O[3]+2399980690&4294967295,L=A+(N<<10&4294967295|N>>>22),N=V+(A^(L|~R))+O[10]+4293915773&4294967295,V=L+(N<<15&4294967295|N>>>17),N=R+(L^(V|~A))+O[1]+2240044497&4294967295,R=V+(N<<21&4294967295|N>>>11),N=A+(V^(R|~L))+O[8]+1873313359&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~V))+O[15]+4264355552&4294967295,L=A+(N<<10&4294967295|N>>>22),N=V+(A^(L|~R))+O[6]+2734768916&4294967295,V=L+(N<<15&4294967295|N>>>17),N=R+(L^(V|~A))+O[13]+1309151649&4294967295,R=V+(N<<21&4294967295|N>>>11),N=A+(V^(R|~L))+O[4]+4149444226&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~V))+O[11]+3174756917&4294967295,L=A+(N<<10&4294967295|N>>>22),N=V+(A^(L|~R))+O[2]+718787259&4294967295,V=L+(N<<15&4294967295|N>>>17),N=R+(L^(V|~A))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,O=this.C;let V=this.h,L=0;for(;L<A;){if(V==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(O[V++]=C.charCodeAt(L++),V==this.blockSize){o(this,O),V=0;break}}else for(;L<A;)if(O[V++]=C[L++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)C[A++]=this.g[R]>>>O&255;return C};function c(C,A){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function d(C,A){this.h=A;const R=[];let O=!0;for(let V=C.length-1;V>=0;V--){const L=C[V]|0;O&&L==A||(R[V]=L,O=!1)}this.g=R}var p={};function y(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return H(g(-C));const A=[];let R=1;for(let O=0;C>=R;O++)A[O]=C/R|0,R*=4294967296;return new d(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return H(E(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let O=S;for(let L=0;L<C.length;L+=8){var V=Math.min(8,C.length-L);const N=parseInt(C.substring(L,L+V),A);V<8?(V=g(Math.pow(A,V)),O=O.j(V).add(g(N))):(O=O.j(R),O=O.add(g(N)))}return O}var S=y(0),w=y(1),j=y(16777216);s=d.prototype,s.m=function(){if(K(this))return-H(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);C+=(O>=0?O:4294967296+O)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Q(this))return"0";if(K(this))return"-"+H(this).toString(C);const A=g(Math.pow(C,6));var R=this;let O="";for(;;){const V=ot(R,A).g;R=tt(R,V.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=V,Q(R))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Q(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function K(C){return C.h==-1}s.l=function(C){return C=tt(this,C),K(C)?-1:Q(C)?0:1};function H(C){const A=C.g.length,R=[];for(let O=0;O<A;O++)R[O]=~C.g[O];return new d(R,~C.h).add(w)}s.abs=function(){return K(this)?H(this):this},s.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let O=0;for(let V=0;V<=A;V++){let L=O+(this.i(V)&65535)+(C.i(V)&65535),N=(L>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);O=N>>>16,L&=65535,N&=65535,R[V]=N<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function tt(C,A){return C.add(H(A))}s.j=function(C){if(Q(this)||Q(C))return S;if(K(this))return K(C)?H(this).j(H(C)):H(H(this).j(C));if(K(C))return H(this.j(H(C)));if(this.l(j)<0&&C.l(j)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<C.g.length;V++){const L=this.i(O)>>>16,N=this.i(O)&65535,ie=C.i(V)>>>16,Ne=C.i(V)&65535;R[2*O+2*V]+=N*Ne,it(R,2*O+2*V),R[2*O+2*V+1]+=L*Ne,it(R,2*O+2*V+1),R[2*O+2*V+1]+=N*ie,it(R,2*O+2*V+1),R[2*O+2*V+2]+=L*ie,it(R,2*O+2*V+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new d(R,0)};function it(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function et(C,A){this.g=C,this.h=A}function ot(C,A){if(Q(A))throw Error("division by zero");if(Q(C))return new et(S,S);if(K(C))return A=ot(H(C),A),new et(H(A.g),H(A.h));if(K(A))return A=ot(C,H(A)),new et(H(A.g),A.h);if(C.g.length>30){if(K(C)||K(A))throw Error("slowDivide_ only works with positive integers.");for(var R=w,O=A;O.l(C)<=0;)R=ct(R),O=ct(O);var V=dt(R,1),L=dt(O,1);for(O=dt(O,2),R=dt(R,2);!Q(O);){var N=L.add(O);N.l(C)<=0&&(V=V.add(R),L=N),O=dt(O,1),R=dt(R,1)}return A=tt(C,V.j(A)),new et(V,A)}for(V=S;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(R),N=L.j(A);K(N)||N.l(C)>0;)R-=O,L=g(R),N=L.j(A);Q(L)&&(L=w),V=V.add(L),C=tt(C,N)}return new et(V,C)}s.B=function(C){return ot(this,C).h},s.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)&C.i(O);return new d(R,this.h&C.h)},s.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)|C.i(O);return new d(R,this.h|C.h)},s.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)^C.i(O);return new d(R,this.h^C.h)};function ct(C){const A=C.g.length+1,R=[];for(let O=0;O<A;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(R,C.h)}function dt(C,A){const R=A>>5;A%=32;const O=C.g.length-R,V=[];for(let L=0;L<O;L++)V[L]=A>0?C.i(L+R)>>>A|C.i(L+R+1)<<32-A:C.i(L+R);return new d(V,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=E,Bs=d}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iv,io,sv,dc,Rd,av,rv,lv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var _=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var U=u[x];if(!(U in _))break t;_=_[U]}u=u[u.length-1],x=_[u],m=m(x),m!=x&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&_.push([x,m[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function g(u,m,_){return g=y,g.apply(null,arguments)}function E(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,U,F){for(var st=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)st[xt-2]=arguments[xt];return m.prototype[U].apply(x,st)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const _=Array(m);for(let x=0;x<m;x++)_[x]=u[x];return _}return[]}function Q(u,m){for(let x=1;x<arguments.length;x++){const U=arguments[x];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const F=U.length||0;u.length=_+F;for(let st=0;st<F;st++)u[_+st]=U[st]}else u.push(U)}}class K{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(u){d.setTimeout(()=>{throw u},0)}function tt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class it{constructor(){this.h=this.g=null}add(m,_){const x=et.get();x.set(m,_),this.h?this.h.next=x:this.g=x,this.h=x}}var et=new K(()=>new ot,u=>u.reset());class ot{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,dt=!1,C=new it,A=()=>{const u=Promise.resolve(void 0);ct=()=>{u.then(R)}};function R(){for(var u;u=tt();){try{u.h.call(u.g)}catch(_){H(_)}var m=et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}dt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,V),ie.prototype.init=function(u,m){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),X=0;function at(u,m,_,x,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!x,this.ha=U,this.key=++X,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,_){for(const x in u)m.call(_,u[x],x,u)}function Ft(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function I(u){const m={};for(const _ in u)m[_]=u[_];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(u,m){let _,x;for(let U=1;U<arguments.length;U++){x=arguments[U];for(_ in x)u[_]=x[_];for(let F=0;F<J.length;F++)_=J[F],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,_,x,U){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const st=wt(u,m,x,U);return st>-1?(m=u[st],_||(m.fa=!1)):(m=new at(m,this.src,F,!!x,U),m.fa=_,u.push(m)),m};function Et(u,m){const _=m.type;if(_ in u.g){var x=u.g[_],U=Array.prototype.indexOf.call(x,m,void 0),F;(F=U>=0)&&Array.prototype.splice.call(x,U,1),F&&(pt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,m,_,x){for(let U=0;U<u.length;++U){const F=u[U];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==x)return U}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),De={};function se(u,m,_,x,U){if(Array.isArray(m)){for(let F=0;F<m.length;F++)se(u,m[F],_,x,U);return null}return _=Jr(_),u&&u[Ne]?u.J(m,_,p(x)?!!x.capture:!1,U):$s(u,m,_,!1,x,U)}function $s(u,m,_,x,U,F){if(!m)throw Error("Invalid event type");const st=p(U)?!!U.capture:!!U;let xt=Zs(u);if(xt||(u[jt]=xt=new ut(u)),_=xt.add(m,_,x,st,F),_.proxy)return _;if(x=za(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)L||(U=st),U===void 0&&(U=!1),u.addEventListener(m.toString(),x,U);else if(u.attachEvent)u.attachEvent(ti(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function za(){function u(_){return m.call(u.src,u.listener,_)}const m=$r;return u}function La(u,m,_,x,U){if(Array.isArray(m))for(var F=0;F<m.length;F++)La(u,m[F],_,x,U);else x=p(x)?!!x.capture:!!x,_=Jr(_),u&&u[Ne]?(u=u.i,F=String(m).toString(),F in u.g&&(m=u.g[F],_=wt(m,_,x,U),_>-1&&(pt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[F],u.h--)))):u&&(u=Zs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,_,x,U)),(_=u>-1?m[u]:null)&&Ua(_))}function Ua(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])Et(m.i,u);else{var _=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(_,x,u.capture):m.detachEvent?m.detachEvent(ti(_),x):m.addListener&&m.removeListener&&m.removeListener(x),(_=Zs(m))?(Et(_,u),_.h==0&&(_.src=null,m[jt]=null)):pt(u)}}}function ti(u){return u in De?De[u]:De[u]="on"+u}function $r(u,m){if(u.da)u=!0;else{m=new ie(m,this);const _=u.listener,x=u.ha||u.src;u.fa&&Ua(u),u=_.call(x,m)}return u}function Zs(u){return u=u[jt],u instanceof ut?u:null}var Zr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jr(u){return typeof u=="function"?u:(u[Zr]||(u[Zr]=function(m){return u.handleEvent(m)}),u[Zr])}function pe(){O.call(this),this.i=new ut(this),this.M=this,this.G=null}S(pe,O),pe.prototype[Ne]=!0,pe.prototype.removeEventListener=function(u,m,_,x){La(this,u,m,_,x)};function Ve(u,m){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var U=m;m=new V(x,u),rt(m,U)}U=!0;let F,st;if(_)for(st=_.length-1;st>=0;st--)F=m.g=_[st],U=ns(F,x,!0,m)&&U;if(F=m.g=u,U=ns(F,x,!0,m)&&U,U=ns(F,x,!1,m)&&U,_)for(st=0;st<_.length;st++)F=m.g=_[st],U=ns(F,x,!1,m)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let x=0;x<_.length;x++)pt(_[x]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,_,x){return this.i.add(String(u),m,!1,_,x)},pe.prototype.K=function(u,m,_,x){return this.i.add(String(u),m,!0,_,x)};function ns(u,m,_,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let F=0;F<m.length;++F){const st=m[F];if(st&&!st.da&&st.capture==_){const xt=st.listener,fe=st.ha||st.src;st.fa&&Et(u.i,st),U=xt.call(fe,x)!==!1&&U}}return U&&!x.defaultPrevented}function ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function No(u){u.g=ih(()=>{u.g=null,u.i&&(u.i=!1,No(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends O{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:No(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(u){O.call(this),this.h=u,this.g={}}S(Js,O);var Wr=[];function tl(u){Ut(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ua(m)},u),u.g={}}Js.prototype.N=function(){Js.Z.N.call(this),tl(this)},Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,sh=d.JSON.parse,Do=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Vo(){}function Mo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){V.call(this,"d")}S(Pe,V);function xn(){V.call(this,"c")}S(xn,V);var he={},Io=null;function Pa(){return Io=Io||new pe}he.Ia="serverreachability";function Oo(u){V.call(this,he.Ia,u)}S(Oo,V);function ei(u){const m=Pa();Ve(m,new Oo(m))}he.STAT_EVENT="statevent";function Ws(u,m){V.call(this,he.STAT_EVENT,u),this.stat=m}S(Ws,V);function ye(u){const m=Pa();Ve(m,new Ws(m,u))}he.Ja="timingevent";function ni(u,m){V.call(this,he.Ja,u),this.size=m}S(ni,V);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function ah(u,m,_,x,U,F){u.info(function(){if(u.g)if(F){var st="",xt=F.split("&");for(let kt=0;kt<xt.length;kt++){var fe=xt[kt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Cn=ae.split("_");st=Cn.length>=2&&Cn[1]=="type"?st+(ae+"="+fe+"&"):st+(ae+"=redacted&")}}}else st=null;else st=F;return"XMLHTTP REQ ("+x+") [attempt "+U+"]: "+m+`
`+_+`
`+st})}function jo(u,m,_,x,U,F,st){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+U+"]: "+m+`
`+_+`
`+F+" "+st})}function si(u,m,_,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+rh(u,_)+(x?" "+x:"")})}function ta(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function rh(u,m){if(!u.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var _=F[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var U=x[0];if(U!="noop"&&U!="stop"&&U!="close")for(let st=1;st<x.length;st++)x[st]=""}}}}return is(F)}catch{return m}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nl;function na(){}S(na,Vo),na.prototype.g=function(){return new XMLHttpRequest},nl=new na;function Ni(u){return encodeURIComponent(String(u))}function zo(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Bn(u,m,_,x){this.j=u,this.i=m,this.l=_,this.S=x||1,this.V=new Js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var ve={},je={};function ai(u,m,_){u.M=1,u.A=ia(Ee(m)),u.u=_,u.R=!0,Ba(u,null)}function Ba(u,m){u.F=Date.now(),ri(u),u.B=Ee(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Fa(_.i,"t",x),u.C=0,_=u.j.L,u.h=new kn,u.g=Zo(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Je(g(u.Y,u,u.g),u.P)),m=u.V,_=u.g,x=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Wr[0]=U.toString()),U=Wr);for(let F=0;F<U.length;F++){const st=se(_,U[F],x||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),ah(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const xt=Fn(this.g),fe=this.g.ya(),kt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||xt!=4||fe==7||(fe==8||kt<=0?ei(3):ei(2)),li(this);var m=this.g.ca();this.X=m;var _=lh(this);if(this.o=m==200,jo(this.i,this.v,this.B,this.l,this.S,xt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var x,U=this.g;if((x=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var F=x;break e}}F=null}if(u=F)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ye(12),hn(this),An(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<_.length;)if(ae=Uo(this,_),ae==je){xt==4&&(this.m=4,ye(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,ye(15),si(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,ae,null),oi(this,ae);if(Lo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,_,"[Invalid Chunked Response]"),hn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),yl(st),st.P=!0,ye(11))}}else si(this.i,this.l,_,null),oi(this,_);xt==4&&hn(this),this.o&&!this.K&&(xt==4?Yo(this.j,this):(this.o=!1,ri(this)))}else Vi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),hn(this),An(this)}}}catch{}finally{}};function lh(u){if(!Lo(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let _="";const x=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),An(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<x;F++)u.h.h=!0,_+=u.h.i.decode(m[F],{stream:!(U&&F==x-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Lo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Uo(u,m){var _=u.C,x=m.indexOf(`
`,_);return x==-1?je:(_=Number(m.substring(_,x)),isNaN(_)?ve:(x+=1,x+_>m.length?je:(m=m.slice(x,x+_),u.C=x+_,m)))}Bn.prototype.cancel=function(){this.K=!0,hn(this)};function ri(u){u.T=Date.now()+u.H,ka(u,u.H)}function ka(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(g(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ta(this.i,this.B),this.M!=2&&(ei(),ye(17)),hn(this),this.m=2,An(this)):ka(this,this.T-u)};function An(u){u.j.I==0||u.K||Yo(u.j,u)}function hn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,tl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ci(_.h,u))){if(!u.L&&ci(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var U=x;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Xa(_),hs(_);else break t;ca(_),ye(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ii(g(_.Va,_),6e3));ui(_.h)<=1&&_.ta&&(_.ta=void 0)}else pi(_,11)}else if((u.L||_.g==u)&&Xa(_),!N(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let kt=U[m];const ae=kt[0];if(!(ae<=_.K))if(_.K=ae,kt=kt[1],_.I==2)if(kt[0]=="c"){_.M=kt[1],_.ba=kt[2];const Cn=kt[3];Cn!=null&&(_.ka=Cn,_.j.info("VER="+_.ka));const yi=kt[4];yi!=null&&(_.za=yi,_.j.info("SVER="+_.za));const Gn=kt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(x=1.5*Gn,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const Qn=u.g;if(Qn){const ha=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var F=x.h;F.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(al(F,F.h),F.h=null))}if(x.G){const $a=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(x.wa=$a,Gt(x.J,x.G,$a))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var st=u;if(x.na=$o(x,x.L?x.ba:null,x.W),st.L){rl(x.h,st);var xt=st,fe=x.O;fe&&(xt.H=fe),xt.D&&(li(xt),ri(xt)),x.g=st}else Go(x);_.i.length>0&&gi(_)}else kt[0]!="stop"&&kt[0]!="close"||pi(_,7);else _.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?pi(_,7):gl(_):kt[0]!="noop"&&_.l&&_.l.qa(kt),_.A=0)}}ei(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function il(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function al(u,m){u.g?u.g.add(m):u.h=m}function rl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}il.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ll(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return j(u.i)}var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let U,F=null;x>=0?(U=u[_].substring(0,x),F=u[_].substring(x+1)):U=u[_],m(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,ol(this,Ho(u.i)),this.m=u.m):u&&(m=String(u).match(Po))?(this.l=!1,ze(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),ss(this,m[4]),this.h=hi(m[5]||"",!0),ol(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new rs(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(sa(m,Ha,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(sa(m,Ha,!0),"@"),u.push(Ni(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(sa(_,_.charAt(0)=="/"?ul:Bo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",sa(_,ko)),u.join("")},fn.prototype.resolve=function(u){const m=Ee(this);let _=!!u.j;_?ze(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var x=u.h;if(_)ss(m,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var U=m.h.lastIndexOf("/");U!=-1&&(x=m.h.slice(0,U+1)+x)}if(U=x,U==".."||U==".")x="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){x=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let st=0;st<U.length;){const xt=U[st++];xt=="."?x&&st==U.length&&F.push(""):xt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),x&&st==U.length&&F.push("")):(F.push(xt),x=!0)}x=F.join("/")}else x=U}return _?m.h=x:_=u.i.toString()!=="",_?ol(m,Ho(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ee(u){return new fn(u)}function ze(u,m,_){u.j=_?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ol(u,m,_){m instanceof rs?(u.i=m,Ga(u.i,u.l)):(_||(m=sa(m,as)),u.i=new rs(m,u.l))}function Gt(u,m,_){u.i.set(m,_)}function ia(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sa(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,en),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ha=/[#\/\?@]/g,Bo=/[#\?:]/g,ul=/[#\?]/g,as=/[#\?@]/g,ko=/#/g;function rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&qa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=rs.prototype,s.add=function(u,m){nn(this),this.i=null,u=ls(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function qo(u,m){nn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function cl(u,m){return nn(u),m=ls(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(_,x){_.forEach(function(U){u.call(m,U,x,this)},this)},this)};function hl(u,m){nn(u);let _=[];if(typeof m=="string")cl(u,m)&&(_=_.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return nn(this),this.i=null,u=ls(this,u),cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=hl(this,u),u.length>0?String(u[0]):m):m};function Fa(u,m,_){qo(u,m),_.length>0&&(u.i=null,u.g.set(ls(u,m),j(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var _=m[x];const U=Ni(_);_=hl(this,_);for(let F=0;F<_.length;F++){let st=U;_[F]!==""&&(st+="="+Ni(_[F])),u.push(st)}}return this.i=u.join("&")};function Ho(u){const m=new rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ga(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(_,x){const U=x.toLowerCase();x!=U&&(qo(this,x),Fa(this,U,_))},u)),u.j=m}function qn(u,m){const _=new Pn;if(d.Image){const x=new Image;x.onload=E(wn,_,"TestLoadImage: loaded",!0,m,x),x.onerror=E(wn,_,"TestLoadImage: error",!1,m,x),x.onabort=E(wn,_,"TestLoadImage: abort",!1,m,x),x.ontimeout=E(wn,_,"TestLoadImage: timeout",!1,m,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function fl(u,m){const _=new Pn,x=new AbortController,U=setTimeout(()=>{x.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(F=>{clearTimeout(U),F.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,x,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),x(_)}catch{}}function os(){this.g=new Do}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(fi,Vo),fi.prototype.g=function(){return new aa(this.i,this.h)};function aa(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(aa,pe),s=aa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):Hn(this),this.readyState==3&&Qa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},s.Na=function(u){this.g&&(this.response=u,us(this))},s.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Ut(u,function(_,x){m+=x,m+=":",m+=_,m+=`\r
`}),m}function ra(u,m,_){t:{for(x in _){var x=!1;break t}x=!0}x||(_=Rn(_),typeof u=="string"?_!=null&&Ni(_):Gt(u,m,_))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,pe);var di=/^https?$/i,dl=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nl.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){la(this,F);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var U in x)_.set(U,x[U]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const F of x.keys())_.set(F,x.get(F));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(dl,m,void 0)>=0)||x||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,st]of _)this.g.setRequestHeader(F,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){la(this,F)}};function la(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ml(u),Di(u)}function ml(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},s.Xa=function(){oa(this)};function oa(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const F=u.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var x;if(x=F===0){let st=String(u.D).match(Po)[1]||null;!st&&d.self&&d.self.location&&(st=d.self.location.protocol.slice(0,-1)),x=!di.test(st?st.toLowerCase():"")}_=x}if(_)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",ml(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ve(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),sh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(N(u[x]))continue;var _=zo(u[x]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[U]||[];m[U]=F,F.push(_)}Ft(m,function(x){return x.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new il(u&&u.concurrentRequestLimit),this.Ba=new os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=cs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,x){ye(0),this.W=u,this.H=m||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=$o(this,null,this.W),gi(this)};function gl(u){if(Ya(u),u.I==3){var m=u.V++,_=Ee(u.J);if(Gt(_,"SID",u.M),Gt(_,"RID",m),Gt(_,"TYPE","terminate"),ua(u,_),m=new Bn(u,u.j,m),m.M=2,m.A=ia(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Zo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}Xo(u)}function hs(u){u.g&&(yl(u),u.g.cancel(),u.g=null)}function Ya(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!sl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ct||A(),dt||(ct(),dt=!0),C.add(m,u),u.D=0}}function Ka(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(g(u.Ea,u,m),Ko(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=I(F),rt(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Fo(this,U,m),_=Ee(this.J),Gt(_,"RID",u),Gt(_,"CVER",22),this.G&&Gt(_,"X-HTTP-Session-Id",this.G),ua(this,_),F&&(this.R?m="headers="+Ni(Rn(F))+"&"+m:this.u&&ra(_,this.u,F)),al(this.h,U),this.Ra&&Gt(_,"TYPE","init"),this.S?(Gt(_,"$req",m),Gt(_,"SID","null"),U.U=!0,ai(U,_,null)):ai(U,_,m),this.I=2}}else this.I==3&&(u?pl(this,u):this.i.length==0||sl(this.h)||pl(this))};function pl(u,m){var _;m?_=m.l:_=u.V++;const x=Ee(u.J);Gt(x,"SID",u.M),Gt(x,"RID",_),Gt(x,"AID",u.K),ua(u,x),u.u&&u.o&&ra(x,u.u,u.o),_=new Bn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Fo(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),al(u.h,_),ai(_,x,m)}function ua(u,m){u.H&&Ut(u.H,function(_,x){Gt(m,x,_)}),u.l&&Ut({},function(_,x){Gt(m,x,_)})}function Fo(u,m,_){_=Math.min(u.i.length,_);const x=u.l?g(u.l.Ka,u.l,u):null;t:{var U=u.i;let xt=-1;for(;;){const fe=["count="+_];xt==-1?_>0?(xt=U[0].g,fe.push("ofs="+xt)):xt=0:fe.push("ofs="+xt);let kt=!0;for(let ae=0;ae<_;ae++){var F=U[ae].g;const Cn=U[ae].map;if(F-=xt,F<0)xt=Math.max(0,U[ae].g-100),kt=!1;else try{F="req"+F+"_"||"";try{var st=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Gn]of st){let Qn=Gn;p(Gn)&&(Qn=is(Gn)),fe.push(F+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw fe.push(F+"type="+encodeURIComponent("_badmap")),yi}}catch{x&&x(Cn)}}if(kt){st=fe.join("&");break t}}st=void 0}return u=u.i.splice(0,_),m.G=u,st}function Go(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ct||A(),dt||(ct(),dt=!0),C.add(m,u),u.A=0}}function ca(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(g(u.Da,u),Ko(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Qo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(g(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),hs(this),Qo(this))};function yl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Qo(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),ua(u,m),u.u&&u.o&&ra(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ia(Ee(m)),_.u=null,_.R=!0,Ba(_,u)}s.Va=function(){this.C!=null&&(this.C=null,hs(this),ca(this),ye(19))};function Xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Yo(u,m){var _=null;if(u.g==m){Xa(u),yl(u),u.g=null;var x=2}else if(ci(u.h,m))_=m.G,rl(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;x=Pa(),Ve(x,new ni(x,_)),gi(u)}else Go(u);else if(U=m.m,U==3||U==0&&m.X>0||!(x==1&&Ka(u,m)||x==2&&ca(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Ko(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var _=g(u.bb,u),x=u.Ua;const U=!x;x=new fn(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(x,"https"),ia(x),U?qn(x.toString(),_):fl(x.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),Xo(u),Ya(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Xo(u){if(u.I=0,u.ja=[],u.l){const m=ll(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ja,m),Q(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function $o(u,m,_){var x=_ instanceof fn?Ee(_):new fn(_);if(x.g!="")m&&(x.g=m+"."+x.g),ss(x,x.u);else{var U=d.location;x=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const F=new fn(null);x&&ze(F,x),m&&(F.g=m),U&&ss(F,U),_&&(F.h=_),x=F}return _=u.G,m=u.wa,_&&m&&Gt(x,_,m),Gt(x,"VER",u.ka),ua(u,x),x}function Zo(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new fi({ab:_})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jo(){}s=Jo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){gl(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=is(u),u=_);m.i.push(new _e(m.Ya++,u)),m.I==3&&gi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,We.Z.N.call(this)};function Wo(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Wo,Pe);function tu(){xn.call(this),this.status=1}S(tu,xn);function Mi(u){this.g=u}S(Mi,Jo),Mi.prototype.ra=function(){Ve(this.g,"a")},Mi.prototype.qa=function(u){Ve(this.g,new Wo(u))},Mi.prototype.pa=function(u){Ve(this.g,new tu)},Mi.prototype.oa=function(){Ve(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,lv=function(){return new fs},rv=function(){return Pa()},av=he,Rd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,dc=ea,el.COMPLETE="complete",sv=el,Mo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",pe.prototype.listen=pe.prototype.J,io=Mo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,iv=Kt}).apply(typeof ac<"u"?ac:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",D0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new $1("@firebase/firestore");function wr(){return Ma.logLevel}function lt(s,...e){if(Ma.logLevel<=Lt.DEBUG){const i=e.map(im);Ma.debug(`Firestore (${Qr}): ${s}`,...i)}}function Wi(s,...e){if(Ma.logLevel<=Lt.ERROR){const i=e.map(im);Ma.error(`Firestore (${Qr}): ${s}`,...i)}}function Or(s,...e){if(Ma.logLevel<=Lt.WARN){const i=e.map(im);Ma.warn(`Firestore (${Qr}): ${s}`,...i)}}function im(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,ov(s,r,i)}function ov(s,e,i){let r=`FIRESTORE (${Qr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Wi(r),new Error(r)}function Ht(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||ov(e,o,r)}function St(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Gr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class I4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class O4{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Da;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Da,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Da)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new uv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class j4{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z4{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new j4(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L4{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,g4(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const r=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=U4(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Mt(s,e){return s<e?-1:s>e?1:0}function Cd(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return md(o)===md(c)?Mt(o,c):md(o)?1:-1}return Mt(s.length,e.length)}const P4=55296,B4=57343;function md(s){const e=s.charCodeAt(0);return e>=P4&&e<=B4}function jr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__name__";class Ti{constructor(e,i,r){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&_t(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Mt(e.length,i.length)}static compareSegments(e,i){const r=Ti.isNumericId(e),o=Ti.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):Cd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class ee extends Ti{construct(e,i,r){return new ee(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new mt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const k4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(e,i,r){return new Qe(e,i,r)}static isValidIdentifier(e){return k4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new Qe([M0])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new mt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new mt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new mt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new mt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(ee.fromString(e))}static fromName(e){return new yt(ee.fromString(e).popFirst(5))}static empty(){return new yt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(s,e,i){if(!i)throw new mt(nt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function q4(s,e,i,r){if(e===!0&&r===!0)throw new mt(nt.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function I0(s){if(!yt.isDocumentKey(s))throw new mt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O0(s){if(yt.isDocumentKey(s))throw new mt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function hv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function am(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Xi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new mt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=am(s);throw new mt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(s,e){const i={typeString:s};return e&&(i.value=e),i}function xo(s,e){if(!hv(s))throw new mt(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new mt(nt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=-62135596800,z0=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*z0);return new ne(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new mt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<j0)throw new mt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xo(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:we("string",ne._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new ne(0,0))}static max(){return new bt(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function H4(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new qs(o,yt.empty(),e)}function F4(s){return new qs(s.readTime,s.key,po)}class qs{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new qs(bt.min(),yt.empty(),po)}static max(){return new qs(bt.max(),yt.empty(),po)}}function G4(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=yt.comparator(s.documentKey,e.documentKey),i!==0?i:Mt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(s){if(s.code!==nt.FAILED_PRECONDITION||s.message!==Q4)throw s;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):W.reject(i)}static resolve(e){return new W(((i,r)=>{i(e)}))}static reject(e){return new W(((i,r)=>{r(e)}))}static waitFor(e){return new W(((i,r)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>r(y)))})),d=!0,c===o&&i()}))}static or(e){let i=W.resolve(!1);for(const r of e)i=i.next((o=>o?W.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new W(((r,o)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const g=y;i(e[g]).next((E=>{d[g]=E,++p,p===c&&r(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new W(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function K4(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Kr(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=-1;function kc(s){return s==null}function xc(s){return s===0&&1/s==-1/0}function X4(s){return typeof s=="number"&&Number.isInteger(s)&&!xc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="";function $4(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=L0(e)),e=Z4(s.get(i),e);return L0(e)}function Z4(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case fv:i+="";break;default:i+=c}}return i}function L0(s){return s+fv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ks(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function dv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new Ge(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new P0(this.data.getIterator())}getIteratorFrom(e){return new P0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Oe(this.comparator);return i.data=e,i}}class P0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Tn([])}unionWith(e){let i=new Oe(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Tn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return jr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new mv("Invalid base64 string: "+c):c}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const J4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(s){if(Ht(!!s,39018),typeof s=="string"){let e=0;const i=J4.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Fs(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="server_timestamp",pv="__type__",yv="__previous_value__",vv="__local_write_time__";function lm(s){return(s?.mapValue?.fields||{})[pv]?.stringValue===gv}function qc(s){const e=s.mapValue.fields[yv];return lm(e)?qc(e):e}function yo(s){const e=Hs(s.mapValue.fields[vv].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,i,r,o,c,d,p,y,g,E){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ac="(default)";class vo{constructor(e,i){this.projectId=e,this.database=i||Ac}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof vo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="__type__",tS="__max__",lc={mapValue:{}},Ev="__vector__",wc="value";function Gs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?lm(s)?4:nS(s)?9007199254740991:eS(s)?10:11:_t(28295,{value:s})}function Ri(s,e){if(s===e)return!0;const i=Gs(s);if(i!==Gs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return yo(s).isEqual(yo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Hs(o.timestampValue),p=Hs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Fs(o.bytesValue).isEqual(Fs(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ge(o.doubleValue),p=ge(c.doubleValue);return d===p?xc(d)===xc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return jr(s.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(U0(d)!==U0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ri(d[y],p[y])))return!1;return!0})(s,e);default:return _t(52216,{left:s})}}function _o(s,e){return(s.values||[]).find((i=>Ri(i,e)))!==void 0}function zr(s,e){if(s===e)return 0;const i=Gs(s),r=Gs(e);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return B0(s.timestampValue,e.timestampValue);case 4:return B0(yo(s),yo(e));case 5:return Cd(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Fs(c),y=Fs(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const E=Mt(p[g],y[g]);if(E!==0)return E}return Mt(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Mt(ge(c.latitude),ge(d.latitude));return p!==0?p:Mt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return k0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},g=p[wc]?.arrayValue,E=y[wc]?.arrayValue,S=Mt(g?.values?.length||0,E?.values?.length||0);return S!==0?S:k0(g,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===lc.mapValue&&d===lc.mapValue)return 0;if(c===lc.mapValue)return 1;if(d===lc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),g=d.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const w=Cd(y[S],E[S]);if(w!==0)return w;const j=zr(p[y[S]],g[E[S]]);if(j!==0)return j}return Mt(y.length,E.length)})(s.mapValue,e.mapValue);default:throw _t(23264,{he:i})}}function B0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Mt(s,e);const i=Hs(s),r=Hs(e),o=Mt(i.seconds,r.seconds);return o!==0?o:Mt(i.nanos,r.nanos)}function k0(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=zr(i[o],r[o]);if(c)return c}return Mt(i.length,r.length)}function Lr(s){return Nd(s)}function Nd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Hs(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Fs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return yt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=Nd(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Nd(i.fields[d])}`;return o+"}"})(s.mapValue):_t(61005,{value:s})}function mc(s){switch(Gs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qc(s);return e?16+mc(e):16;case 5:return 2*s.stringValue.length;case 6:return Fs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+mc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ks(r.fields,((c,d)=>{o+=c.length+mc(d)})),o})(s.mapValue);default:throw _t(13486,{value:s})}}function Dd(s){return!!s&&"integerValue"in s}function om(s){return!!s&&"arrayValue"in s}function q0(s){return!!s&&"nullValue"in s}function H0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function gc(s){return!!s&&"mapValue"in s}function eS(s){return(s?.mapValue?.fields||{})[_v]?.stringValue===Ev}function oo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ks(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=oo(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=oo(s.arrayValue.values[i]);return e}return{...s}}function nS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===tS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(i)}setAll(e){let i=Qe.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=oo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ks(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new cn(oo(this.value))}}function bv(s){const e=[];return Ks(s.fields,((i,r)=>{const o=new Qe([i]);if(gc(r)){const c=bv(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,i,r,o,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ze(e,0,bt.min(),bt.min(),bt.min(),cn.empty(),0)}static newFoundDocument(e,i,r,o){return new Ze(e,1,i,bt.min(),r,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,bt.min(),bt.min(),cn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,bt.min(),bt.min(),cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i){this.position=e,this.inclusive=i}}function F0(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=yt.comparator(yt.fromName(d.referenceValue),i.key):r=zr(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function G0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ri(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i="asc"){this.field=e,this.dir=i}}function iS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{}class Ie extends Tv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new aS(e,i,r):i==="array-contains"?new oS(e,r):i==="in"?new uS(e,r):i==="not-in"?new cS(e,r):i==="array-contains-any"?new hS(e,r):new Ie(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new rS(e,r):new lS(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(zr(i,this.value)):i!==null&&Gs(this.value)===Gs(i)&&this.matchesComparison(zr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends Tv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ci(e,i)}matches(e){return Sv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sv(s){return s.op==="and"}function xv(s){return sS(s)&&Sv(s)}function sS(s){for(const e of s.filters)if(e instanceof Ci)return!1;return!0}function Vd(s){if(s instanceof Ie)return s.field.canonicalString()+s.op.toString()+Lr(s.value);if(xv(s))return s.filters.map((e=>Vd(e))).join(",");{const e=s.filters.map((i=>Vd(i))).join(",");return`${s.op}(${e})`}}function Av(s,e){return s instanceof Ie?(function(r,o){return o instanceof Ie&&r.op===o.op&&r.field.isEqual(o.field)&&Ri(r.value,o.value)})(s,e):s instanceof Ci?(function(r,o){return o instanceof Ci&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,p)=>c&&Av(d,o.filters[p])),!0):!1})(s,e):void _t(19439)}function wv(s){return s instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${Lr(i.value)}`})(s):s instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(wv).join(" ,")+"}"})(s):"Filter"}class aS extends Ie{constructor(e,i,r){super(e,i,r),this.key=yt.fromName(r.referenceValue)}matches(e){const i=yt.comparator(e.key,this.key);return this.matchesComparison(i)}}class rS extends Ie{constructor(e,i){super(e,"in",i),this.keys=Rv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class lS extends Ie{constructor(e,i){super(e,"not-in",i),this.keys=Rv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Rv(s,e){return(e.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class oS extends Ie{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return om(i)&&_o(i.arrayValue,this.value)}}class uS extends Ie{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&_o(this.value.arrayValue,i)}}class cS extends Ie{constructor(e,i){super(e,"not-in",i)}matches(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_o(this.value.arrayValue,i)}}class hS extends Ie{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>_o(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i=null,r=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Q0(s,e=null,i=[],r=[],o=null,c=null,d=null){return new fS(s,e,i,r,o,c,d)}function um(s){const e=St(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Vd(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),kc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Lr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Lr(r))).join(",")),e.Te=i}return e.Te}function cm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!iS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Av(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!G0(s.startAt,e.startAt)&&G0(s.endAt,e.endAt)}function Md(s){return yt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,i=null,r=[],o=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dS(s,e,i,r,o,c,d,p){return new Hc(s,e,i,r,o,c,d,p)}function hm(s){return new Hc(s)}function Y0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function mS(s){return s.collectionGroup!==null}function uo(s){const e=St(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Cc(c,r))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new Cc(Qe.keyField(),r))}return e.Ie}function Si(s){const e=St(s);return e.Ee||(e.Ee=gS(e,uo(s))),e.Ee}function gS(s,e){if(s.limitType==="F")return Q0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Cc(o.field,c)}));const i=s.endAt?new Rc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Rc(s.startAt.position,s.startAt.inclusive):null;return Q0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Id(s,e,i){return new Hc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Fc(s,e){return cm(Si(s),Si(e))&&s.limitType===e.limitType}function Cv(s){return`${um(Si(s))}|lt:${s.limitType}`}function Rr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>wv(o))).join(", ")}]`),kc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Lr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Lr(o))).join(",")),`Target(${r})`})(Si(s))}; limitType=${s.limitType})`}function Gc(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):yt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of uo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,y){const g=F0(d,p,y);return d.inclusive?g<=0:g<0})(r.startAt,uo(r),o)||r.endAt&&!(function(d,p,y){const g=F0(d,p,y);return d.inclusive?g>=0:g>0})(r.endAt,uo(r),o))})(s,e)}function pS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Nv(s){return(e,i)=>{let r=!1;for(const o of uo(s)){const c=yS(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function yS(s,e,i){const r=s.field.isKeyField()?yt.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),g=p.data.field(c);return y!==null&&g!==null?zr(y,g):_t(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return dv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new oe(yt.comparator);function ts(){return vS}const Dv=new oe(yt.comparator);function so(...s){let e=Dv;for(const i of s)e=e.insert(i.key,i);return e}function Vv(s){let e=Dv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Na(){return co()}function Mv(){return co()}function co(){return new Oa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const _S=new oe(yt.comparator),ES=new Oe(yt.comparator);function It(...s){let e=ES;for(const i of s)e=e.add(i);return e}const bS=new Oe(Mt);function TS(){return bS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function Iv(s){return{integerValue:""+s}}function SS(s,e){return X4(e)?Iv(e):fm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function xS(s,e,i){return s instanceof Nc?(function(o,c){const d={fields:{[pv]:{stringValue:gv},[vv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&lm(c)&&(c=qc(c)),c&&(d.fields[yv]=c),{mapValue:d}})(i,e):s instanceof Eo?jv(s,e):s instanceof bo?zv(s,e):(function(o,c){const d=Ov(o,c),p=K0(d)+K0(o.Ae);return Dd(d)&&Dd(o.Ae)?Iv(p):fm(o.serializer,p)})(s,e)}function AS(s,e,i){return s instanceof Eo?jv(s,e):s instanceof bo?zv(s,e):i}function Ov(s,e){return s instanceof Dc?(function(r){return Dd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Nc extends Qc{}class Eo extends Qc{constructor(e){super(),this.elements=e}}function jv(s,e){const i=Lv(e);for(const r of s.elements)i.some((o=>Ri(o,r)))||i.push(r);return{arrayValue:{values:i}}}class bo extends Qc{constructor(e){super(),this.elements=e}}function zv(s,e){let i=Lv(e);for(const r of s.elements)i=i.filter((o=>!Ri(o,r)));return{arrayValue:{values:i}}}class Dc extends Qc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function K0(s){return ge(s.integerValue||s.doubleValue)}function Lv(s){return om(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function wS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Eo&&o instanceof Eo||r instanceof bo&&o instanceof bo?jr(r.elements,o.elements,Ri):r instanceof Dc&&o instanceof Dc?Ri(r.Ae,o.Ae):r instanceof Nc&&o instanceof Nc})(s.transform,e.transform)}class RS{constructor(e,i){this.version=e,this.transformResults=i}}class $n{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Yc{}function Uv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new dm(s.key,$n.none()):new Ao(s.key,s.data,$n.none());{const i=s.data,r=cn.empty();let o=new Oe(Qe.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Xs(s.key,r,new Tn(o.toArray()),$n.none())}}function CS(s,e,i){s instanceof Ao?(function(o,c,d){const p=o.value.clone(),y=$0(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Xs?(function(o,c,d){if(!pc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=$0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Pv(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ho(s,e,i,r){return s instanceof Ao?(function(c,d,p,y){if(!pc(c.precondition,d))return p;const g=c.value.clone(),E=Z0(c.fieldTransforms,y,d);return g.setAll(E),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(s,e,i,r):s instanceof Xs?(function(c,d,p,y){if(!pc(c.precondition,d))return p;const g=Z0(c.fieldTransforms,y,d),E=d.data;return E.setAll(Pv(c)),E.setAll(g),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,p){return pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function NS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=Ov(r.transform,o||null);c!=null&&(i===null&&(i=cn.empty()),i.set(r.field,c))}return i||null}function X0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&jr(r,o,((c,d)=>wS(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ao extends Yc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends Yc{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Pv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function $0(s,e,i){const r=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);r.set(c.field,AS(d,p,i[o]))}return r}function Z0(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,xS(c,d,e))}return r}class dm extends Yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DS extends Yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&CS(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=ho(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=ho(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Mv();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=Uv(d,p);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&jr(this.mutations,e.mutations,((i,r)=>X0(i,r)))&&jr(this.baseMutations,e.baseMutations,((i,r)=>X0(i,r)))}}class mm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return _S})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new mm(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,zt;function OS(s){switch(s){case nt.OK:return _t(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function Bv(s){if(s===void 0)return Wi("GRPC error has no .code"),nt.UNKNOWN;switch(s){case Ae.OK:return nt.OK;case Ae.CANCELLED:return nt.CANCELLED;case Ae.UNKNOWN:return nt.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return nt.INTERNAL;case Ae.UNAVAILABLE:return nt.UNAVAILABLE;case Ae.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ae.NOT_FOUND:return nt.NOT_FOUND;case Ae.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ae.ABORTED:return nt.ABORTED;case Ae.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ae.DATA_LOSS:return nt.DATA_LOSS;default:return _t(39323,{code:s})}}(zt=Ae||(Ae={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=new Bs([4294967295,4294967295],0);function J0(s){const e=jS().encode(s),i=new nv;return i.update(e),new Uint8Array(i.digest())}function W0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Bs([i,r],0),new Bs([o,c],0)]}class gm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ao(`Invalid padding: ${i}`);if(r<0)throw new ao(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new ao(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Bs.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Bs.fromNumber(r)));return o.compare(zS)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=J0(e),[r,o]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new gm(c,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=J0(e),[r,o]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Kc(bt.min(),o,new oe(Mt),ts(),It())}}class wo{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new wo(r,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class kv{constructor(e,i){this.targetId=e,this.Ce=i}}class qv{constructor(e,i,r=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class t1{constructor(){this.ve=0,this.Fe=e1(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),r=It();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:c})}})),new wo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=e1()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LS{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.Je=oc(),this.He=oc(),this.Ye=new oe(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Md(c))if(r===0){const d=new yt(c.path);this.et(i,d,Ze.newNoDocument(d,bt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Fs(r).toUint8Array()}catch(y){if(y instanceof mv)return Or("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new gm(d,o,c)}catch(y){return Or(y instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Md(p.target)){const y=new yt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=It();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Kc(e,i,this.Ye,this.je,r);return this.je=ts(),this.Je=oc(),this.He=oc(),this.Ye=new oe(Mt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new t1,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Oe(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Oe(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t1),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function oc(){return new oe(yt.comparator)}function e1(){return new oe(yt.comparator)}const US={asc:"ASCENDING",desc:"DESCENDING"},PS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BS={and:"AND",or:"OR"};class kS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Od(s,e){return s.useProto3Json||kc(e)?e:{value:e}}function Vc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function qS(s,e){return Vc(s,e.toTimestamp())}function xi(s){return Ht(!!s,49232),bt.fromTimestamp((function(i){const r=Hs(i);return new ne(r.seconds,r.nanos)})(s))}function pm(s,e){return jd(s,e).canonicalString()}function jd(s,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Fv(s){const e=ee.fromString(s);return Ht(Xv(e),10190,{key:e.toString()}),e}function zd(s,e){return pm(s.databaseId,e.path)}function gd(s,e){const i=Fv(e);if(i.get(1)!==s.databaseId.projectId)throw new mt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new mt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new yt(Qv(i))}function Gv(s,e){return pm(s.databaseId,e)}function HS(s){const e=Fv(s);return e.length===4?ee.emptyPath():Qv(e)}function Ld(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Qv(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function n1(s,e,i){return{name:zd(s,e),fields:i.value.mapValue.fields}}function FS(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,E){return g.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(g){const E=g.code===void 0?nt.UNKNOWN:Bv(g.code);return new mt(E,g.message||"")})(d);i=new qv(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=gd(s,r.document.name),c=xi(r.document.updateTime),d=r.document.createTime?xi(r.document.createTime):bt.min(),p=new cn({mapValue:{fields:r.document.fields}}),y=Ze.newFoundDocument(o,c,d,p),g=r.targetIds||[],E=r.removedTargetIds||[];i=new yc(g,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=gd(s,r.document),c=r.readTime?xi(r.readTime):bt.min(),d=Ze.newNoDocument(o,c),p=r.removedTargetIds||[];i=new yc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=gd(s,r.document),c=r.removedTargetIds||[];i=new yc([],c,o,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new IS(o,c),p=r.targetId;i=new kv(p,d)}}return i}function GS(s,e){let i;if(e instanceof Ao)i={update:n1(s,e.key,e.value)};else if(e instanceof dm)i={delete:zd(s,e.key)};else if(e instanceof Xs)i={update:n1(s,e.key,e.data),updateMask:tx(e.fieldMask)};else{if(!(e instanceof DS))return _t(16599,{Vt:e.type});i={verify:zd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Nc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Dc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:qS(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,e.precondition)),i}function QS(s,e){return s&&s.length>0?(Ht(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?xi(o.updateTime):xi(c);return d.isEqual(bt.min())&&(d=xi(c)),new RS(d,o.transformResults||[])})(i,e)))):[]}function YS(s,e){return{documents:[Gv(s,e.path)]}}function KS(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Gv(s,o);const c=(function(g){if(g.length!==0)return Kv(Ci.create(g,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:Cr(w.field),direction:ZS(w.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Od(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:i,parent:o}}function XS(s){let e=HS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ht(r===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const w=Yv(S);return w instanceof Ci&&xv(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((w=>(function(Q){return new Cc(Nr(Q.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(w)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let w;return w=typeof S=="object"?S.value:S,kc(w)?null:w})(i.limit));let y=null;i.startAt&&(y=(function(S){const w=!!S.before,j=S.values||[];return new Rc(j,w)})(i.startAt));let g=null;return i.endAt&&(g=(function(S){const w=!S.before,j=S.values||[];return new Rc(j,w)})(i.endAt)),dS(e,o,d,c,p,"F",y,g)}function $S(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Yv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Nr(i.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Nr(i.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Nr(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Nr(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ie.create(Nr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>Yv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function ZS(s){return US[s]}function JS(s){return PS[s]}function WS(s){return BS[s]}function Cr(s){return{fieldPath:s.canonicalString()}}function Nr(s){return Qe.fromServerFormat(s.fieldPath)}function Kv(s){return s instanceof Ie?(function(i){if(i.op==="=="){if(H0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NAN"}};if(q0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NOT_NAN"}};if(q0(i.value))return{unaryFilter:{field:Cr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cr(i.field),op:JS(i.op),value:i.value}}})(s):s instanceof Ci?(function(i){const r=i.getFilters().map((o=>Kv(o)));return r.length===1?r[0]:{compositeFilter:{op:WS(i.op),filters:r}}})(s):_t(54877,{filter:s})}function tx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Xv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,i,r,o,c=bt.min(),d=bt.min(),p=Ye.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.yt=e}}function nx(s){const e=XS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.Cn=new sx}addToCollectionParentIndex(e,i){return this.Cn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(qs.min())}updateCollectionGroup(e,i,r){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class sx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Oe(ee.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Oe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$v=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un($v,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ur(0)}static cr(){return new Ur(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="LruGarbageCollector",ax=1048576;function a1([s,e],[i,r]){const o=Mt(s,i);return o===0?Mt(e,r):o}class rx{constructor(e){this.Ir=e,this.buffer=new Oe(a1),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();a1(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lx{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(s1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Kr(i)?lt(s1,"Ignoring IndexedDB error during garbage collection: ",i):await Yr(i)}await this.Vr(3e5)}))}}class ox{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Bc.ce);const r=new rx(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(i1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i1):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,p,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(g=Date.now(),wr()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function ux(s,e){return new ox(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.changes=new Oa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?W.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&ho(r.mutation,o,Tn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=It()){const o=Na();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=so();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Na();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,It())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let c=ts();const d=co(),p=(function(){return co()})();return i.forEach(((y,g)=>{const E=r.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Xs)?c=c.insert(g.key,g):E!==void 0?(d.set(g.key,E.mutation.getFieldMask()),ho(E.mutation,g,E.mutation.getFieldMask(),ne.now())):d.set(g.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((g,E)=>d.set(g,E))),i.forEach(((g,E)=>p.set(g,new hx(E,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=co();let o=new oe(((d,p)=>d-p)),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const g=i.get(y);if(g===null)return;let E=r.get(y)||Tn.empty();E=p.applyToLocalView(g,E),r.set(y,E);const S=(o.get(p.batchId)||It()).add(y);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,E=y.value,S=Mv();E.forEach((w=>{if(!c.has(w)){const j=Uv(i.get(w),r.get(w));j!==null&&S.set(w,j),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,S))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):W.resolve(Na());let p=po,y=c;return d.next((g=>W.forEach(g,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{y=y.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,y,g,It()))).next((E=>({batchId:p,changes:Vv(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new yt(i)).next((r=>{let o=so();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=so();return this.indexManager.getCollectionParents(e,c).next((p=>W.forEach(p,(y=>{const g=(function(S,w){return new Hc(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((E=>{E.forEach(((S,w)=>{d=d.insert(S,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((y,g)=>{const E=g.getKey();d.get(E)===null&&(d=d.insert(E,Ze.newInvalidDocument(E)))}));let p=so();return d.forEach(((y,g)=>{const E=c.get(y);E!==void 0&&ho(E.mutation,g,Tn.empty(),ne.now()),Gc(i,g)&&(p=p.insert(y,g))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:nx(o.bundledQuery),readTime:xi(o.readTime)}})(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.overlays=new oe(yt.comparator),this.qr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Na();return W.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),W.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,i,r){const o=Na(),c=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new oe(((g,E)=>g-E));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let E=c.get(g.largestBatchId);E===null&&(E=Na(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>p.set(g,E))),!(p.size()>=o)););return W.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new MS(i,r));let c=this.qr.get(i);c===void 0&&(c=It(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.Qr=new Oe(Ue.$r),this.Ur=new Oe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new yt(new ee([])),r=new Ue(i,e),o=new Ue(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new yt(new ee([])),r=new Ue(i,e),o=new Ue(i,e+1);let c=It();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ue(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return yt.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||yt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Ue.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VS(c,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ue(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?rm:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Oe(Mt);return i.forEach((o=>{const c=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;yt.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new yt(c),0);let p=new Oe(Mt);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(p=p.add(y.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(i.mutations,(o=>{const c=new Ue(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Zr.firstAfterOrEqual(r);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.ri=e,this.docs=(function(){return new oe(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return W.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let r=ts();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))})),W.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=ts();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||G4(F4(E),r)<=0||(o.has(E.key)||Gc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,r,o){_t(9500)}ii(e,i){return W.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new vx(this)}getSize(e){return W.resolve(this.size)}}class vx extends cx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),W.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.persistence=e,this.si=new Oa((i=>um(i)),cm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new ym,this.targetCount=0,this.ai=Ur.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),W.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ur(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.Pr(i),W.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),W.waitFor(c).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return W.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),W.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return W.resolve(r)}containsKey(e,i){return W.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i){this.ui={},this.overlays={},this.ci=new Bc(0),this.li=!1,this.li=!0,this.hi=new gx,this.referenceDelegate=e(this),this.Pi=new _x(this),this.indexManager=new ix,this.remoteDocumentCache=(function(o){return new yx(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ex(i),this.Ii=new dx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new mx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new px(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){lt("MemoryPersistence","Starting transaction:",e);const o=new Ex(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Ex extends Y4{constructor(e){super(),this.currentSequenceNumber=e}}class vm{constructor(e){this.persistence=e,this.Ri=new ym,this.Vi=null}static mi(e){return new vm(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),W.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const o=yt.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Mc{constructor(e,i){this.persistence=e,this.pi=new Oa((r=>$4(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=ux(this,i)}static mi(e,i){return new Mc(e,i)}Ei(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return W.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?W.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=mc(e.data.value)),i}br(e,i,r){return W.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=It(),o=It();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new _m(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fT()?8:K4(cT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new bx;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(wr()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Rr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(wr()<=Lt.DEBUG&&lt("QueryEngine","Query:",Rr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(wr()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Rr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(i))):W.resolve())}ys(e,i){if(Y0(i))return W.resolve(null);let r=Si(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Id(i,null,"F"),r=Si(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=It(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const g=this.Ds(i,p);return this.Cs(i,g,d,y.readTime)?this.ys(e,Id(i,null,"F")):this.vs(e,g,i,y)}))))})))))}ws(e,i,r,o){return Y0(i)||o.isEqual(bt.min())?W.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?W.resolve(null):(wr()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rr(i)),this.vs(e,d,i,H4(o,po)).next((p=>p)))}))}Ds(e,i){let r=new Oe(Nv(e));return i.forEach(((o,c)=>{Gc(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return wr()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Rr(i)),this.ps.getDocumentsMatchingQuery(e,i,qs.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="LocalStore",Sx=3e8;class xx{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Mt),this.xs=new Oa((c=>um(c)),cm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Ax(s,e,i,r){return new xx(s,e,i,r)}async function Jv(s,e){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=It();for(const g of o){d.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of c){p.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(r,y).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function wx(s,e){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,g,E){const S=g.batch,w=S.keys();let j=W.resolve();return w.forEach((Q=>{j=j.next((()=>E.getEntry(y,Q))).next((K=>{const H=g.docVersions.get(Q);Ht(H!==null,48541),K.version.compareTo(H)<0&&(S.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=It();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Wv(s){const e=St(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Rx(s,e){const i=St(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let j=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken(Ye.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,r)),o=o.insert(S,j),(function(K,H,tt){return K.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Sx?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(w,j,E)&&p.push(i.Pi.updateTargetData(c,j))}));let y=ts(),g=It();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(Cx(c,d,e.documentUpdates).next((E=>{y=E.ks,g=E.qs}))),!r.isEqual(bt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(E)}return W.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,g))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function Cx(s,e,i){let r=It(),o=It();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ts();return i.forEach(((p,y)=>{const g=c.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(bt.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):lt(Em,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function Nx(s,e){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Dx(s,e){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,W.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new zs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Ud(s,e,i){const r=St(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Kr(d))throw d;lt(Em,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function r1(s,e,i){const r=St(s);let o=bt.min(),c=It();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,g,E){const S=St(y),w=S.xs.get(E);return w!==void 0?W.resolve(S.Ms.get(w)):S.Pi.getTargetData(g,E)})(r,d,Si(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?c:It()))).next((p=>(Vx(r,pS(e),p),{documents:p,Qs:c})))))}function Vx(s,e,i){let r=s.Os.get(e)||bt.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class l1{constructor(){this.activeTargetIds=TS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mx{constructor(){this.Mo=new l1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l1,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="ConnectivityMonitor";class u1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(o1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(o1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function Pd(){return uc===null?uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="RestConnection",Ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Ac?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=Pd(),p=this.zo(e,i.toUriEncodedString());lt(pd,`Sending RPC '${e}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:g}=new URL(p),E=em(g);return this.Jo(e,p,y,r,E).then((S=>(lt(pd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Or(pd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=Ox[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class Lx extends jx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=Pd();return new Promise(((p,y)=>{const g=new iv;g.setWithCredentials(!0),g.listenOnce(sv.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case dc.NO_ERROR:const S=g.getResponseJson();lt(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case dc.TIMEOUT:lt(Xe,`RPC '${e}' ${d} timed out`),y(new mt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const w=g.getStatus();if(lt(Xe,`RPC '${e}' ${d} failed with status:`,w,"response text:",g.getResponseText()),w>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const Q=j?.error;if(Q&&Q.status&&Q.message){const K=(function(tt){const it=tt.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(it)>=0?it:nt.UNKNOWN})(Q.status);y(new mt(K,Q.message))}else y(new mt(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new mt(nt.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{lt(Xe,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);lt(Xe,`RPC '${e}' ${d} sending request:`,o),g.send(i,"POST",E,r,15)}))}T_(e,i,r){const o=Pd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=lv(),p=rv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const E=c.join("");lt(Xe,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=d.createWebChannel(E,y);this.I_(S);let w=!1,j=!1;const Q=new zx({Yo:H=>{j?lt(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(lt(Xe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),lt(Xe,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),K=(H,tt,it)=>{H.listen(tt,(et=>{try{it(et)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return K(S,io.EventType.OPEN,(()=>{j||(lt(Xe,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),K(S,io.EventType.CLOSE,(()=>{j||(j=!0,lt(Xe,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(S))})),K(S,io.EventType.ERROR,(H=>{j||(j=!0,Or(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Q.a_(new mt(nt.UNAVAILABLE,"The operation could not be completed")))})),K(S,io.EventType.MESSAGE,(H=>{if(!j){const tt=H.data[0];Ht(!!tt,16349);const it=tt,et=it?.error||it[0]?.error;if(et){lt(Xe,`RPC '${e}' stream ${o} received error:`,et);const ot=et.status;let ct=(function(A){const R=Ae[A];if(R!==void 0)return Bv(R)})(ot),dt=et.message;ct===void 0&&(ct=nt.INTERNAL,dt="Unknown error status: "+ot+" with message "+et.message),j=!0,Q.a_(new mt(ct,dt)),S.close()}else lt(Xe,`RPC '${e}' stream ${o} received:`,tt),Q.u_(tt)}})),K(p,av.STAT_EVENT,(H=>{H.stat===Rd.PROXY?lt(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Rd.NOPROXY&&lt(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(s){return new kS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="PersistentStream";class e_{constructor(e,i,r,o,c,d,p,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new mt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(c1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(lt(c1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ux extends e_{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=FS(this.serializer,e),r=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?xi(d.readTime):bt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Ld(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Md(y)?{documents:YS(c,y)}:{query:KS(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Hv(c,d.resumeToken);const g=Od(c,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=Vc(c,d.snapshotVersion.toTimestamp());const g=Od(c,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const r=$S(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Ld(this.serializer),i.removeTarget=e,this.q_(i)}}class Px extends e_{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=QS(e.writeResults,e.commitTime),r=xi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Ld(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>GS(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{}class kx extends Bx{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,jd(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(nt.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,jd(i,r),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(nt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class Hx{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ja(this)&&(lt(Ia,"Restarting streams for network reachability change."),await(async function(y){const g=St(y);g.Ea.add(4),await Ro(g),g.Ra.set("Unknown"),g.Ea.delete(4),await $c(g)})(this))}))})),this.Ra=new qx(r,o)}}async function $c(s){if(ja(s))for(const e of s.da)await e(!0)}async function Ro(s){for(const e of s.da)await e(!1)}function n_(s,e){const i=St(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),xm(i)?Sm(i):Xr(i).O_()&&Tm(i,e))}function bm(s,e){const i=St(s),r=Xr(i);i.Ia.delete(e),r.O_()&&i_(i,e),i.Ia.size===0&&(r.O_()?r.L_():ja(i)&&i.Ra.set("Unknown"))}function Tm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Xr(s).Y_(e)}function i_(s,e){s.Va.Ue(e),Xr(s).Z_(e)}function Sm(s){s.Va=new LS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Xr(s).start(),s.Ra.ua()}function xm(s){return ja(s)&&!Xr(s).x_()&&s.Ia.size>0}function ja(s){return St(s).Ea.size===0}function s_(s){s.Va=void 0}async function Fx(s){s.Ra.set("Online")}async function Gx(s){s.Ia.forEach(((e,i)=>{Tm(s,e)}))}async function Qx(s,e){s_(s),xm(s)?(s.Ra.ha(e),Sm(s)):s.Ra.set("Unknown")}async function Yx(s,e,i){if(s.Ra.set("Online"),e instanceof qv&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(r){lt(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ic(s,r)}else if(e instanceof yc?s.Va.Ze(e):e instanceof kv?s.Va.st(e):s.Va.tt(e),!i.isEqual(bt.min()))try{const r=await Wv(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(g);E&&c.Ia.set(g,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,g)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),i_(c,y);const S=new zs(E.target,y,g,E.sequenceNumber);Tm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){lt(Ia,"Failed to raise snapshot:",r),await Ic(s,r)}}async function Ic(s,e,i){if(!Kr(e))throw e;s.Ea.add(1),await Ro(s),s.Ra.set("Offline"),i||(i=()=>Wv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{lt(Ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await $c(s)}))}function a_(s,e){return e().catch((i=>Ic(s,i,e)))}async function Zc(s){const e=St(s),i=Qs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rm;for(;Kx(e);)try{const o=await Nx(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,Xx(e,o)}catch(o){await Ic(e,o)}r_(e)&&l_(e)}function Kx(s){return ja(s)&&s.Ta.length<10}function Xx(s,e){s.Ta.push(e);const i=Qs(s);i.O_()&&i.X_&&i.ea(e.mutations)}function r_(s){return ja(s)&&!Qs(s).x_()&&s.Ta.length>0}function l_(s){Qs(s).start()}async function $x(s){Qs(s).ra()}async function Zx(s){const e=Qs(s);for(const i of s.Ta)e.ea(i.mutations)}async function Jx(s,e,i){const r=s.Ta.shift(),o=mm.from(r,e,i);await a_(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Zc(s)}async function Wx(s,e){e&&Qs(s).X_&&await(async function(r,o){if((function(d){return OS(d)&&d!==nt.ABORTED})(o.code)){const c=r.Ta.shift();Qs(r).B_(),await a_(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Zc(r)}})(s,e),r_(s)&&l_(s)}async function h1(s,e){const i=St(s);i.asyncQueue.verifyOperationInProgress(),lt(Ia,"RemoteStore received new credentials");const r=ja(i);i.Ea.add(3),await Ro(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await $c(i)}async function tA(s,e){const i=St(s);e?(i.Ea.delete(2),await $c(i)):e||(i.Ea.add(2),await Ro(i),i.Ra.set("Unknown"))}function Xr(s){return s.ma||(s.ma=(function(i,r,o){const c=St(i);return c.sa(),new Ux(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:Fx.bind(null,s),t_:Gx.bind(null,s),r_:Qx.bind(null,s),H_:Yx.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),xm(s)?Sm(s):s.Ra.set("Unknown")):(await s.ma.stop(),s_(s))}))),s.ma}function Qs(s){return s.fa||(s.fa=(function(i,r,o){const c=St(i);return c.sa(),new Px(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:$x.bind(null,s),r_:Wx.bind(null,s),ta:Zx.bind(null,s),na:Jx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Zc(s)):(await s.fa.stop(),s.Ta.length>0&&(lt(Ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,p=new Am(e,i,d,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(s,e){if(Wi("AsyncQueue",`${e}: ${s}`),Kr(s))return new mt(nt.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{static emptySet(e){return new Mr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||yt.comparator(i.key,r.key):(i,r)=>yt.comparator(i.key,r.key),this.keyedMap=so(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Mr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Mr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.ga=new oe(yt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Pr{constructor(e,i,r,o,c,d,p,y,g){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Pr(e,i,Mr.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nA{constructor(){this.queries=d1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=St(i),c=o.queries;o.queries=d1(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new mt(nt.ABORTED,"Firestore shutting down"))}}function d1(){return new Oa((s=>Cv(s)),Fc)}async function iA(s,e){const i=St(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new eA,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=wm(d,`Initialization of query '${Rr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Rm(i)}async function sA(s,e){const i=St(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function aA(s,e){const i=St(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Rm(i)}function rA(s,e,i){const r=St(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function Rm(s){s.Ca.forEach((e=>{e.next()}))}var Bd,m1;(m1=Bd||(Bd={})).Ma="default",m1.Cache="cache";class lA{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Pr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Pr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e){this.key=e}}class u_{constructor(e){this.key=e}}class oA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=Nv(e),this.tu=new Mr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new f1,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),j=Gc(this.query,S)?S:null,Q=!!w&&this.mutatedKeys.has(w.key),K=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;w&&j?w.data.isEqual(j.data)?Q!==K&&(r.track({type:3,doc:j}),H=!0):this.su(w,j)||(r.track({type:2,doc:j}),H=!0,(y&&this.eu(j,y)>0||g&&this.eu(j,g)<0)&&(p=!0)):!w&&j?(r.track({type:0,doc:j}),H=!0):w&&!j&&(r.track({type:1,doc:w}),H=!0,(y||g)&&(p=!0)),H&&(j?(d=d.add(j),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(j,Q){const K=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:H})}};return K(j)-K(Q)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,d.length!==0||g?{snapshot:new Pr(this.query,e.tu,c,d,e.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new u_(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new o_(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Pr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cm="SyncEngine";class uA{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class cA{constructor(e){this.key=e,this.hu=!1}}class hA{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Oa((p=>Cv(p)),Fc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(yt.comparator),this.Au=new Map,this.Ru=new ym,this.Vu={},this.mu=new Map,this.fu=Ur.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fA(s,e,i=!0){const r=g_(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await c_(r,e,i,!0),o}async function dA(s,e){const i=g_(s);await c_(i,e,!0,!1)}async function c_(s,e,i,r){const o=await Dx(s.localStore,Si(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await mA(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&n_(s.remoteStore,o),p}async function mA(s,e,i,r,o){s.pu=(S,w,j)=>(async function(K,H,tt,it){let et=H.view.ru(tt);et.Cs&&(et=await r1(K.localStore,H.query,!1).then((({documents:C})=>H.view.ru(C,et))));const ot=it&&it.targetChanges.get(H.targetId),ct=it&&it.targetMismatches.get(H.targetId)!=null,dt=H.view.applyChanges(et,K.isPrimaryClient,ot,ct);return p1(K,H.targetId,dt.au),dt.snapshot})(s,S,w,j);const c=await r1(s.localStore,e,!0),d=new oA(e,c.Qs),p=d.ru(c.documents),y=wo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),g=d.applyChanges(p,s.isPrimaryClient,y);p1(s,i,g.au);const E=new uA(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),g.snapshot}async function gA(s,e,i){const r=St(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Fc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Ud(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&bm(r.remoteStore,o.targetId),kd(r,o.targetId)})).catch(Yr)):(kd(r,o.targetId),await Ud(r.localStore,o.targetId,!0))}async function pA(s,e){const i=St(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),bm(i.remoteStore,r.targetId))}async function yA(s,e,i){const r=xA(s);try{const o=await(function(d,p){const y=St(d),g=ne.now(),E=p.reduce(((j,Q)=>j.add(Q.key)),It());let S,w;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let Q=ts(),K=It();return y.Ns.getEntries(j,E).next((H=>{Q=H,Q.forEach(((tt,it)=>{it.isValidDocument()||(K=K.add(tt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,Q))).next((H=>{S=H;const tt=[];for(const it of p){const et=NS(it,S.get(it.key).overlayedDocument);et!=null&&tt.push(new Xs(it.key,et,bv(et.value.mapValue),$n.exists(!0)))}return y.mutationQueue.addMutationBatch(j,g,tt,p)})).next((H=>{w=H;const tt=H.applyToLocalDocumentSet(S,K);return y.documentOverlayCache.saveOverlays(j,H.batchId,tt)}))})).then((()=>({batchId:w.batchId,changes:Vv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let g=d.Vu[d.currentUser.toKey()];g||(g=new oe(Mt)),g=g.insert(p,y),d.Vu[d.currentUser.toKey()]=g})(r,o.batchId,i),await Co(r,o.changes),await Zc(r.remoteStore)}catch(o){const c=wm(o,"Failed to persist write");i.reject(c)}}async function h_(s,e){const i=St(s);try{const r=await Rx(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Co(i,r,e)}catch(r){await Yr(r)}}function g1(s,e,i){const r=St(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=St(d);y.onlineState=p;let g=!1;y.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(p)&&(g=!0)})),g&&Rm(y)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vA(s,e,i){const r=St(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new oe(yt.comparator);d=d.insert(c,Ze.newNoDocument(c,bt.min()));const p=It().add(c),y=new Kc(bt.min(),new Map,new oe(Mt),d,p);await h_(r,y),r.du=r.du.remove(c),r.Au.delete(e),Nm(r)}else await Ud(r.localStore,e,!1).then((()=>kd(r,e,i))).catch(Yr)}async function _A(s,e){const i=St(s),r=e.batch.batchId;try{const o=await wx(i.localStore,e);d_(i,r,null),f_(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Co(i,o)}catch(o){await Yr(o)}}async function EA(s,e,i){const r=St(s);try{const o=await(function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,p).next((S=>(Ht(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(g,S)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(r.localStore,e);d_(r,e,i),f_(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Co(r,o)}catch(o){await Yr(o)}}function f_(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function d_(s,e,i){const r=St(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function kd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||m_(s,r)}))}function m_(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(bm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Nm(s))}function p1(s,e,i){for(const r of i)r instanceof o_?(s.Ru.addReference(r.key,e),bA(s,r)):r instanceof u_?(lt(Cm,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||m_(s,r.key)):_t(19791,{wu:r})}function bA(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(lt(Cm,"New document in limbo: "+i),s.Eu.add(r),Nm(s))}function Nm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new yt(ee.fromString(e)),r=s.fu.next();s.Au.set(r,new cA(i)),s.du=s.du.insert(i,r),n_(s.remoteStore,new zs(Si(hm(i.path)),r,"TargetPurposeLimboResolution",Bc.ce))}}async function Co(s,e,i){const r=St(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,e,i).then((g=>{if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=_m.As(y.targetId,g);c.push(E)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(y,g){const E=St(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(g,(w=>W.forEach(w.Es,(j=>E.persistence.referenceDelegate.addReference(S,w.targetId,j))).next((()=>W.forEach(w.ds,(j=>E.persistence.referenceDelegate.removeReference(S,w.targetId,j)))))))))}catch(S){if(!Kr(S))throw S;lt(Em,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const j=E.Ms.get(w),Q=j.snapshotVersion,K=j.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(w,K)}}})(r.localStore,c))}async function TA(s,e){const i=St(s);if(!i.currentUser.isEqual(e)){lt(Cm,"User change. New user:",e.toKey());const r=await Jv(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new mt(nt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Co(i,r.Ls)}}function SA(s,e){const i=St(s),r=i.Au.get(e);if(r&&r.hu)return It().add(r.key);{let o=It();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function g_(s){const e=St(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=h_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vA.bind(null,e),e.Pu.H_=aA.bind(null,e.eventManager),e.Pu.yu=rA.bind(null,e.eventManager),e}function xA(s){const e=St(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_A.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EA.bind(null,e),e}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Ax(this.persistence,new Tx,e.initialUser,this.serializer)}Cu(e){return new Zv(vm.mi,this.serializer)}Du(e){return new Mx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class AA extends Oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof Mc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lx(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Zv((r=>Mc.mi(r,i)),this.serializer)}}class qd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TA.bind(null,this.syncEngine),await tA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nA})()}createDatastore(e){const i=Xc(e.databaseInfo.databaseId),r=(function(c){return new Lx(c)})(e.databaseInfo);return(function(c,d,p,y){return new kx(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,p){return new Hx(r,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>g1(this.syncEngine,i,0)),(function(){return u1.v()?new u1:new Ix})())}createSyncEngine(e,i){return(function(o,c,d,p,y,g,E){const S=new hA(o,c,d,p,y,g);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=St(i);lt(Ia,"RemoteStore shutting down."),r.Ea.add(5),await Ro(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class RA{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{lt(Ys,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(lt(Ys,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=wm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function vd(s,e){s.asyncQueue.verifyOperationInProgress(),lt(Ys,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Jv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function y1(s,e){s.asyncQueue.verifyOperationInProgress();const i=await CA(s);lt(Ys,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>h1(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>h1(e.remoteStore,o))),s._onlineComponents=e}async function CA(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){lt(Ys,"Using user provided OfflineComponentProvider");try{await vd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Or("Error using user provided cache. Falling back to memory cache: "+i),await vd(s,new Oc)}}else lt(Ys,"Using default OfflineComponentProvider"),await vd(s,new AA(void 0));return s._offlineComponents}async function p_(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(lt(Ys,"Using user provided OnlineComponentProvider"),await y1(s,s._uninitializedComponentsProvider._online)):(lt(Ys,"Using default OnlineComponentProvider"),await y1(s,new qd))),s._onlineComponents}function NA(s){return p_(s).then((e=>e.syncEngine))}async function v1(s){const e=await p_(s),i=e.eventManager;return i.onListen=fA.bind(null,e.syncEngine),i.onUnlisten=gA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=dA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=pA.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="firestore.googleapis.com",E1=!0;class b1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new mt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v_,this.ssl=E1}else this.host=e.host,this.ssl=e.ssl??E1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$v;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ax)throw new mt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y_(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new mt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new M4;switch(r.type){case"firstParty":return new z4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new mt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=_1.get(i);r&&(lt("ComponentProvider","Removing Datastore"),_1.delete(i),r.terminate())})(this),Promise.resolve()}}function DA(s,e,i,r={}){s=Xi(s,Jc);const o=em(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(aT(`https://${p}`),uT("Firestore",!0)),c.host!==v_&&c.host!==p&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:r};if(!bc(y,d)&&(s._setSettings(y),r.mockUserToken)){let g,E;if(typeof r.mockUserToken=="string")g=r.mockUserToken,E=$e.MOCK_USER;else{g=rT(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new mt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(S)}s._authCredentials=new I4(new uv(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wc(this.firestore,e,this._query)}}class Re{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Re(this.firestore,e,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(xo(i,Re._jsonSchema))return new Re(e,r||null,new yt(ee.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:we("string",Re._jsonSchemaVersion),referencePath:we("string")};class ks extends Wc{constructor(e,i,r){super(e,i,hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Re(this.firestore,null,new yt(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function __(s,e,...i){if(s=Zi(s),cv("collection","path",e),s instanceof Jc){const r=ee.fromString(e,...i);return O0(r),new ks(s,null,r)}{if(!(s instanceof Re||s instanceof ks))throw new mt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(e,...i));return O0(r),new ks(s.firestore,null,r)}}function Ra(s,e,...i){if(s=Zi(s),arguments.length===1&&(e=sm.newId()),cv("doc","path",e),s instanceof Jc){const r=ee.fromString(e,...i);return I0(r),new Re(s,null,new yt(r))}{if(!(s instanceof Re||s instanceof ks))throw new mt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(e,...i));return I0(r),new Re(s.firestore,s instanceof ks?s.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="AsyncQueue";class S1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t_(this,"async_queue_retry"),this._c=()=>{const r=yd();r&&lt(T1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Da;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Kr(e))throw e;lt(T1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",x1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Am.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:x1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function x1(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Br extends Jc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new S1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S1(e),this._firestoreClient=void 0,await e}}}function VA(s,e){const i=typeof s=="object"?s:_4(),r=typeof s=="string"?s:Ac,o=m4(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=iT("firestore");c&&DA(o,...c)}return o}function E_(s){if(s._terminated)throw new mt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MA(s),s._firestoreClient}function MA(s){const e=s._freezeSettings(),i=(function(o,c,d,p){return new W4(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,y_(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new RA(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Ye.fromBase64String(e))}catch(i){throw new mt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xo(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:we("string",Ln._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new mt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new mt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new mt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(e){if(xo(e,Ai._jsonSchema))return new Ai(e.latitude,e.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:we("string",Ai._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xo(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new wi(e.vectorValues);throw new mt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:we("string",wi._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=/^__.*__$/;class OA{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ao(e,this.data,i,this.fieldTransforms)}}class b_{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Xs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function T_(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class Vm{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(T_(this.Ac)&&IA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jA{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Xc(e)}Cc(e,i,r,o=!1){return new Vm({Ac:e,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S_(s){const e=s._freezeSettings(),i=Xc(s._databaseId);return new jA(s._databaseId,!!e.ignoreUndefinedProperties,i)}function zA(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);Mm("Data must be an object, but it was:",d,r);const p=x_(r,d);let y,g;if(c.merge)y=new Tn(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const w=Hd(e,S,i);if(!d.contains(w))throw new mt(nt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);w_(E,w)||E.push(w)}y=new Tn(E),g=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,g=d.fieldTransforms;return new OA(new cn(p),y,g)}class eh extends Dm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function LA(s,e,i,r){const o=s.Cc(1,e,i);Mm("Data must be an object, but it was:",o,r);const c=[],d=cn.empty();Ks(r,((y,g)=>{const E=Im(e,y,i);g=Zi(g);const S=o.yc(E);if(g instanceof eh)c.push(E);else{const w=nh(g,S);w!=null&&(c.push(E),d.set(E,w))}}));const p=new Tn(c);return new b_(d,p,o.fieldTransforms)}function UA(s,e,i,r,o,c){const d=s.Cc(1,e,i),p=[Hd(e,r,i)],y=[o];if(c.length%2!=0)throw new mt(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)p.push(Hd(e,c[w])),y.push(c[w+1]);const g=[],E=cn.empty();for(let w=p.length-1;w>=0;--w)if(!w_(g,p[w])){const j=p[w];let Q=y[w];Q=Zi(Q);const K=d.yc(j);if(Q instanceof eh)g.push(j);else{const H=nh(Q,K);H!=null&&(g.push(j),E.set(j,H))}}const S=new Tn(g);return new b_(E,S,d.fieldTransforms)}function nh(s,e){if(A_(s=Zi(s)))return Mm("Unsupported field value:",e,s),x_(s,e);if(s instanceof Dm)return(function(r,o){if(!T_(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const p of r){let y=nh(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Zi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ne.fromDate(r);return{timestampValue:Vc(o.serializer,c)}}if(r instanceof ne){const c=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vc(o.serializer,c)}}if(r instanceof Ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:Hv(o.serializer,r._byteString)};if(r instanceof Re){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof wi)return(function(d,p){return{mapValue:{fields:{[_v]:{stringValue:Ev},[wc]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return fm(p.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${am(r)}`)})(s,e)}function x_(s,e){const i={};return dv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(s,((r,o)=>{const c=nh(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function A_(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ne||s instanceof Ai||s instanceof Ln||s instanceof Re||s instanceof Dm||s instanceof wi)}function Mm(s,e,i){if(!A_(i)||!hv(i)){const r=am(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Hd(s,e,i){if((e=Zi(e))instanceof th)return e._internalPath;if(typeof e=="string")return Im(s,e);throw jc("Field path arguments must be of type string or ",s,!1,void 0,i)}const PA=new RegExp("[~\\*/\\[\\]]");function Im(s,e,i){if(e.search(PA)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new th(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function jc(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new mt(nt.INVALID_ARGUMENT,p+s+y)}function w_(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(C_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class BA extends R_{data(){return super.data()}}function C_(s,e){return typeof e=="string"?Im(s,e):e instanceof th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new mt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qA{convertValue(e,i="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ks(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[wc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new wi(i)}convertGeoPoint(e){return new Ai(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=qc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const i=Hs(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ee.fromString(e);Ht(Xv(r),9688,{name:e});const o=new vo(r.get(1),r.get(3)),c=new yt(r.popFirst(5));return o.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class ro{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends R_{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(C_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Va._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:we("string",Va._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class vc extends Va{data(e={}){return super.data(e)}}class Ir{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new vc(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ro(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ro(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:FA(p.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ir._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FA(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}Ir._jsonSchemaVersion="firestore/querySnapshot/1.0",Ir._jsonSchema={type:we("string",Ir._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class N_ extends qA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function w1(s,e,i){s=Xi(s,Re);const r=Xi(s.firestore,Br),o=HA(s.converter,e);return Om(r,[zA(S_(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,$n.none())])}function cc(s,e,i,...r){s=Xi(s,Re);const o=Xi(s.firestore,Br),c=S_(o);let d;return d=typeof(e=Zi(e))=="string"||e instanceof th?UA(c,"updateDoc",s._key,e,i,r):LA(c,"updateDoc",s._key,e),Om(o,[d.toMutation(s._key,$n.exists(!0))])}function GA(s){return Om(Xi(s.firestore,Br),[new dm(s._key,$n.none())])}function R1(s,...e){s=Zi(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||A1(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(A1(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Re)d=Xi(s.firestore,Br),p=hm(s._key.path),c={next:y=>{e[r]&&e[r](QA(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=Xi(s,Wc);d=Xi(y.firestore,Br),p=y._query;const g=new N_(d);c={next:E=>{e[r]&&e[r](new Ir(d,g,y,E))},error:e[r+1],complete:e[r+2]},kA(s._query)}return(function(g,E,S,w){const j=new wA(w),Q=new lA(E,j,S);return g.asyncQueue.enqueueAndForget((async()=>iA(await v1(g),Q))),()=>{j.Nu(),g.asyncQueue.enqueueAndForget((async()=>sA(await v1(g),Q)))}})(E_(d),p,o,c)}function Om(s,e){return(function(r,o){const c=new Da;return r.asyncQueue.enqueueAndForget((async()=>yA(await NA(r),o,c))),c.promise})(E_(s),e)}function QA(s,e,i){const r=i.docs.get(e._key),o=new N_(s);return new Va(s,o,e._key,r,new ro(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Qr=o})(v4),Sc(new mo("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Br(new O4(r.getProvider("auth-internal")),new L4(d,r.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(g.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Vr(N0,D0,e),Vr(N0,D0,"esm2020")})();const YA={apiKey:"AIzaSyCG0ogFYqNhUrYs5ffm7ATC7KLowmOkes8",authDomain:"fezeaix-commission.firebaseapp.com",projectId:"fezeaix-commission",storageBucket:"fezeaix-commission.firebasestorage.app",messagingSenderId:"277309240523",appId:"1:277309240523:web:280f97eed392384256574e",measurementId:"G-PQY9EZ3JV9"},KA=W1(YA),js=VA(KA),D_=P.createContext(null),Sn=()=>P.useContext(D_),XA=__(js,"users"),C1=__(js,"commissions"),$A=({children:s})=>{const[e,i]=P.useState(null),[r,o]=P.useState(!0),[c,d]=P.useState([]),[p,y]=P.useState([]);P.useEffect(()=>{const et=localStorage.getItem("currentUser");et&&i(JSON.parse(et)),o(!1)},[]),P.useEffect(()=>{const et=R1(XA,ot=>{const ct=ot.docs.map(dt=>({...dt.data(),id:dt.id}));y(ct)},ot=>{console.error("Error fetching users:",ot)});return()=>et()},[]),P.useEffect(()=>{const et=R1(C1,ot=>{const ct=ot.docs.map(dt=>({...dt.data(),id:dt.id}));d(ct)},ot=>{console.error("Error fetching commissions:",ot)});return()=>et()},[]);const g=async(et,ot)=>{try{if(p.some(C=>C.username===et))return{success:!1,message:"Username already exists."};const dt={username:et,password:ot,role:et.toLowerCase()==="fezeaix"?"admin":"user"};return await w1(Ra(js,"users",et),dt),{success:!0,message:"Registration successful! Please login."}}catch(ct){return console.error("Registration error:",ct),{success:!1,message:"Registration failed due to server error."}}},E=async(et,ot)=>{try{const ct=p.find(dt=>dt.username===et&&dt.password===ot);return ct?(i(ct),localStorage.setItem("currentUser",JSON.stringify(ct)),{success:!0,message:"Login successful!"}):{success:!1,message:"Invalid username or password."}}catch(ct){return console.error("Login error:",ct),{success:!1,message:"Login failed due to server error."}}},S=()=>{i(null),localStorage.removeItem("currentUser")},w=async et=>{try{const ot={id:Date.now().toString(),...et,status:"New Request",timestamp:new Date().toISOString(),messages:[{id:Date.now()+1,sender:"System",text:`New Commission Request for ${et.commissionType} received. Price: $${et.price}. The artist will contact you via this chat to confirm details.`,timestamp:new Date().toISOString()}]};return await w1(Ra(C1),ot),{success:!0,message:"Commission request submitted successfully! Please check your Messages for updates from the artist."}}catch(ot){return console.error("Add commission error:",ot),{success:!1,message:"Failed to submit commission request."}}},j=async et=>{try{return await GA(Ra(js,"commissions",et)),{success:!0,message:"Commission request deleted."}}catch(ot){return console.error("Delete commission error:",ot),{success:!1,message:"Failed to delete commission request."}}},Q=async(et,ot)=>{try{const ct=Ra(js,"commissions",et);return await cc(ct,{status:ot,timestamp:new Date().toISOString()}),{success:!0,message:"Commission status updated."}}catch(ct){return console.error("Update status error:",ct),{success:!1,message:"Failed to update commission status."}}},K=async(et,ot,ct)=>{if(ct.trim())try{const dt=Ra(js,"commissions",et),C=c.find(R=>R.id===et);if(!C)return{success:!1};const A={id:Date.now()+Math.random(),sender:ot,text:ct,timestamp:new Date().toISOString()};return await cc(dt,{messages:[...C.messages||[],A],status:C.status==="New Request"?"In Discussion":C.status}),{success:!0}}catch(dt){return console.error("Add message error:",dt),{success:!1}}},H=async(et,ot)=>{try{const ct=Ra(js,"commissions",et),dt=c.find(A=>A.id===et);if(!dt)return{success:!1,message:"Request not found."};const C=dt.messages.filter(A=>A.id!==ot);return await cc(ct,{messages:C}),{success:!0}}catch(ct){return console.error("Delete message error:",ct),{success:!1,message:"Failed to delete message."}}},tt=async(et,ot)=>{if(!e)return{success:!1,message:"User not logged in."};try{if(e.password!==et)return{success:!1,message:"Current password is incorrect."};const ct=Ra(js,"users",e.username);await cc(ct,{password:ot});const dt={...e,password:ot};return i(dt),localStorage.setItem("currentUser",JSON.stringify(dt)),{success:!0,message:"Password updated successfully!"}}catch(ct){return console.error("Change password error:",ct),{success:!1,message:"Failed to change password."}}},it={user:e,loading:r,register:g,login:E,logout:S,isAuthenticated:!!e,isAdmin:e&&e.role==="admin",commissionRequests:c,addCommissionRequest:w,deleteCommissionRequest:j,addMessageToCommissionRequest:K,deleteMessageFromCommissionRequest:H,updateCommissionStatus:Q,changePassword:tt};return b.jsx(D_.Provider,{value:it,children:s})};function ZA(){const[s,e]=P.useState(""),[i,r]=P.useState(""),[o,c]=P.useState(""),{login:d}=Sn(),p=Fr(),y=async g=>{if(g.preventDefault(),c(""),!s||!i){c("Please enter both username and password.");return}const E=await d(s,i);E.success?p("/dashboard/gallery"):c(E.message)};return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-800",children:b.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Login to Fezeaix Commission"}),b.jsxs("form",{onSubmit:y,children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Username"}),b.jsx("input",{type:"text",id:"username",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username",value:s,onChange:g=>e(g.target.value)})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Password"}),b.jsx("input",{type:"password",id:"password",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"********",value:i,onChange:g=>r(g.target.value)})]}),o&&b.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:o}),b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-full transition-colors duration-200",children:"Sign In"})}),b.jsxs("p",{className:"text-center text-gray-600 text-sm mt-4",children:["Don't have an account? ",b.jsx(bn,{to:"/register",className:"text-blue-600 hover:text-blue-800 font-bold transition-colors duration-200",children:"Register here"})]})]})]})})}const JA=s=>s.length<8||s.length>16?"Password must be between 8 and 16 characters long.":/[A-Z]/.test(s)?/[a-z]/.test(s)?/[0-9]/.test(s)?null:"Password must contain at least one number (0-9).":"Password must contain at least one lowercase letter (a-z).":"Password must contain at least one uppercase letter (A-Z).";function WA(){const[s,e]=P.useState(""),[i,r]=P.useState(""),[o,c]=P.useState(""),[d,p]=P.useState(""),[y,g]=P.useState(""),[E,S]=P.useState(""),{register:w}=Sn(),j=Fr(),Q=async K=>{if(K.preventDefault(),g(""),S(""),!i||!o||!s||!d){g("Please fill in all fields.");return}if(o!==d){g("Passwords do not match.");return}const H=JA(o);if(H){g(H);return}const tt=await w(i,o);tt.success?(S(tt.message),setTimeout(()=>{j("/login")},2e3)):g(tt.message)};return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-800",children:b.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[b.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Create your Fezeaix Account"}),b.jsxs("form",{onSubmit:Q,children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"displayname",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Display Name"}),b.jsx("input",{type:"text",id:"displayname",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your display name",value:s,onChange:K=>e(K.target.value)})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Username"}),b.jsx("input",{type:"text",id:"username",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Choose a username",value:i,onChange:K=>r(K.target.value)})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Password"}),b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Min 8-16 chars, include A-Z, a-z, 0-9."}),b.jsx("input",{type:"password",id:"password",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",value:o,onChange:K=>c(K.target.value)})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{htmlFor:"confirmPassword",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Confirm Password"}),b.jsx("input",{type:"password",id:"confirmPassword",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",value:d,onChange:K=>p(K.target.value)})]}),y&&b.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:y}),E&&b.jsx("p",{className:"text-green-500 text-sm mb-4 text-center",children:E}),b.jsx("div",{className:"flex items-center justify-between",children:b.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-full transition-colors duration-200",children:"Register"})}),b.jsxs("p",{className:"text-center text-gray-600 text-sm mt-4",children:["Already have an account?",b.jsx(bn,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-bold transition-colors duration-200",children:"Login here"})]})]})]})})}var V_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N1=Ls.createContext&&Ls.createContext(V_),tw=["attr","size","title"];function ew(s,e){if(s==null)return{};var i=nw(s,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(i[r]=s[r])}return i}function nw(s,e){if(s==null)return{};var i={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(e.indexOf(r)>=0)continue;i[r]=s[r]}return i}function zc(){return zc=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])}return s},zc.apply(this,arguments)}function D1(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,r)}return i}function Lc(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(i),!0).forEach(function(r){iw(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):D1(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function iw(s,e,i){return e=sw(e),e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function sw(s){var e=aw(s,"string");return typeof e=="symbol"?e:e+""}function aw(s,e){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var r=i.call(s,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function M_(s){return s&&s.map((e,i)=>Ls.createElement(e.tag,Lc({key:i},e.attr),M_(e.child)))}function Ce(s){return e=>Ls.createElement(rw,zc({attr:Lc({},s.attr)},e),M_(s.child))}function rw(s){var e=i=>{var{attr:r,size:o,title:c}=s,d=ew(s,tw),p=o||i.size||"1em",y;return i.className&&(y=i.className),s.className&&(y=(y?y+" ":"")+s.className),Ls.createElement("svg",zc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,d,{className:y,style:Lc(Lc({color:s.color||i.color},i.style),s.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&Ls.createElement("title",null,c),s.children)};return N1!==void 0?Ls.createElement(N1.Consumer,null,i=>e(i)):e(V_)}function lw(s){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(s)}function ow(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(s)}function uw(s){return Ce({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(s)}function cw(s){return Ce({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(s)}function hw(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(s)}function fw(s){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(s)}function dw(s){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(s)}function mw(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(s)}function I_(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(s)}function gw(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(s)}function pw(s){return Ce({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(s)}function yw(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(s)}function Fd(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"},child:[]}]})(s)}function O_(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(s)}function vw(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},child:[]}]})(s)}function _w(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(s)}function Ew(s){return Ce({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(s)}function bw(s){return Ce({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(s)}function jm(s){return Ce({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(s)}function Tw(s){return Ce({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(s)}function Sw({requests:s,handleClose:e}){const i=s.filter(r=>r.status==="New Request");return b.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-xl overflow-hidden animate-fade-in z-50 border border-gray-200",children:[b.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Notifications"}),b.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[i.length," New"]})]}),i.length===0?b.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No new commission requests."}):b.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[i.map(r=>b.jsxs(bn,{to:"/dashboard/inbox",onClick:e,className:"flex flex-col p-3 hover:bg-gray-50 border-b border-gray-100 transition-colors",children:[b.jsxs("p",{className:"text-sm font-semibold text-blue-600 truncate",children:[r.requesterUsername," requested ",r.commissionType]}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Status: ",b.jsx("span",{className:"font-medium text-red-600",children:r.status})]}),b.jsx("span",{className:"text-xs text-gray-400 mt-1 self-end",children:new Date(r.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},r.id)),b.jsx(bn,{to:"/dashboard/inbox",onClick:e,className:"block py-2 text-center text-sm font-semibold text-blue-600 hover:bg-blue-50 transition-colors",children:"View All in Inbox"})]})]})}function xw(){const{user:s,logout:e,commissionRequests:i,isAdmin:r}=Sn(),o=Fr(),c=es(),[d,p]=P.useState(!1),y=P.useRef(null),g=()=>{e(),o("/login")},E=i.filter(Q=>Q.status==="New Request").length,S=()=>{r&&p(Q=>!Q)},w=()=>{p(!1)};P.useEffect(()=>{function Q(K){y.current&&!y.current.contains(K.target)&&w()}return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[y]);const j=Q=>`flex items-center p-3 rounded-lg transition-colors duration-200 ${c.pathname.startsWith(`/dashboard/${Q}`)?"bg-blue-700 text-white font-bold shadow-md":"text-blue-200 hover:bg-blue-700 hover:text-white"}`;return b.jsxs("div",{className:"flex h-screen bg-gray-100",children:[b.jsxs("aside",{className:"w-72 bg-blue-900 text-blue-100 flex flex-col shadow-lg",children:[b.jsxs("div",{className:"p-5 text-2xl font-bold border-b border-blue-800 flex items-center",children:[b.jsx(Fd,{className:"mr-3 text-blue-300"}),"Fezeaix Commission"]}),b.jsx("nav",{className:"flex-1 p-5 overflow-y-auto",children:b.jsxs("ul",{children:[b.jsx("li",{className:"mb-2",children:b.jsxs(bn,{to:"/dashboard/gallery",className:j("gallery"),children:[b.jsx(gw,{className:"mr-3 text-blue-300"})," Gallery"]})}),b.jsx("li",{className:"mb-2",children:b.jsxs(bn,{to:"/dashboard/commission",className:j("commission"),children:[b.jsx(Fd,{className:"mr-3 text-blue-300"})," Commission"]})}),!r&&b.jsx("li",{className:"mb-2",children:b.jsxs(bn,{to:"/dashboard/messages",className:j("messages"),children:[b.jsx(fw,{className:"mr-3 text-blue-300"})," Messages"]})}),!r&&b.jsx("li",{className:"mb-2",children:b.jsxs(bn,{to:"/dashboard/history",className:j("history"),children:[b.jsx(I_,{className:"mr-3 text-blue-300"})," History"]})}),r&&b.jsx("li",{className:"mb-2",children:b.jsxs(bn,{to:"/dashboard/inbox",className:j("inbox"),children:[b.jsx(pw,{className:"mr-3 text-blue-300"})," Inbox",E>0&&b.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:E})]})}),b.jsx("li",{className:"mb-2",children:b.jsxs(bn,{to:"/dashboard/queue",className:j("queue"),children:[b.jsx(yw,{className:"mr-3 text-blue-300"})," Queue"]})}),b.jsx("li",{className:"mb-2",children:b.jsxs(bn,{to:"/dashboard/settings",className:j("settings"),children:[b.jsx(hw,{className:"mr-3 text-blue-300"})," Settings"]})})]})}),b.jsx("div",{className:"p-5 border-t border-blue-800",children:b.jsxs("button",{onClick:g,className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200 w-full",children:[b.jsx(_w,{className:"mr-3 text-blue-300"})," Logout"]})})]}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[b.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-white border-b border-gray-200 shadow-sm z-10",children:[b.jsxs("h1",{className:"text-xl font-semibold text-gray-800",children:["Welcome, ",s?s.username:"Guest","!"]}),b.jsx("div",{className:"flex items-center space-x-4",children:r&&b.jsxs("div",{className:"relative",ref:y,children:[b.jsxs("button",{onClick:S,className:`relative p-2 rounded-full transition-colors ${E>0?"text-red-500 hover:text-red-600 bg-red-50":"text-gray-500 hover:text-blue-600 hover:bg-gray-100"}`,title:E>0?`${E} New Request(s)`:"No new notifications",children:[b.jsx(lw,{className:"text-xl"}),E>0&&b.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-4 h-4 flex items-center justify-center rounded-full",children:E})]}),d&&b.jsx(Sw,{requests:i,handleClose:w})]})})]}),b.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:b.jsx(fb,{})})]})]})}const Aw="/fezeaix-commission/assets/art1.1-DCuravIE.png",ww="/fezeaix-commission/assets/art1.2-B6Iqhhz4.png",Rw="/fezeaix-commission/assets/art1-CbDPtxvT.png",Cw="/fezeaix-commission/assets/art2-jkhjJiZ0.png",Nw="/fezeaix-commission/assets/art3-DdDvzTdT.png",Dw="/fezeaix-commission/assets/art4.1-B-a3XYda.png",Vw="/fezeaix-commission/assets/art4.2-Cahwdkl3.png",Mw="/fezeaix-commission/assets/art4-YQIqTJVT.png",Iw="/fezeaix-commission/assets/art5.1-CZZstCHB.png",Ow="/fezeaix-commission/assets/art5-CLPO2HS7.png",jw="/fezeaix-commission/assets/art6.1-B4EZmlFS.png",zw="/fezeaix-commission/assets/art6-CERsBu3s.png",Lw="/fezeaix-commission/assets/art7.1-BxocYA7A.png",Uw="/fezeaix-commission/assets/art7.2-xicbCdwj.png",Pw="/fezeaix-commission/assets/art7-BRizx3x5.png",Bw="/fezeaix-commission/assets/art8-DBQB1TcH.png",kw="/fezeaix-commission/assets/art9-nhgN9dYk.jpg",qw="/fezeaix-commission/assets/art10.1-CB4g4l2r.png",Hw="/fezeaix-commission/assets/art10.2-DI9XsGn7.png",Fw="/fezeaix-commission/assets/art10.3-CMaG_Xy2.jpg",Gw="/fezeaix-commission/assets/art10.4-CAFhE7ty.jpg",Qw="/fezeaix-commission/assets/art10-D610wGHz.png",Yw="/fezeaix-commission/assets/art11-ywWSusCC.png",Kw="/fezeaix-commission/assets/art12-5rWRyq-n.png",Xw="/fezeaix-commission/assets/art13-Dp52JEvp.png",$w="/fezeaix-commission/assets/art14-sgDQDkxG.jpg",Zw="/fezeaix-commission/assets/art15-CdNGEzqJ.png",Jw="/fezeaix-commission/assets/art16.1-DkyAzIus.png",Ww="/fezeaix-commission/assets/art16-D5dKL5Qr.png",t3="/fezeaix-commission/assets/art17-Ch4aJ19n.png",e3="/fezeaix-commission/assets/art18-2c9wammY.PNG";function n3(){const s=[{id:"1.1",src:Aw,title:"Mystical Forest"},{id:"1.2",src:ww,title:"Mystical Forest"},{id:"1",src:Rw,title:"Dragon Rider"},{id:"2",src:Cw,title:"Starry Night Wanderer"},{id:"3",src:Nw,title:"Ancient Guardian"},{id:"4.1",src:Dw,title:"Mystical Forest"},{id:"4.2",src:Vw,title:"Mystical Forest"},{id:"4",src:Mw,title:"Desert Oasis"},{id:"5.1",src:Iw,title:"Mystical Forest"},{id:"5",src:Ow,title:"Frozen Peaks"},{id:"6.1",src:jw,title:"Mystical Forest"},{id:"6",src:zw,title:"City at Dusk"},{id:"7.1",src:Lw,title:"Mystical Forest"},{id:"7.2",src:Uw,title:"Mystical Forest"},{id:"7",src:Pw,title:"Oceanic Depths"},{id:"8",src:Bw,title:"Floating Islands"},{id:"9",src:kw,title:"Mystical Forest"},{id:"10.1",src:qw,title:"Mystical Forest"},{id:"10.2",src:Hw,title:"Mystical Forest"},{id:"10.3",src:Fw,title:"Mystical Forest"},{id:"10.4",src:Gw,title:"Mystical Forest"},{id:"10",src:Qw,title:"Mystical Forest"},{id:"11",src:Yw,title:"Mystical Forest"},{id:"12",src:Kw,title:"Mystical Forest"},{id:"13",src:Xw,title:"Mystical Forest"},{id:"14",src:$w,title:"Mystical Forest"},{id:"15",src:Zw,title:"Mystical Forest"},{id:"16.1",src:Jw,title:"Mystical Forest"},{id:"16",src:Ww,title:"Mystical Forest"},{id:"17",src:t3,title:"Mystical Forest"},{id:"18",src:e3,title:"Mystical Forest"}],[e,i]=P.useState(null),r=c=>{i(c)},o=()=>{i(null)};return b.jsxs("div",{className:"bg-white rounded-xl shadow-lg min-h-full p-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Art Gallery"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"This is where all your amazing artworks will be displayed!"}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mt-4",children:s.map(c=>b.jsxs("div",{className:"relative group cursor-pointer overflow-hidden rounded-lg shadow-md aspect-square",onClick:()=>r(c),children:[b.jsx("img",{src:c.src,alt:c.title,className:"w-full h-full object-cover transform transition-transform duration-500 group-hover:scale-110"}),b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:b.jsx("p",{className:"text-white text-base font-semibold text-center p-2",children:c.title})})]},c.id))}),e&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4 animate-fade-in",onClick:o,children:b.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl max-w-5xl lg:max-w-6xl max-h-[95vh] overflow-hidden animate-scale-up",onClick:c=>c.stopPropagation(),children:[b.jsx("button",{className:"absolute top-4 right-4 text-white text-3xl font-bold bg-gray-800 bg-opacity-70 hover:bg-opacity-100 rounded-full w-10 h-10 flex items-center justify-center z-10 transition-colors",onClick:o,children:""}),b.jsx("img",{src:e.src,alt:e.title,className:"max-w-full max-h-[85vh] object-contain mx-auto"}),b.jsx("div",{className:"p-3 text-center bg-gray-100 border-t border-gray-200",children:b.jsx("p",{className:"text-xl font-bold text-center text-gray-800",children:e.title})})]})})]})}const i3=[{id:"basic-sketch",title:"Basic Sketch",description:"A simple black and white line art piece.",price:20,buttonColor:"blue",images:["https://via.placeholder.com/400x300/60A5FA/FFFFFF?text=Sketch+Example+1","https://via.placeholder.com/400x300/60A5FA/FFFFFF?text=Sketch+Example+2","https://via.placeholder.com/400x300/60A5FA/FFFFFF?text=Sketch+Example+3"]},{id:"full-color-bust",title:"Full Color Bust",description:"A detailed, fully colored character bust.",price:80,buttonColor:"purple",images:["https://via.placeholder.com/400x300/A78BFA/FFFFFF?text=Full+Color+Example+1","https://via.placeholder.com/400x300/A78BFA/FFFFFF?text=Full+Color+Example+2"]}],s3=`

  
 
  / 
  


 4-7 

////
 (+15)
.

////
gmail
google drive
 


 1  3 
 
 
  
  x2.5
  //
  2 +20
     (reference)
**DM**
`;function a3({commission:s,onClose:e,onSubmit:i,requesterUsername:r}){const[o,c]=P.useState(0),[d,p]=P.useState(!1),[y,g]=P.useState(!1),[E,S]=P.useState(""),[w,j]=P.useState(""),Q=H=>{const tt=s.images.length;let it=o+H;it<0&&(it=tt-1),it>=tt&&(it=0),c(it)},K=async()=>{if(!d){S("You must accept the Terms of Service to proceed.");return}g(!0),S(""),j("");const H={commissionType:s.title,price:s.price,requesterUsername:r},tt=await i(H);g(!1),tt.success?(j(tt.message),setTimeout(e,2e3)):S(tt.message||"Failed to submit request.")};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4 animate-fade-in",onClick:e,children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[95vh] overflow-hidden flex flex-col animate-scale-up",onClick:H=>H.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[b.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Request: ",s.title," ($",s.price,")"]}),b.jsx("button",{className:"text-gray-400 hover:text-gray-700 transition-colors",onClick:e,children:b.jsx(bw,{size:24})})]}),b.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 overflow-hidden",children:[b.jsxs("div",{className:"relative flex items-center justify-center bg-gray-100 p-4",children:[b.jsx("img",{src:s.images[o],alt:`${s.title} Example ${o+1}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-md"}),s.images.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>Q(-1),className:"absolute left-4 p-3 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75 transition-colors",children:b.jsx(uw,{})}),b.jsx("button",{onClick:()=>Q(1),className:"absolute right-4 p-3 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75 transition-colors",children:b.jsx(cw,{})})]}),b.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2",children:s.images.map((H,tt)=>b.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${tt===o?"bg-white scale-125":"bg-gray-400"}`},tt))})]}),b.jsxs("div",{className:"p-6 flex flex-col overflow-y-auto custom-scroll",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Commission Details"}),b.jsx("p",{className:"text-gray-600 mb-2",children:s.description}),b.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",s.price]})]}),b.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 border-t pt-4",children:"Terms of Service"}),b.jsx("div",{className:"bg-gray-50 p-4 rounded-lg text-sm text-gray-700 max-h-40 overflow-y-auto custom-scroll mb-4",children:s3.split(`
`).filter(H=>H.trim()!=="").map((H,tt)=>b.jsx("p",{className:"mb-1",children:H},tt))}),E&&b.jsx("p",{className:"text-red-500 text-sm mb-3",children:E}),w&&b.jsx("p",{className:"text-green-500 text-sm mb-3",children:w})]})]}),b.jsxs("div",{className:"p-5 border-t border-gray-200 flex flex-col space-y-3",children:[b.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-300 rounded-lg",children:[b.jsx("input",{type:"checkbox",id:"accept-terms",checked:d,onChange:H=>p(H.target.checked),className:"h-5 w-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer"}),b.jsxs("label",{htmlFor:"accept-terms",className:"text-gray-500 font-semibold cursor-pointer select-none",children:["I accept Fezeaix ",b.jsx(mw,{className:"inline text-purple-500 mx-1"}),"'s Terms of Service"]})]}),b.jsx("button",{onClick:K,disabled:!d||y,className:`py-3 rounded-xl font-bold text-white transition-all duration-300 shadow-lg ${!d||y?"bg-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"}`,children:y?"Submitting Request...":"Accept terms to start request"})]})]})})}function r3(){const{addCommissionRequest:s,user:e}=Sn(),[i,r]=P.useState(!1),[o,c]=P.useState(null),d=g=>{r(!0),c(g)},p=()=>{c(null),r(!1)},y=g=>s({...g,description:`[Commission request for ${g.commissionType}. Client will contact artist via inbox for details.]`});return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Information"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"Here you can define your commission scales, show examples, and outline terms for your clients."}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i3.map(g=>b.jsxs("div",{className:`bg-${g.buttonColor}-50 p-6 rounded-xl shadow-md border ${g.buttonColor==="blue"?"border-blue-200":"border-purple-200"} flex flex-col`,children:[b.jsx("h3",{className:`font-bold ${g.buttonColor==="blue"?"text-blue-800":"text-purple-800"} text-xl mb-2`,children:g.title}),b.jsx("p",{className:`${g.buttonColor==="blue"?"text-blue-700":"text-purple-700"} text-sm mb-4 flex-grow`,children:g.description}),b.jsxs("div",{className:`relative w-full h-40 mb-4 rounded-lg overflow-hidden ${g.buttonColor==="blue"?"bg-blue-100":"bg-purple-100"} flex items-center justify-center`,children:[b.jsx("img",{src:g.images[0],alt:`${g.title} Example`,className:"w-full h-full object-cover"}),b.jsx("span",{className:`absolute bottom-2 right-2 ${g.buttonColor==="blue"?"bg-blue-600":"bg-purple-600"} text-white text-xs px-2 py-1 rounded-full`,children:g.title.toUpperCase()})]}),b.jsxs("p",{className:`${g.buttonColor==="blue"?"text-blue-900":"text-purple-900"} font-bold text-xl mb-4`,children:["Price: $",g.price]}),b.jsx("button",{onClick:()=>d(g),className:`mt-auto ${g.buttonColor==="blue"?"bg-blue-600 hover:bg-blue-700":"bg-purple-600 hover:bg-purple-700"} text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 shadow-md`,children:"Start Request"})]},g.id))}),i&&o&&b.jsx(a3,{commission:o,onClose:p,onSubmit:y,requesterUsername:e?.username})]})}const l3=["New Request","Pending Payment","In Progress","Sketch Sent","Completed","Canceled","On Hold"],Gd=s=>{switch(s){case"New Request":return"bg-red-100 text-red-800 border-red-300";case"Pending Payment":return"bg-orange-100 text-orange-800 border-orange-300";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-300";case"Sketch Sent":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"Completed":return"bg-green-100 text-green-800 border-green-300";case"On Hold":return"bg-gray-100 text-gray-800 border-gray-300";case"Canceled":return"bg-gray-200 text-gray-500 border-gray-400";default:return"bg-gray-50 text-gray-700 border-gray-300"}};function o3({request:s,updateStatus:e,deleteRequest:i}){const[r,o]=P.useState(!1),[c,d]=P.useState(!1),[p,y]=P.useState(s.status),g=async()=>{d(!0),await e(s.id,p),d(!1),o(!1)};return c?b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(Ew,{className:"animate-spin text-blue-500",size:16,title:"Updating..."})}):r?b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("select",{value:p,onChange:E=>y(E.target.value),className:`p-1 text-sm border rounded ${Gd(p)} focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:l3.map(E=>b.jsx("option",{value:E,children:E},E))}),b.jsx("button",{onClick:g,className:"p-1 bg-green-500 hover:bg-green-600 text-white rounded transition-colors",title:"Save Status",children:b.jsx(ow,{size:14})}),b.jsx("button",{onClick:()=>o(!1),className:"p-1 bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors",title:"Cancel",children:""})]}):b.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[b.jsx("button",{onClick:()=>o(!0),className:"p-1 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",title:"Edit Status",children:b.jsx(dw,{size:14})}),b.jsx("button",{onClick:i,className:"p-1 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Delete Request",children:b.jsx(jm,{size:14})})]})}function u3(){const{commissionRequests:s,isAdmin:e,updateCommissionStatus:i,deleteCommissionRequest:r}=Sn(),o=s.slice().sort((d,p)=>new Date(d.timestamp)-new Date(p.timestamp)),c=(d,p)=>{window.confirm(`Are you sure you want to permanently delete the commission from ${p}?`)&&r(d)};return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg min-h-full",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Queue"}),b.jsx("p",{className:"text-gray-600 mb-6",children:e?"As the artist, you can manage the status and priority of all client commissions here.":"View the current queue and the status of your commission requests here."}),o.length===0?b.jsx("p",{className:"text-gray-500 text-center py-8",children:"The commission queue is currently empty."}):b.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg border border-gray-200",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requester"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission Type"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e&&b.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((d,p)=>b.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p+1}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.requesterUsername}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:d.commissionType}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold",children:["$",d.price]}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[!e&&b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${Gd(d.status)}`,children:d.status}),e&&d.status!=="Editing"&&b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${Gd(d.status)}`,children:d.status})]}),e&&b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:b.jsx(o3,{request:d,updateStatus:i,deleteRequest:()=>c(d.id,d.requesterUsername)})})]},d.id))})]})})]})}const c3=s=>s.length<8||s.length>16?"Password must be between 8 and 16 characters long.":/[A-Z]/.test(s)?/[a-z]/.test(s)?/[0-9]/.test(s)?null:"Password must contain at least one number (0-9).":"Password must contain at least one lowercase letter (a-z).":"Password must contain at least one uppercase letter (A-Z).";function h3(){const[s,e]=P.useState(""),[i,r]=P.useState(""),[o,c]=P.useState(""),[d,p]=P.useState(""),[y,g]=P.useState(""),{changePassword:E}=Sn(),S=w=>{if(w.preventDefault(),p(""),g(""),!s||!i||!o){p("Please fill in all fields.");return}if(i!==o){p("New password and confirmation do not match.");return}const j=c3(i);if(j){p(j);return}if(i===s){p("New password must be different from the current password.");return}const Q=E(s,i);Q.success?(g(Q.message),e(""),r(""),c("")):p(Q.message)};return b.jsxs("div",{className:"mt-4 border p-6 rounded-lg shadow-sm",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Change Password"}),b.jsxs("form",{onSubmit:S,className:"space-y-4 max-w-lg",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),b.jsx("input",{type:"password",id:"currentPassword",value:s,onChange:w=>e(w.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Min 8-16 chars, include A-Z, a-z, 0-9."}),b.jsx("input",{type:"password",id:"newPassword",value:i,onChange:w=>r(w.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),b.jsx("input",{type:"password",id:"confirmNewPassword",value:o,onChange:w=>c(w.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),d&&b.jsx("p",{className:"text-red-500 text-sm",children:d}),y&&b.jsx("p",{className:"text-green-500 text-sm",children:y}),b.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-colors duration-200 disabled:bg-gray-400",children:"Change Password"})]})]})}function f3(){const{user:s,isAdmin:e}=Sn();return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Account Settings"}),b.jsxs("div",{className:"mb-6",children:[b.jsx("p",{className:"text-gray-600 mb-2",children:"Manage your account details and security settings here."}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Username: ",b.jsx("span",{className:"font-bold text-blue-600",children:s?.username})]}),b.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Role: ",b.jsx("span",{className:`font-bold ${e?"text-red-600":"text-green-600"}`,children:e?"Artist (Admin)":"Client (User)"})]})]})]}),b.jsx(h3,{}),e&&b.jsxs("div",{className:"mt-8 border-t pt-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Artist/Commission Settings"}),b.jsx("p",{className:"text-gray-600",children:"This area is for managing commission terms, pricing, and other artist-specific settings."})]})]})}function d3({request:s,currentUser:e,addMessage:i,deleteMessage:r}){const[o,c]=P.useState(""),d=P.useRef(null);P.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[s.messages]);const p=async g=>{g.preventDefault(),o.trim()&&(await i(s.id,e.username,o.trim()),c(""))},y=g=>{window.confirm("Are you sure you want to delete this message? It will be removed for both the client and the artist.")&&r(s.id,g)};return b.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-200 rounded-xl shadow-md",children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center",children:[b.jsx(Tw,{size:24,className:"mr-3 text-blue-500"}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Chat with: ",s.requesterUsername]}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Commission: ",s.commissionType," | Price: $",s.price]})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scroll",children:[s.messages&&s.messages.map(g=>{const E=g.sender===e.username;return g.sender==="System"?b.jsx("div",{className:"flex justify-center w-full",children:b.jsxs("div",{className:"text-center text-xs text-gray-400 italic max-w-xs p-2 rounded-lg bg-gray-50 border border-gray-200",children:[new Date(g.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",g.text]})},g.id):b.jsx("div",{className:`flex ${E?"justify-end":"justify-start"}`,children:b.jsxs("div",{className:`flex items-end max-w-[70%] relative ${E?"flex-row-reverse":"flex-row"}`,children:[b.jsxs("div",{className:`px-4 py-2 rounded-xl shadow-md ${E?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-tl-none"}`,children:[b.jsx("p",{className:"font-semibold text-xs mb-1 opacity-80",children:E?"Me (Artist)":g.sender}),b.jsx("p",{className:"text-sm break-words",children:g.text}),b.jsx("span",{className:`block text-right mt-1 ${E?"text-blue-100":"text-gray-500"} text-xs`,children:new Date(g.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),E&&b.jsx("button",{onClick:()=>y(g.id),className:"mb-1 p-1 text-red-400 hover:text-red-600 transition-colors flex-shrink-0",title:"Delete Message",style:{left:"-20px"},children:b.jsx(jm,{size:12})})]})},g.id)}),b.jsx("div",{ref:d})," "]}),b.jsx("form",{onSubmit:p,className:"p-4 border-t border-gray-200 bg-gray-50",children:b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("input",{type:"text",value:o,onChange:g=>c(g.target.value),placeholder:"Type a message to the client...",className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",disabled:!s.id}),b.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-xl transition-colors duration-200 disabled:bg-gray-400",disabled:!o.trim(),children:b.jsx(O_,{size:20})})]})})]})}function m3(){const{commissionRequests:s,deleteCommissionRequest:e,user:i,addMessageToCommissionRequest:r,deleteMessageFromCommissionRequest:o}=Sn(),c=s.slice().sort((S,w)=>new Date(w.timestamp)-new Date(S.timestamp)),[d,p]=P.useState(c.length>0?c[0]:null);P.useEffect(()=>{const S=s.slice().sort((w,j)=>new Date(j.timestamp)-new Date(w.timestamp))[0];if(d){const w=s.find(j=>j.id===d.id);p(w||null)}else S&&p(S)},[s,i]);const y=S=>{window.confirm("Are you sure you want to delete this commission request? This action is permanent.")&&(e(S),d&&d.id===S&&p(null))},g=async(S,w,j)=>{await r(S,w,j)},E=async(S,w)=>{await o(S,w)};return b.jsxs("div",{className:"p-6 h-full bg-white rounded-xl shadow-lg flex flex-col",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Inbox"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"Here you can manage incoming commission requests and communicate directly with the clients."}),b.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[b.jsx("div",{className:"overflow-y-auto custom-scroll md:col-span-1",children:s.length===0?b.jsx("p",{className:"text-gray-500 text-center py-8",children:"No new commission requests in your inbox."}):b.jsx("div",{className:"space-y-3",children:c.map(S=>{const w=d&&d.id===S.id,j=S.messages&&S.messages.length>0?S.messages[S.messages.length-1]:null,Q=S.messages&&S.messages.find(K=>K.sender==="System");return b.jsxs("div",{onClick:()=>p(S),className:`p-4 rounded-lg shadow-sm border transition-all duration-200 cursor-pointer overflow-hidden break-words ${w?"bg-blue-100 border-blue-400 ring-2 ring-blue-500":"bg-gray-50 border-gray-200 hover:bg-gray-100"} flex items-center justify-between`,children:[b.jsxs("div",{className:"flex-1 mr-4 overflow-hidden",children:[b.jsxs("p",{className:"font-semibold text-gray-800 text-lg",children:[b.jsx("span",{className:"text-blue-600",children:S.requesterUsername})," requested ",b.jsx("span",{className:"text-purple-600",children:S.commissionType})]}),b.jsxs("p",{className:"text-gray-600 text-sm",children:["Price: ",b.jsxs("span",{className:"font-medium",children:["$",S.price]})," | Status: ",b.jsx("span",{className:"font-medium text-green-700",children:S.status})]}),Q&&b.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[b.jsx("span",{className:"font-medium",children:"System:"})," ",Q.text]}),j&&j.sender!=="System"&&b.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[b.jsxs("span",{className:"font-medium",children:[j.sender===i.username?"You":j.sender,":"]})," ",j.text]})]}),b.jsx("button",{onClick:K=>{K.stopPropagation(),y(S.id)},className:"text-red-500 hover:text-red-700 p-2 rounded-full transition-colors duration-200 flex-shrink-0",title:"Delete Request",children:b.jsx(jm,{size:16})})]},S.id)})})}),d?b.jsx("div",{className:"md:col-span-2 h-full min-h-[400px] md:min-h-0",children:b.jsx(d3,{request:d,currentUser:i,addMessage:g,deleteMessage:E})}):b.jsx("div",{className:"md:col-span-2 flex items-center justify-center text-gray-500 text-lg",children:"Select a commission request to start chatting."})]})]})}function g3({request:s,currentUser:e,addMessage:i}){const[r,o]=P.useState(""),c=P.useRef(null);P.useEffect(()=>{c.current?.scrollIntoView({behavior:"smooth"})},[s.messages]);const d=async p=>{p.preventDefault(),r.trim()&&(await i(s.id,e.username,r.trim()),o(""))};return b.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-200 rounded-xl shadow-md",children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center",children:[b.jsx(Fd,{size:24,className:"mr-3 text-purple-500"}),b.jsxs("div",{children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Chat for: ",s.commissionType]}),b.jsxs("p",{className:"text-sm text-gray-500",children:["Artist: Fezeaix | Status: ",s.status]})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scroll",children:[s.messages&&s.messages.map(p=>{const y=p.sender===e.username;return p.sender==="System"?b.jsxs("div",{className:"text-center text-xs text-gray-400 italic",children:[new Date(p.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",p.text]},p.id):b.jsx("div",{className:`flex ${y?"justify-end":"justify-start"}`,children:b.jsxs("div",{className:`max-w-[70%] px-4 py-2 rounded-xl shadow-md ${y?"bg-purple-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-tl-none"}`,children:[b.jsx("p",{className:"font-semibold text-xs mb-1 opacity-80",children:y?"Me":p.sender}),b.jsx("p",{className:"text-sm break-words",children:p.text}),b.jsx("span",{className:`block text-right mt-1 ${y?"text-purple-100":"text-gray-500"} text-xs`,children:new Date(p.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},p.id)}),b.jsx("div",{ref:c})]}),b.jsx("form",{onSubmit:d,className:"p-4 border-t border-gray-200 bg-gray-50",children:b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("input",{type:"text",value:r,onChange:p=>o(p.target.value),placeholder:"Type a message to the artist...",className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors"}),b.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white p-3 rounded-xl transition-colors duration-200 disabled:bg-gray-400",disabled:!r.trim(),children:b.jsx(O_,{size:20})})]})})]})}function p3(){const{commissionRequests:s,user:e,addMessageToCommissionRequest:i}=Sn(),r=s.filter(y=>y.requesterUsername===e?.username),[o,c]=P.useState(r.length>0?r[0]:null);P.useEffect(()=>{const y=s.filter(g=>g.requesterUsername===e?.username).slice().sort((g,E)=>new Date(E.timestamp)-new Date(g.timestamp));if(o){const g=s.find(E=>E.id===o.id);c(g||null)}else y.length>0&&c(y[0])},[s,e?.username]);const d=async(y,g,E)=>{await i(y,g,E)},p=r.slice().sort((y,g)=>new Date(g.timestamp)-new Date(y.timestamp));return r.length===0?b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Commission Messages"}),b.jsx("p",{className:"text-gray-500 text-center py-8",children:"You have no active commission requests yet. Please visit the Commission page to start one."})]}):b.jsxs("div",{className:"p-6 h-full bg-white rounded-xl shadow-lg flex flex-col",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Commission Messages"}),b.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[b.jsx("div",{className:"overflow-y-auto custom-scroll md:col-span-1",children:b.jsx("div",{className:"space-y-3",children:p.map(y=>{const g=o&&o.id===y.id,E=y.messages&&y.messages.length>0?y.messages[y.messages.length-1]:null;return b.jsxs("div",{onClick:()=>c(y),className:`p-4 rounded-lg shadow-sm border transition-all duration-200 cursor-pointer ${g?"bg-purple-100 border-purple-400 ring-2 ring-purple-500":"bg-gray-50 border-gray-200 hover:bg-gray-100"} flex flex-col`,children:[b.jsxs("p",{className:"font-semibold text-gray-800 text-lg",children:["Request: ",b.jsx("span",{className:"text-purple-600",children:y.commissionType})]}),b.jsxs("p",{className:"text-gray-600 text-sm",children:["Status: ",b.jsx("span",{className:"font-medium text-green-700",children:y.status})]}),E&&b.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[b.jsxs("span",{className:"font-medium",children:[E.sender===e.username?"You":E.sender,":"]})," ",E.text]})]},y.id)})})}),o?b.jsx("div",{className:"md:col-span-2 h-full min-h-[400px]",children:b.jsx(g3,{request:o,currentUser:e,addMessage:d})}):b.jsx("div",{className:"md:col-span-2 flex items-center justify-center text-gray-500 text-lg",children:"Select a commission request to view the chat."})]})]})}const y3=s=>{switch(s){case"New Request":return"bg-red-100 text-red-800 border-red-300";case"In Discussion":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"Pending Payment":return"bg-orange-100 text-orange-800 border-orange-300";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-300";case"Sketch Sent":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"Revisions":return"bg-purple-100 text-purple-800 border-purple-300";case"Completed":return"bg-green-100 text-green-800 border-green-300";case"On Hold":return"bg-gray-100 text-gray-800 border-gray-300";case"Canceled":return"bg-gray-200 text-gray-500 border-gray-400";default:return"bg-gray-50 text-gray-700 border-gray-300"}};function v3(){const{user:s,commissionRequests:e}=Sn(),i=Fr(),r=e.filter(c=>c.requesterUsername===s?.username).sort((c,d)=>new Date(d.timestamp)-new Date(c.timestamp)),o=c=>{alert(`Requesting: ${c}. Please go to the Commission page to re-submit with new details.`),i("/dashboard/commission")};return b.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg min-h-full",children:[b.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 flex items-center",children:[b.jsx(I_,{className:"mr-3 text-gray-500"})," My Commission History"]}),b.jsx("p",{className:"text-gray-600 mb-6",children:"View all your past and current commission requests."}),r.length===0?b.jsx("p",{className:"text-gray-500 text-center py-8",children:"You have no commission history yet."}):b.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg border border-gray-200",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested On"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission Type"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),b.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Re-Request"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((c,d)=>b.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[r.length-d," "]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(c.timestamp).toLocaleDateString()}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:c.commissionType}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold",children:["$",c.price]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${y3(c.status)}`,children:c.status})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:b.jsxs("button",{onClick:()=>o(c.commissionType),className:"p-1.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center mx-auto space-x-1 text-xs font-semibold",title:"Use this request as a new template",children:[b.jsx(vw,{size:12}),b.jsx("span",{children:"Re-Request"})]})})]},c.id))})]})})]})}const _3="/fezeaix-commission/";function _d({children:s}){const{isAuthenticated:e,loading:i}=Sn();return i?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:b.jsx("p",{className:"text-xl text-gray-700",children:"Loading user data..."})}):e?s:b.jsx(Dr,{to:"/login",replace:!0})}function E3({children:s}){const{isAuthenticated:e,isAdmin:i,loading:r}=Sn();return console.log("AdminProtectedRoute - Is Authenticated:",e),console.log("AdminProtectedRoute - Is Admin:",i),console.log("AdminProtectedRoute - Loading:",r),r?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:b.jsx("p",{className:"text-xl text-gray-700",children:"Loading user data..."})}):e?i?(console.log("AdminProtectedRoute - Access Granted"),s):(console.log("AdminProtectedRoute - Redirecting to /dashboard/gallery (Not Admin)"),b.jsx(Dr,{to:"/dashboard/gallery",replace:!0})):(console.log("AdminProtectedRoute - Redirecting to /login"),b.jsx(Dr,{to:"/login",replace:!0}))}function b3(){const{isAuthenticated:s,loading:e}=Sn();return b.jsx(Lb,{basename:_3,children:b.jsxs(mb,{children:[b.jsx(En,{path:"/login",element:b.jsx(ZA,{})}),b.jsx(En,{path:"/register",element:b.jsx(WA,{})}),b.jsxs(En,{path:"/dashboard",element:b.jsx(_d,{children:b.jsx(xw,{})}),children:[b.jsx(En,{path:"gallery",element:b.jsx(n3,{})}),b.jsx(En,{path:"commission",element:b.jsx(r3,{})}),b.jsx(En,{path:"queue",element:b.jsx(u3,{})}),b.jsx(En,{path:"settings",element:b.jsx(f3,{})}),b.jsx(En,{path:"messages",element:b.jsx(_d,{children:b.jsx(p3,{})})}),b.jsx(En,{path:"history",element:b.jsx(_d,{children:b.jsx(v3,{})})}),b.jsx(En,{path:"inbox",element:b.jsx(E3,{children:b.jsx(m3,{})})}),b.jsx(En,{index:!0,element:b.jsx(Dr,{to:"gallery",replace:!0})})]}),b.jsx(En,{path:"/",element:e?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:b.jsx("p",{className:"text-xl text-gray-700",children:"Loading..."})}):s?b.jsx(Dr,{to:"/dashboard/gallery",replace:!0}):b.jsx(Dr,{to:"/login",replace:!0})})]})})}bE.createRoot(document.getElementById("root")).render(b.jsx(Ls.StrictMode,{children:b.jsxs($A,{children:[" ",b.jsx(b3,{})]})}));
