(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();function Q1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ud={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function Kb(){if(cy)return so;cy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:r,key:h,ref:l!==void 0?l:null,props:u}}return so.Fragment=t,so.jsx=a,so.jsxs=a,so}var fy;function $b(){return fy||(fy=1,ud.exports=Kb()),ud.exports}var _=$b(),cd={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function Zb(){if(hy)return Ee;hy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),N=Symbol.iterator;function I(z){return z===null||typeof z!="object"?null:(z=N&&z[N]||z["@@iterator"],typeof z=="function"?z:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,B={};function Z(z,W,re){this.props=z,this.context=W,this.refs=B,this.updater=re||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},Z.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function te(){}te.prototype=Z.prototype;function ie(z,W,re){this.props=z,this.context=W,this.refs=B,this.updater=re||H}var ve=ie.prototype=new te;ve.constructor=ie,G(ve,Z.prototype),ve.isPureReactComponent=!0;var le=Array.isArray;function oe(){}var w={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(z,W,re){var ce=re.ref;return{$$typeof:i,type:z,key:W,ref:ce!==void 0?ce:null,props:re}}function O(z,W){return R(z.type,W,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===i}function M(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(re){return W[re]})}var C=/\/+/g;function Ce(z,W){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):W.toString(36)}function Ne(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(oe,oe):(z.status="pending",z.then(function(W){z.status==="pending"&&(z.status="fulfilled",z.value=W)},function(W){z.status==="pending"&&(z.status="rejected",z.reason=W)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function X(z,W,re,ce,be){var we=typeof z;(we==="undefined"||we==="boolean")&&(z=null);var Ue=!1;if(z===null)Ue=!0;else switch(we){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(z.$$typeof){case i:case t:Ue=!0;break;case b:return Ue=z._init,X(Ue(z._payload),W,re,ce,be)}}if(Ue)return be=be(z),Ue=ce===""?"."+Ce(z,0):ce,le(be)?(re="",Ue!=null&&(re=Ue.replace(C,"$&/")+"/"),X(be,W,re,"",function(Wi){return Wi})):be!=null&&(V(be)&&(be=O(be,re+(be.key==null||z&&z.key===be.key?"":(""+be.key).replace(C,"$&/")+"/")+Ue)),W.push(be)),1;Ue=0;var Dt=ce===""?".":ce+":";if(le(z))for(var st=0;st<z.length;st++)ce=z[st],we=Dt+Ce(ce,st),Ue+=X(ce,W,re,we,be);else if(st=I(z),typeof st=="function")for(z=st.call(z),st=0;!(ce=z.next()).done;)ce=ce.value,we=Dt+Ce(ce,st++),Ue+=X(ce,W,re,we,be);else if(we==="object"){if(typeof z.then=="function")return X(Ne(z),W,re,ce,be);throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(z,W,re){if(z==null)return z;var ce=[],be=0;return X(z,ce,"","",function(we){return W.call(re,we,be++)}),ce}function ge(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(re){(z._status===0||z._status===-1)&&(z._status=1,z._result=re)},function(re){(z._status===0||z._status===-1)&&(z._status=2,z._result=re)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var Be=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Qe={map:se,forEach:function(z,W,re){se(z,function(){W.apply(this,arguments)},re)},count:function(z){var W=0;return se(z,function(){W++}),W},toArray:function(z){return se(z,function(W){return W})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ee.Activity=T,Ee.Children=Qe,Ee.Component=Z,Ee.Fragment=a,Ee.Profiler=l,Ee.PureComponent=ie,Ee.StrictMode=r,Ee.Suspense=p,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(z){return w.H.useMemoCache(z)}},Ee.cache=function(z){return function(){return z.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(z,W,re){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ce=G({},z.props),be=z.key;if(W!=null)for(we in W.key!==void 0&&(be=""+W.key),W)!A.call(W,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&W.ref===void 0||(ce[we]=W[we]);var we=arguments.length-2;if(we===1)ce.children=re;else if(1<we){for(var Ue=Array(we),Dt=0;Dt<we;Dt++)Ue[Dt]=arguments[Dt+2];ce.children=Ue}return R(z.type,be,ce)},Ee.createContext=function(z){return z={$$typeof:h,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},Ee.createElement=function(z,W,re){var ce,be={},we=null;if(W!=null)for(ce in W.key!==void 0&&(we=""+W.key),W)A.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=W[ce]);var Ue=arguments.length-2;if(Ue===1)be.children=re;else if(1<Ue){for(var Dt=Array(Ue),st=0;st<Ue;st++)Dt[st]=arguments[st+2];be.children=Dt}if(z&&z.defaultProps)for(ce in Ue=z.defaultProps,Ue)be[ce]===void 0&&(be[ce]=Ue[ce]);return R(z,we,be)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(z){return{$$typeof:m,render:z}},Ee.isValidElement=V,Ee.lazy=function(z){return{$$typeof:b,_payload:{_status:-1,_result:z},_init:ge}},Ee.memo=function(z,W){return{$$typeof:g,type:z,compare:W===void 0?null:W}},Ee.startTransition=function(z){var W=w.T,re={};w.T=re;try{var ce=z(),be=w.S;be!==null&&be(re,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(oe,Be)}catch(we){Be(we)}finally{W!==null&&re.types!==null&&(W.types=re.types),w.T=W}},Ee.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Ee.use=function(z){return w.H.use(z)},Ee.useActionState=function(z,W,re){return w.H.useActionState(z,W,re)},Ee.useCallback=function(z,W){return w.H.useCallback(z,W)},Ee.useContext=function(z){return w.H.useContext(z)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(z,W){return w.H.useDeferredValue(z,W)},Ee.useEffect=function(z,W){return w.H.useEffect(z,W)},Ee.useEffectEvent=function(z){return w.H.useEffectEvent(z)},Ee.useId=function(){return w.H.useId()},Ee.useImperativeHandle=function(z,W,re){return w.H.useImperativeHandle(z,W,re)},Ee.useInsertionEffect=function(z,W){return w.H.useInsertionEffect(z,W)},Ee.useLayoutEffect=function(z,W){return w.H.useLayoutEffect(z,W)},Ee.useMemo=function(z,W){return w.H.useMemo(z,W)},Ee.useOptimistic=function(z,W){return w.H.useOptimistic(z,W)},Ee.useReducer=function(z,W,re){return w.H.useReducer(z,W,re)},Ee.useRef=function(z){return w.H.useRef(z)},Ee.useState=function(z){return w.H.useState(z)},Ee.useSyncExternalStore=function(z,W,re){return w.H.useSyncExternalStore(z,W,re)},Ee.useTransition=function(){return w.H.useTransition()},Ee.version="19.2.0",Ee}var dy;function em(){return dy||(dy=1,cd.exports=Zb()),cd.exports}var L=em();const Bi=Q1(L);var fd={exports:{}},ro={},hd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function Jb(){return my||(my=1,(function(i){function t(X,se){var ge=X.length;X.push(se);e:for(;0<ge;){var Be=ge-1>>>1,Qe=X[Be];if(0<l(Qe,se))X[Be]=se,X[ge]=Qe,ge=Be;else break e}}function a(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var se=X[0],ge=X.pop();if(ge!==se){X[0]=ge;e:for(var Be=0,Qe=X.length,z=Qe>>>1;Be<z;){var W=2*(Be+1)-1,re=X[W],ce=W+1,be=X[ce];if(0>l(re,ge))ce<Qe&&0>l(be,re)?(X[Be]=be,X[ce]=ge,Be=ce):(X[Be]=re,X[W]=ge,Be=W);else if(ce<Qe&&0>l(be,ge))X[Be]=be,X[ce]=ge,Be=ce;else break e}}return se}function l(X,se){var ge=X.sortIndex-se.sortIndex;return ge!==0?ge:X.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],b=1,T=null,N=3,I=!1,H=!1,G=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ve(X){for(var se=a(g);se!==null;){if(se.callback===null)r(g);else if(se.startTime<=X)r(g),se.sortIndex=se.expirationTime,t(p,se);else break;se=a(g)}}function le(X){if(G=!1,ve(X),!H)if(a(p)!==null)H=!0,oe||(oe=!0,M());else{var se=a(g);se!==null&&Ne(le,se.startTime-X)}}var oe=!1,w=-1,A=5,R=-1;function O(){return B?!0:!(i.unstable_now()-R<A)}function V(){if(B=!1,oe){var X=i.unstable_now();R=X;var se=!0;try{e:{H=!1,G&&(G=!1,te(w),w=-1),I=!0;var ge=N;try{t:{for(ve(X),T=a(p);T!==null&&!(T.expirationTime>X&&O());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,N=T.priorityLevel;var Qe=Be(T.expirationTime<=X);if(X=i.unstable_now(),typeof Qe=="function"){T.callback=Qe,ve(X),se=!0;break t}T===a(p)&&r(p),ve(X)}else r(p);T=a(p)}if(T!==null)se=!0;else{var z=a(g);z!==null&&Ne(le,z.startTime-X),se=!1}}break e}finally{T=null,N=ge,I=!1}se=void 0}}finally{se?M():oe=!1}}}var M;if(typeof ie=="function")M=function(){ie(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ce=C.port2;C.port1.onmessage=V,M=function(){Ce.postMessage(null)}}else M=function(){Z(V,0)};function Ne(X,se){w=Z(function(){X(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(X){switch(N){case 1:case 2:case 3:var se=3;break;default:se=N}var ge=N;N=se;try{return X()}finally{N=ge}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=N;N=X;try{return se()}finally{N=ge}},i.unstable_scheduleCallback=function(X,se,ge){var Be=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Be+ge:Be):ge=Be,X){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ge+Qe,X={id:b++,callback:se,priorityLevel:X,startTime:ge,expirationTime:Qe,sortIndex:-1},ge>Be?(X.sortIndex=ge,t(g,X),a(p)===null&&X===a(g)&&(G?(te(w),w=-1):G=!0,Ne(le,ge-Be))):(X.sortIndex=Qe,t(p,X),H||I||(H=!0,oe||(oe=!0,M()))),X},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(X){var se=N;return function(){var ge=N;N=se;try{return X.apply(this,arguments)}finally{N=ge}}}})(dd)),dd}var gy;function Wb(){return gy||(gy=1,hd.exports=Jb()),hd.exports}var md={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function e_(){if(py)return Xt;py=1;var i=em();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:p,containerInfo:g,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,b)},Xt.flushSync=function(p){var g=h.T,b=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=b,r.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:N,fetchPriority:I}):b==="script"&&r.d.X(p,{crossOrigin:T,integrity:N,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin);r.d.L(p,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Xt.requestFormReset=function(p){r.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,b){return h.H.useFormState(p,g,b)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var yy;function t_(){if(yy)return md.exports;yy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),md.exports=e_(),md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function n_(){if(xy)return ro;xy=1;var i=Wb(),t=em(),a=t_();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),e;if(d===o)return p(f),n;d=d.sibling}throw Error(r(188))}if(s.return!==o.return)s=f,o=d;else{for(var x=!1,E=f.child;E;){if(E===s){x=!0,s=f,o=d;break}if(E===o){x=!0,o=f,s=d;break}E=E.sibling}if(!x){for(E=d.child;E;){if(E===s){x=!0,s=d,o=f;break}if(E===o){x=!0,o=d,s=f;break}E=E.sibling}if(!x)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case Z:return"Profiler";case B:return"StrictMode";case le:return"Suspense";case oe:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case ie:return e.displayName||"Context";case te:return(e._context.displayName||"Context")+".Consumer";case ve:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return n=e.displayName||null,n!==null?n:Ce(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Ce(e(n))}catch{}}return null}var Ne=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Be=[],Qe=-1;function z(e){return{current:e}}function W(e){0>Qe||(e.current=Be[Qe],Be[Qe]=null,Qe--)}function re(e,n){Qe++,Be[Qe]=e.current,e.current=n}var ce=z(null),be=z(null),we=z(null),Ue=z(null);function Dt(e,n){switch(re(we,n),re(be,e),re(ce,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ip(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ip(n),e=Op(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ce),re(ce,e)}function st(){W(ce),W(be),W(we)}function Wi(e){e.memoizedState!==null&&re(Ue,e);var n=ce.current,s=Op(n,e.type);n!==s&&(re(be,e),re(ce,s))}function Ls(e){be.current===e&&(W(ce),W(be)),Ue.current===e&&(W(Ue),to._currentValue=ge)}var Ps,Bs;function ta(e){if(Ps===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ps=n&&n[1]||"",Bs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+e+Bs}var tl=!1;function es(e,n){if(!e||tl)return"";tl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var F=Y}Reflect.construct(e,[],J)}else{try{J.call()}catch(Y){F=Y}e.call(J.prototype)}}else{try{throw Error()}catch(Y){F=Y}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),x=d[0],E=d[1];if(x&&E){var D=x.split(`
`),q=E.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===q.length)for(o=D.length-1,f=q.length-1;1<=o&&0<=f&&D[o]!==q[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==q[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==q[f]){var K=`
`+D[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=f);break}}}finally{tl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ta(s):""}function nl(e,n){switch(e.tag){case 26:case 27:case 5:return ta(e.type);case 16:return ta("Lazy");case 13:return e.child!==n&&n!==null?ta("Suspense Fallback"):ta("Suspense");case 19:return ta("SuspenseList");case 0:case 15:return es(e.type,!1);case 11:return es(e.type.render,!1);case 1:return es(e.type,!0);case 31:return ta("Activity");default:return""}}function al(e){try{var n="",s=null;do n+=nl(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var xt=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,si=i.unstable_cancelCallback,ff=i.unstable_shouldYield,zo=i.unstable_requestPaint,Jt=i.unstable_now,ts=i.unstable_getCurrentPriorityLevel,il=i.unstable_ImmediatePriority,sl=i.unstable_UserBlockingPriority,ri=i.unstable_NormalPriority,hf=i.unstable_LowPriority,Uo=i.unstable_IdlePriority,Lo=i.log,Po=i.unstable_setDisableYieldValue,Ln=null,Pt=null;function Sn(e){if(typeof Lo=="function"&&Po(e),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Ln,e)}catch{}}var ht=Math.clz32?Math.clz32:ko,Bo=Math.log,ks=Math.LN2;function ko(e){return e>>>=0,e===0?32:31-(Bo(e)/ks|0)|0}var na=256,ns=262144,vt=4194304;function aa(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ia(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?f=aa(o):(x&=E,x!==0?f=aa(x):s||(s=E&~e,s!==0&&(f=aa(s))))):(E=o&~d,E!==0?f=aa(E):x!==0?f=aa(x):s||(s=o&~e,s!==0&&(f=aa(s)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:f}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function df(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var e=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),e}function sa(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function as(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mf(e,n,s,o,f,d){var x=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,D=e.expirationTimes,q=e.hiddenUpdates;for(s=x&~s;0<s;){var K=31-ht(s),J=1<<K;E[K]=0,D[K]=-1;var F=q[K];if(F!==null)for(q[K]=null,K=0;K<F.length;K++){var Y=F[K];Y!==null&&(Y.lane&=-536870913)}s&=~J}o!==0&&is(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(x&~n))}function is(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ht(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function rl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ht(s),f=1<<o;f&n|e[o]&n&&(e[o]|=n),s&=~f}}function ll(e,n){var s=n&-n;return s=(s&42)!==0?1:ss(s),(s&(e.suspendedLanes|n))!==0?0:s}function ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ma(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ho(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:ay(e.type))}function Bn(e,n){var s=se.p;try{return se.p=e,n()}finally{se.p=s}}var kn=Math.random().toString(36).slice(2),bt="__reactFiber$"+kn,jt="__reactProps$"+kn,ra="__reactContainer$"+kn,qs="__reactEvents$"+kn,gf="__reactListeners$"+kn,Fo="__reactHandles$"+kn,Go="__reactResources$"+kn,la="__reactMarker$"+kn;function Hs(e){delete e[bt],delete e[jt],delete e[qs],delete e[gf],delete e[Fo]}function oa(e){var n=e[bt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ra]||s[bt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=kp(e);e!==null;){if(s=e[bt])return s;e=kp(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[bt]||e[ra]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ua(e){var n=e[Go];return n||(n=e[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _t(e){e[la]=!0}var ol=new Set,ul={};function ca(e,n){fa(e,n),fa(e+"Capture",n)}function fa(e,n){for(ul[e]=n,e=0;e<n.length;e++)ol.add(n[e])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},hl={};function Qo(e){return xt.call(hl,e)?!0:xt.call(fl,e)?!1:cl.test(e)?hl[e]=!0:(fl[e]=!0,!1)}function Fs(e,n,s){if(Qo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function hn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Et(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function li(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dl(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(x){s=""+x,d.call(this,x)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(x){s=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ye(e){if(!e._valueTracker){var n=li(e)?"checked":"value";e._valueTracker=dl(e,n,""+e[n])}}function rs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=li(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ha(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ls=/[\n"\\]/g;function tn(e){return e.replace(ls,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gs(e,n,s,o,f,d,x,E){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),n!=null?x==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+zt(n)):e.value!==""+zt(n)&&(e.value=""+zt(n)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),n!=null?ml(e,x,zt(n)):s!=null?ml(e,x,zt(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+zt(E):e.removeAttribute("name")}function Yo(e,n,s,o,f,d,x,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Ye(e);return}s=s!=null?""+zt(s):"",n=n!=null?""+zt(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Ye(e)}function ml(e,n,s){n==="number"&&ha(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function oi(e,n,s,o){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+zt(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Xo(e,n,s){if(n!=null&&(n=""+zt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+zt(s):""}function ui(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(Ne(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=zt(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ye(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Ko.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function pl(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&gl(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&gl(e,d,n[d])}function Qs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ci=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(e){return ci.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var yl=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fi=null,da=null;function os(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[jt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Gs(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var f=o[jt]||null;if(!f)throw Error(r(90));Gs(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&rs(o)}break e;case"textarea":Xo(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&oi(e,!!s.multiple,n,!1)}}}var Xs=!1;function hi(e,n,s){if(Xs)return e(n,s);Xs=!0;try{var o=e(n);return o}finally{if(Xs=!1,(fi!==null||da!==null)&&(Hu(),fi&&(n=fi,e=da,da=fi=null,os(n),e)))for(n=0;n<e.length;n++)os(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[jt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(Rn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){us=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{us=!1}var ma=null,xl=null,cs=null;function vl(){if(cs)return cs;var e,n=xl,s=n.length,o,f="value"in ma?ma.value:ma.textContent,d=f.length;for(e=0;e<s&&n[e]===f[e];e++);var x=s-e;for(o=1;o<=x&&n[s-o]===f[d-o];o++);return cs=f.slice(e,1<o?1-o:void 0)}function fs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Va(){return!0}function Fn(){return!1}function Bt(e){function n(s,o,f,d,x){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Va:Fn,this.isPropagationStopped=Fn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),n}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Bt(Ia),di=T({},Ia,{view:0,detail:0}),bl=Bt(di),mi,Ks,pa,$s=T({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pa&&(pa&&e.type==="mousemove"?(mi=e.screenX-pa.screenX,Ks=e.screenY-pa.screenY):Ks=mi=0,pa=e),mi)},movementY:function(e){return"movementY"in e?e.movementY:Ks}}),_l=Bt($s),hs=T({},$s,{dataTransfer:0}),Zo=Bt(hs),Jo=T({},di,{relatedTarget:0}),ds=Bt(Jo),El=T({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),Wo=Bt(El),Zs=T({},Ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eu=Bt(Zs),tu=T({},Ia,{data:0}),ya=Bt(tu),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=iu[e])?!!n[e]:!1}function gi(){return su}var Wt=T({},di,{key:function(e){if(e.key){var n=nu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(e){return e.type==="keypress"?fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ru=Bt(Wt),lu=T({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oa=Bt(lu),c=T({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),y=Bt(c),v=T({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Bt(v),P=T({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Bt(P),ae=T({},Ia,{newState:0,oldState:0}),Se=Bt(ae),dt=[9,13,27,32],He=Rn&&"CompositionEvent"in window,rt=null;Rn&&"documentMode"in document&&(rt=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!rt,xa=Rn&&(!He||rt&&8<rt&&11>=rt),Gn=" ",Qn=!1;function ms(e,n){switch(e){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Js(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ws=!1;function vv(e,n){switch(e){case"compositionend":return Js(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Qn?null:e;default:return null}}function bv(e,n){if(Ws)return e==="compositionend"||!He&&ms(e,n)?(e=vl(),cs=xl=ma=null,Ws=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xa&&n.locale!=="ko"?null:n.data;default:return null}}var _v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_v[e.type]:n==="textarea"}function Gm(e,n,s,o){fi?da?da.push(o):da=[o]:fi=o,n=$u(n,"onChange"),0<n.length&&(s=new ga("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Tl=null,Sl=null;function Ev(e){Rp(e,0)}function ou(e){var n=fn(e);if(rs(n))return e}function Qm(e,n){if(e==="change")return n}var Ym=!1;if(Rn){var pf;if(Rn){var yf="oninput"in document;if(!yf){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),yf=typeof Xm.oninput=="function"}pf=yf}else pf=!1;Ym=pf&&(!document.documentMode||9<document.documentMode)}function Km(){Tl&&(Tl.detachEvent("onpropertychange",$m),Sl=Tl=null)}function $m(e){if(e.propertyName==="value"&&ou(Sl)){var n=[];Gm(n,Sl,e,wn(e)),hi(Ev,n)}}function Tv(e,n,s){e==="focusin"?(Km(),Tl=n,Sl=s,Tl.attachEvent("onpropertychange",$m)):e==="focusout"&&Km()}function Sv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ou(Sl)}function Av(e,n){if(e==="click")return ou(n)}function wv(e,n){if(e==="input"||e==="change")return ou(n)}function Rv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:Rv;function Al(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!xt.call(n,f)||!dn(e[f],n[f]))return!1}return!0}function Zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jm(e,n){var s=Zm(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zm(s)}}function Wm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Wm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function e0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ha(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ha(e.document)}return n}function xf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Cv=Rn&&"documentMode"in document&&11>=document.documentMode,er=null,vf=null,wl=null,bf=!1;function t0(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bf||er==null||er!==ha(o)||(o=er,"selectionStart"in o&&xf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),wl&&Al(wl,o)||(wl=o,o=$u(vf,"onSelect"),0<o.length&&(n=new ga("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=er)))}function gs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var tr={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},_f={},n0={};Rn&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function ps(e){if(_f[e])return _f[e];if(!tr[e])return e;var n=tr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in n0)return _f[e]=n[s];return e}var a0=ps("animationend"),i0=ps("animationiteration"),s0=ps("animationstart"),Nv=ps("transitionrun"),Dv=ps("transitionstart"),Mv=ps("transitioncancel"),r0=ps("transitionend"),l0=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function Yn(e,n){l0.set(e,n),ca(n,[e])}var uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],nr=0,Tf=0;function cu(){for(var e=nr,n=Tf=nr=0;n<e;){var s=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var f=Nn[n];Nn[n++]=null;var d=Nn[n];if(Nn[n++]=null,o!==null&&f!==null){var x=o.pending;x===null?f.next=f:(f.next=x.next,x.next=f),o.pending=f}d!==0&&o0(s,f,d)}}function fu(e,n,s,o){Nn[nr++]=e,Nn[nr++]=n,Nn[nr++]=s,Nn[nr++]=o,Tf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Sf(e,n,s,o){return fu(e,n,s,o),hu(e)}function ys(e,n){return fu(e,null,null,n),hu(e)}function o0(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-ht(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=s|536870912),d):null}function hu(e){if(50<Xl)throw Xl=0,Ih=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ar={};function Vv(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new Vv(e,n,s,o)}function Af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ja(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function u0(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function du(e,n,s,o,f,d){var x=0;if(o=e,typeof e=="function")Af(e)&&(x=1);else if(typeof e=="string")x=Ub(e,s,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=mn(31,s,n,f),e.elementType=R,e.lanes=d,e;case G:return xs(s.children,f,d,n);case B:x=8,f|=24;break;case Z:return e=mn(12,s,n,f|2),e.elementType=Z,e.lanes=d,e;case le:return e=mn(13,s,n,f),e.elementType=le,e.lanes=d,e;case oe:return e=mn(19,s,n,f),e.elementType=oe,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:x=10;break e;case te:x=9;break e;case ve:x=11;break e;case w:x=14;break e;case A:x=16,o=null;break e}x=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=mn(x,s,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function xs(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function wf(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function c0(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Rf(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var f0=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var s=f0.get(e);return s!==void 0?s:(n={value:e,source:n,stack:al(n)},f0.set(e,n),n)}return{value:e,source:n,stack:al(n)}}var ir=[],sr=0,mu=null,Rl=0,Mn=[],Vn=0,pi=null,va=1,ba="";function za(e,n){ir[sr++]=Rl,ir[sr++]=mu,mu=e,Rl=n}function h0(e,n,s){Mn[Vn++]=va,Mn[Vn++]=ba,Mn[Vn++]=pi,pi=e;var o=va;e=ba;var f=32-ht(o)-1;o&=~(1<<f),s+=1;var d=32-ht(n)+f;if(30<d){var x=f-f%5;d=(o&(1<<x)-1).toString(32),o>>=x,f-=x,va=1<<32-ht(n)+f|s<<f|o,ba=d+e}else va=1<<d|s<<f|o,ba=e}function Cf(e){e.return!==null&&(za(e,1),h0(e,1,0))}function Nf(e){for(;e===mu;)mu=ir[--sr],ir[sr]=null,Rl=ir[--sr],ir[sr]=null;for(;e===pi;)pi=Mn[--Vn],Mn[Vn]=null,ba=Mn[--Vn],Mn[Vn]=null,va=Mn[--Vn],Mn[Vn]=null}function d0(e,n){Mn[Vn++]=va,Mn[Vn++]=ba,Mn[Vn++]=pi,va=n.id,ba=n.overflow,pi=e}var kt=null,tt=null,ze=!1,yi=null,In=!1,Df=Error(r(519));function xi(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(Dn(n,e)),Df}function m0(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[bt]=e,n[jt]=o,s){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<$l.length;s++)Me($l[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),Yo(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),ui(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Mp(n.textContent,s)?(o.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),o.onScroll!=null&&Me("scroll",n),o.onScrollEnd!=null&&Me("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||xi(e,!0)}function g0(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:kt=kt.return}}function rr(e){if(e!==kt)return!1;if(!ze)return g0(e),ze=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Xh(e.type,e.memoizedProps)),s=!s),s&&tt&&xi(e),g0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));tt=Bp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));tt=Bp(e)}else n===27?(n=tt,Vi(e.type)?(e=Wh,Wh=null,tt=e):tt=n):tt=kt?jn(e.stateNode.nextSibling):null;return!0}function vs(){tt=kt=null,ze=!1}function Mf(){var e=yi;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),yi=null),e}function Cl(e){yi===null?yi=[e]:yi.push(e)}var Vf=z(null),bs=null,Ua=null;function vi(e,n,s){re(Vf,n._currentValue),n._currentValue=s}function La(e){e._currentValue=Vf.current,W(Vf)}function If(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Of(e,n,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var x=f.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=f;for(var D=0;D<n.length;D++)if(E.context===n[D]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),If(d.return,s,e),o||(x=null);break e}d=E.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(r(341));x.lanes|=s,d=x.alternate,d!==null&&(d.lanes|=s),If(x,s,e),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===e){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function lr(e,n,s,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var E=f.type;dn(f.pendingProps.value,x.value)||(e!==null?e.push(E):e=[E])}}else if(f===Ue.current){if(x=f.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(to):e=[to])}f=f.return}e!==null&&Of(n,e,s,o),n.flags|=262144}function gu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){bs=e,Ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return p0(bs,e)}function pu(e,n){return bs===null&&_s(e),p0(e,n)}function p0(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ua===null){if(e===null)throw Error(r(308));Ua=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ua=Ua.next=n;return s}var Iv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},Ov=i.unstable_scheduleCallback,jv=i.unstable_NormalPriority,Tt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new Iv,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&Ov(jv,function(){e.controller.abort()})}var Dl=null,zf=0,or=0,ur=null;function zv(e,n){if(Dl===null){var s=Dl=[];zf=0,or=Ph(),ur={status:"pending",value:void 0,then:function(o){s.push(o)}}}return zf++,n.then(y0,y0),n}function y0(){if(--zf===0&&Dl!==null){ur!==null&&(ur.status="fulfilled");var e=Dl;Dl=null,or=0,ur=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Uv(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var x0=X.S;X.S=function(e,n){tp=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&zv(e,n),x0!==null&&x0(e,n)};var Es=z(null);function Uf(){var e=Es.current;return e!==null?e:et.pooledCache}function yu(e,n){n===null?re(Es,Es.current):re(Es,n.pool)}function v0(){var e=Uf();return e===null?null:{parent:Tt._currentValue,pool:e}}var cr=Error(r(460)),Lf=Error(r(474)),xu=Error(r(542)),vu={then:function(){}};function b0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _0(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,T0(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,T0(e),e}throw Ss=n,cr}}function Ts(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ss=s,cr):s}}var Ss=null;function E0(){if(Ss===null)throw Error(r(459));var e=Ss;return Ss=null,e}function T0(e){if(e===cr||e===xu)throw Error(r(483))}var fr=null,Ml=0;function bu(e){var n=Ml;return Ml+=1,fr===null&&(fr=[]),_0(fr,e,n)}function Vl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function _u(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function S0(e){function n(U,j){if(e){var k=U.deletions;k===null?(U.deletions=[j],U.flags|=16):k.push(j)}}function s(U,j){if(!e)return null;for(;j!==null;)n(U,j),j=j.sibling;return null}function o(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function f(U,j){return U=ja(U,j),U.index=0,U.sibling=null,U}function d(U,j,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<j?(U.flags|=67108866,j):k):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function x(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,j,k,$){return j===null||j.tag!==6?(j=wf(k,U.mode,$),j.return=U,j):(j=f(j,k),j.return=U,j)}function D(U,j,k,$){var me=k.type;return me===G?K(U,j,k.props.children,$,k.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Ts(me)===j.type)?(j=f(j,k.props),Vl(j,k),j.return=U,j):(j=du(k.type,k.key,k.props,null,U.mode,$),Vl(j,k),j.return=U,j)}function q(U,j,k,$){return j===null||j.tag!==4||j.stateNode.containerInfo!==k.containerInfo||j.stateNode.implementation!==k.implementation?(j=Rf(k,U.mode,$),j.return=U,j):(j=f(j,k.children||[]),j.return=U,j)}function K(U,j,k,$,me){return j===null||j.tag!==7?(j=xs(k,U.mode,$,me),j.return=U,j):(j=f(j,k),j.return=U,j)}function J(U,j,k){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=wf(""+j,U.mode,k),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case I:return k=du(j.type,j.key,j.props,null,U.mode,k),Vl(k,j),k.return=U,k;case H:return j=Rf(j,U.mode,k),j.return=U,j;case A:return j=Ts(j),J(U,j,k)}if(Ne(j)||M(j))return j=xs(j,U.mode,k,null),j.return=U,j;if(typeof j.then=="function")return J(U,bu(j),k);if(j.$$typeof===ie)return J(U,pu(U,j),k);_u(U,j)}return null}function F(U,j,k,$){var me=j!==null?j.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return me!==null?null:E(U,j,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case I:return k.key===me?D(U,j,k,$):null;case H:return k.key===me?q(U,j,k,$):null;case A:return k=Ts(k),F(U,j,k,$)}if(Ne(k)||M(k))return me!==null?null:K(U,j,k,$,null);if(typeof k.then=="function")return F(U,j,bu(k),$);if(k.$$typeof===ie)return F(U,j,pu(U,k),$);_u(U,k)}return null}function Y(U,j,k,$,me){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(k)||null,E(j,U,""+$,me);if(typeof $=="object"&&$!==null){switch($.$$typeof){case I:return U=U.get($.key===null?k:$.key)||null,D(j,U,$,me);case H:return U=U.get($.key===null?k:$.key)||null,q(j,U,$,me);case A:return $=Ts($),Y(U,j,k,$,me)}if(Ne($)||M($))return U=U.get(k)||null,K(j,U,$,me,null);if(typeof $.then=="function")return Y(U,j,k,bu($),me);if($.$$typeof===ie)return Y(U,j,k,pu(j,$),me);_u(j,$)}return null}function fe(U,j,k,$){for(var me=null,ke=null,he=j,Re=j=0,Ie=null;he!==null&&Re<k.length;Re++){he.index>Re?(Ie=he,he=null):Ie=he.sibling;var qe=F(U,he,k[Re],$);if(qe===null){he===null&&(he=Ie);break}e&&he&&qe.alternate===null&&n(U,he),j=d(qe,j,Re),ke===null?me=qe:ke.sibling=qe,ke=qe,he=Ie}if(Re===k.length)return s(U,he),ze&&za(U,Re),me;if(he===null){for(;Re<k.length;Re++)he=J(U,k[Re],$),he!==null&&(j=d(he,j,Re),ke===null?me=he:ke.sibling=he,ke=he);return ze&&za(U,Re),me}for(he=o(he);Re<k.length;Re++)Ie=Y(he,U,Re,k[Re],$),Ie!==null&&(e&&Ie.alternate!==null&&he.delete(Ie.key===null?Re:Ie.key),j=d(Ie,j,Re),ke===null?me=Ie:ke.sibling=Ie,ke=Ie);return e&&he.forEach(function(Ui){return n(U,Ui)}),ze&&za(U,Re),me}function ye(U,j,k,$){if(k==null)throw Error(r(151));for(var me=null,ke=null,he=j,Re=j=0,Ie=null,qe=k.next();he!==null&&!qe.done;Re++,qe=k.next()){he.index>Re?(Ie=he,he=null):Ie=he.sibling;var Ui=F(U,he,qe.value,$);if(Ui===null){he===null&&(he=Ie);break}e&&he&&Ui.alternate===null&&n(U,he),j=d(Ui,j,Re),ke===null?me=Ui:ke.sibling=Ui,ke=Ui,he=Ie}if(qe.done)return s(U,he),ze&&za(U,Re),me;if(he===null){for(;!qe.done;Re++,qe=k.next())qe=J(U,qe.value,$),qe!==null&&(j=d(qe,j,Re),ke===null?me=qe:ke.sibling=qe,ke=qe);return ze&&za(U,Re),me}for(he=o(he);!qe.done;Re++,qe=k.next())qe=Y(he,U,Re,qe.value,$),qe!==null&&(e&&qe.alternate!==null&&he.delete(qe.key===null?Re:qe.key),j=d(qe,j,Re),ke===null?me=qe:ke.sibling=qe,ke=qe);return e&&he.forEach(function(Xb){return n(U,Xb)}),ze&&za(U,Re),me}function We(U,j,k,$){if(typeof k=="object"&&k!==null&&k.type===G&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case I:e:{for(var me=k.key;j!==null;){if(j.key===me){if(me=k.type,me===G){if(j.tag===7){s(U,j.sibling),$=f(j,k.props.children),$.return=U,U=$;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Ts(me)===j.type){s(U,j.sibling),$=f(j,k.props),Vl($,k),$.return=U,U=$;break e}s(U,j);break}else n(U,j);j=j.sibling}k.type===G?($=xs(k.props.children,U.mode,$,k.key),$.return=U,U=$):($=du(k.type,k.key,k.props,null,U.mode,$),Vl($,k),$.return=U,U=$)}return x(U);case H:e:{for(me=k.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===k.containerInfo&&j.stateNode.implementation===k.implementation){s(U,j.sibling),$=f(j,k.children||[]),$.return=U,U=$;break e}else{s(U,j);break}else n(U,j);j=j.sibling}$=Rf(k,U.mode,$),$.return=U,U=$}return x(U);case A:return k=Ts(k),We(U,j,k,$)}if(Ne(k))return fe(U,j,k,$);if(M(k)){if(me=M(k),typeof me!="function")throw Error(r(150));return k=me.call(k),ye(U,j,k,$)}if(typeof k.then=="function")return We(U,j,bu(k),$);if(k.$$typeof===ie)return We(U,j,pu(U,k),$);_u(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,j!==null&&j.tag===6?(s(U,j.sibling),$=f(j,k),$.return=U,U=$):(s(U,j),$=wf(k,U.mode,$),$.return=U,U=$),x(U)):s(U,j)}return function(U,j,k,$){try{Ml=0;var me=We(U,j,k,$);return fr=null,me}catch(he){if(he===cr||he===xu)throw he;var ke=mn(29,he,null,U.mode);return ke.lanes=$,ke.return=U,ke}finally{}}}var As=S0(!0),A0=S0(!1),bi=!1;function Pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=hu(e),o0(e,null,s),n}return fu(e,o,n,s),hu(e)}function Il(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,rl(e,s)}}function kf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var x={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=x:d=d.next=x,s=s.next}while(s!==null);d===null?f=d=n:d=d.next=n}else f=d=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var qf=!1;function Ol(){if(qf){var e=ur;if(e!==null)throw e}}function jl(e,n,s,o){qf=!1;var f=e.updateQueue;bi=!1;var d=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var D=E,q=D.next;D.next=null,x===null?d=q:x.next=q,x=D;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==x&&(E===null?K.firstBaseUpdate=q:E.next=q,K.lastBaseUpdate=D))}if(d!==null){var J=f.baseState;x=0,K=q=D=null,E=d;do{var F=E.lane&-536870913,Y=F!==E.lane;if(Y?(Ve&F)===F:(o&F)===F){F!==0&&F===or&&(qf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=e,ye=E;F=n;var We=s;switch(ye.tag){case 1:if(fe=ye.payload,typeof fe=="function"){J=fe.call(We,J,F);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ye.payload,F=typeof fe=="function"?fe.call(We,J,F):fe,F==null)break e;J=T({},J,F);break e;case 2:bi=!0}}F=E.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(q=K=Y,D=J):K=K.next=Y,x|=F;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);K===null&&(D=J),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Ri|=x,e.lanes=x,e.memoizedState=J}}function w0(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function R0(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)w0(s[e],n)}var hr=z(null),Eu=z(0);function C0(e,n){e=Ya,re(Eu,e),re(hr,n),Ya=e|n.baseLanes}function Hf(){re(Eu,Ya),re(hr,hr.current)}function Ff(){Ya=Eu.current,W(hr),W(Eu)}var gn=z(null),On=null;function Ti(e){var n=e.alternate;re(mt,mt.current&1),re(gn,e),On===null&&(n===null||hr.current!==null||n.memoizedState!==null)&&(On=e)}function Gf(e){re(mt,mt.current),re(gn,e),On===null&&(On=e)}function N0(e){e.tag===22?(re(mt,mt.current),re(gn,e),On===null&&(On=e)):Si()}function Si(){re(mt,mt.current),re(gn,gn.current)}function pn(e){W(gn),On===e&&(On=null),W(mt)}var mt=z(0);function Tu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Zh(s)||Jh(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pa=0,Ae=null,Ze=null,St=null,Su=!1,dr=!1,ws=!1,Au=0,zl=0,mr=null,Lv=0;function ct(){throw Error(r(321))}function Qf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function Yf(e,n,s,o,f,d){return Pa=d,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=e===null||e.memoizedState===null?hg:oh,ws=!1,d=s(o,f),ws=!1,dr&&(d=M0(n,s,o,f)),D0(e),d}function D0(e){X.H=Pl;var n=Ze!==null&&Ze.next!==null;if(Pa=0,St=Ze=Ae=null,Su=!1,zl=0,mr=null,n)throw Error(r(300));e===null||At||(e=e.dependencies,e!==null&&gu(e)&&(At=!0))}function M0(e,n,s,o){Ae=e;var f=0;do{if(dr&&(mr=null),zl=0,dr=!1,25<=f)throw Error(r(301));if(f+=1,St=Ze=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=dg,d=n(s,o)}while(dr);return d}function Pv(){var e=X.H,n=e.useState()[0];return n=typeof n.then=="function"?Ul(n):n,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Ae.flags|=1024),n}function Xf(){var e=Au!==0;return Au=0,e}function Kf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function $f(e){if(Su){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Su=!1}Pa=0,St=Ze=Ae=null,dr=!1,zl=Au=0,mr=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ae.memoizedState=St=e:St=St.next=e,St}function gt(){if(Ze===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var n=St===null?Ae.memoizedState:St.next;if(n!==null)St=n,Ze=e;else{if(e===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?Ae.memoizedState=St=e:St=St.next=e}return St}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(e){var n=zl;return zl+=1,mr===null&&(mr=[]),e=_0(mr,e,n),n=Ae,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?hg:oh),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ul(e);if(e.$$typeof===ie)return qt(e)}throw Error(r(438,String(e)))}function Zf(e){var n=null,s=Ae.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=wu(),Ae.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=O;return n.index++,s}function Ba(e,n){return typeof n=="function"?n(e):n}function Cu(e){var n=gt();return Jf(n,Ze,e)}function Jf(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var x=f.next;f.next=d.next,d.next=x}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var E=x=null,D=null,q=n,K=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Ve&J)===J:(Pa&J)===J){var F=q.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===or&&(K=!0);else if((Pa&F)===F){q=q.next,F===or&&(K=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=J,x=d):D=D.next=J,Ae.lanes|=F,Ri|=F;J=q.action,ws&&s(d,J),d=q.hasEagerState?q.eagerState:s(d,J)}else F={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(E=D=F,x=d):D=D.next=F,Ae.lanes|=J,Ri|=J;q=q.next}while(q!==null&&q!==n);if(D===null?x=d:D.next=E,!dn(d,e.memoizedState)&&(At=!0,K&&(s=ur,s!==null)))throw s;e.memoizedState=d,e.baseState=x,e.baseQueue=D,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Wf(e){var n=gt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=n.memoizedState;if(f!==null){s.pending=null;var x=f=f.next;do d=e(d,x.action),x=x.next;while(x!==f);dn(d,n.memoizedState)||(At=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function V0(e,n,s){var o=Ae,f=gt(),d=ze;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var x=!dn((Ze||f).memoizedState,s);if(x&&(f.memoizedState=s,At=!0),f=f.queue,nh(j0.bind(null,o,f,e),[e]),f.getSnapshot!==n||x||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,gr(9,{destroy:void 0},O0.bind(null,o,f,s,n),null),et===null)throw Error(r(349));d||(Pa&127)!==0||I0(o,n,s)}return s}function I0(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ae.updateQueue,n===null?(n=wu(),Ae.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function O0(e,n,s,o){n.value=s,n.getSnapshot=o,z0(n)&&U0(e)}function j0(e,n,s){return s(function(){z0(n)&&U0(e)})}function z0(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function U0(e){var n=ys(e,2);n!==null&&on(n,e,2)}function eh(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),ws){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e},n}function L0(e,n,s,o){return e.baseState=s,Jf(e,Ze,typeof o=="function"?o:Ba)}function Bv(e,n,s,o,f){if(Mu(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){d.listeners.push(x)}};X.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,P0(n,d)):(d.next=s.next,n.pending=s.next=d)}}function P0(e,n){var s=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=X.T,x={};X.T=x;try{var E=s(f,o),D=X.S;D!==null&&D(x,E),B0(e,n,E)}catch(q){th(e,n,q)}finally{d!==null&&x.types!==null&&(d.types=x.types),X.T=d}}else try{d=s(f,o),B0(e,n,d)}catch(q){th(e,n,q)}}function B0(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){k0(e,n,o)},function(o){return th(e,n,o)}):k0(e,n,s)}function k0(e,n,s){n.status="fulfilled",n.value=s,q0(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,P0(e,s)))}function th(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,q0(n),n=n.next;while(n!==o)}e.action=null}function q0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function H0(e,n){return n}function F0(e,n){if(ze){var s=et.formState;if(s!==null){e:{var o=Ae;if(ze){if(tt){t:{for(var f=tt,d=In;f.nodeType!==8;){if(!d){f=null;break t}if(f=jn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=jn(f.nextSibling),o=f.data==="F!";break e}}xi(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H0,lastRenderedState:n},s.queue=o,s=ug.bind(null,Ae,o),o.dispatch=s,o=eh(!1),d=lh.bind(null,Ae,!1,o.queue),o=en(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,s=Bv.bind(null,Ae,f,d,s),f.dispatch=s,o.memoizedState=e,[n,s,!1]}function G0(e){var n=gt();return Q0(n,Ze,e)}function Q0(e,n,s){if(n=Jf(e,n,H0)[0],e=Cu(Ba)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ul(n)}catch(x){throw x===cr?xu:x}else o=n;n=gt();var f=n.queue,d=f.dispatch;return s!==n.memoizedState&&(Ae.flags|=2048,gr(9,{destroy:void 0},kv.bind(null,f,s),null)),[o,d,e]}function kv(e,n){e.action=n}function Y0(e){var n=gt(),s=Ze;if(s!==null)return Q0(n,s,e);gt(),n=n.memoizedState,s=gt();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function gr(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=wu(),Ae.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function X0(){return gt().memoizedState}function Nu(e,n,s,o){var f=en();Ae.flags|=e,f.memoizedState=gr(1|n,{destroy:void 0},s,o===void 0?null:o)}function Du(e,n,s,o){var f=gt();o=o===void 0?null:o;var d=f.memoizedState.inst;Ze!==null&&o!==null&&Qf(o,Ze.memoizedState.deps)?f.memoizedState=gr(n,d,s,o):(Ae.flags|=e,f.memoizedState=gr(1|n,d,s,o))}function K0(e,n){Nu(8390656,8,e,n)}function nh(e,n){Du(2048,8,e,n)}function qv(e){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=wu(),Ae.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function $0(e){var n=gt().memoizedState;return qv({ref:n,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Z0(e,n){return Du(4,2,e,n)}function J0(e,n){return Du(4,4,e,n)}function W0(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function eg(e,n,s){s=s!=null?s.concat([e]):null,Du(4,4,W0.bind(null,n,e),s)}function ah(){}function tg(e,n){var s=gt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Qf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function ng(e,n){var s=gt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Qf(n,o[1]))return o[0];if(o=e(),ws){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function ih(e,n,s){return s===void 0||(Pa&1073741824)!==0&&(Ve&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=ap(),Ae.lanes|=e,Ri|=e,s)}function ag(e,n,s,o){return dn(s,n)?s:hr.current!==null?(e=ih(e,s,o),dn(e,n)||(At=!0),e):(Pa&42)===0||(Pa&1073741824)!==0&&(Ve&261930)===0?(At=!0,e.memoizedState=s):(e=ap(),Ae.lanes|=e,Ri|=e,n)}function ig(e,n,s,o,f){var d=se.p;se.p=d!==0&&8>d?d:8;var x=X.T,E={};X.T=E,lh(e,!1,n,s);try{var D=f(),q=X.S;if(q!==null&&q(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=Uv(D,o);Ll(e,n,K,vn(e))}else Ll(e,n,o,vn(e))}catch(J){Ll(e,n,{then:function(){},status:"rejected",reason:J},vn())}finally{se.p=d,x!==null&&E.types!==null&&(x.types=E.types),X.T=x}}function Hv(){}function sh(e,n,s,o){if(e.tag!==5)throw Error(r(476));var f=sg(e).queue;ig(e,f,n,ge,s===null?Hv:function(){return rg(e),s(o)})}function sg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:ge},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function rg(e){var n=sg(e);n.next===null&&(n=e.alternate.memoizedState),Ll(e,n.next.queue,{},vn())}function rh(){return qt(to)}function lg(){return gt().memoizedState}function og(){return gt().memoizedState}function Fv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=_i(s);var o=Ei(n,e,s);o!==null&&(on(o,n,s),Il(o,n,s)),n={cache:jf()},e.payload=n;return}n=n.return}}function Gv(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Mu(e)?cg(n,s):(s=Sf(e,n,s,o),s!==null&&(on(s,e,o),fg(s,n,o)))}function ug(e,n,s){var o=vn();Ll(e,n,s,o)}function Ll(e,n,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mu(e))cg(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var x=n.lastRenderedState,E=d(x,s);if(f.hasEagerState=!0,f.eagerState=E,dn(E,x))return fu(e,n,f,0),et===null&&cu(),!1}catch{}finally{}if(s=Sf(e,n,f,o),s!==null)return on(s,e,o),fg(s,n,o),!0}return!1}function lh(e,n,s,o){if(o={lane:2,revertLane:Ph(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mu(e)){if(n)throw Error(r(479))}else n=Sf(e,s,o,2),n!==null&&on(n,e,2)}function Mu(e){var n=e.alternate;return e===Ae||n!==null&&n===Ae}function cg(e,n){dr=Su=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function fg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,rl(e,s)}}var Pl={readContext:qt,use:Ru,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Pl.useEffectEvent=ct;var hg={readContext:qt,use:Ru,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qt,useEffect:K0,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Nu(4194308,4,W0.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Nu(4194308,4,e,n)},useInsertionEffect:function(e,n){Nu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(ws){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var f=s(n);if(ws){Sn(!0);try{s(n)}finally{Sn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=Gv.bind(null,Ae,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=eh(e);var n=e.queue,s=ug.bind(null,Ae,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ah,useDeferredValue:function(e,n){var s=en();return ih(s,e,n)},useTransition:function(){var e=eh(!1);return e=ig.bind(null,Ae,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ae,f=en();if(ze){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),et===null)throw Error(r(349));(Ve&127)!==0||I0(o,n,s)}f.memoizedState=s;var d={value:s,getSnapshot:n};return f.queue=d,K0(j0.bind(null,o,d,e),[e]),o.flags|=2048,gr(9,{destroy:void 0},O0.bind(null,o,d,s,n),null),s},useId:function(){var e=en(),n=et.identifierPrefix;if(ze){var s=ba,o=va;s=(o&~(1<<32-ht(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Au++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Lv++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rh,useFormState:F0,useActionState:F0,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=lh.bind(null,Ae,!0,s),s.dispatch=n,[e,n]},useMemoCache:Zf,useCacheRefresh:function(){return en().memoizedState=Fv.bind(null,Ae)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Fe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},oh={readContext:qt,use:Ru,useCallback:tg,useContext:qt,useEffect:nh,useImperativeHandle:eg,useInsertionEffect:Z0,useLayoutEffect:J0,useMemo:ng,useReducer:Cu,useRef:X0,useState:function(){return Cu(Ba)},useDebugValue:ah,useDeferredValue:function(e,n){var s=gt();return ag(s,Ze.memoizedState,e,n)},useTransition:function(){var e=Cu(Ba)[0],n=gt().memoizedState;return[typeof e=="boolean"?e:Ul(e),n]},useSyncExternalStore:V0,useId:lg,useHostTransitionStatus:rh,useFormState:G0,useActionState:G0,useOptimistic:function(e,n){var s=gt();return L0(s,Ze,e,n)},useMemoCache:Zf,useCacheRefresh:og};oh.useEffectEvent=$0;var dg={readContext:qt,use:Ru,useCallback:tg,useContext:qt,useEffect:nh,useImperativeHandle:eg,useInsertionEffect:Z0,useLayoutEffect:J0,useMemo:ng,useReducer:Wf,useRef:X0,useState:function(){return Wf(Ba)},useDebugValue:ah,useDeferredValue:function(e,n){var s=gt();return Ze===null?ih(s,e,n):ag(s,Ze.memoizedState,e,n)},useTransition:function(){var e=Wf(Ba)[0],n=gt().memoizedState;return[typeof e=="boolean"?e:Ul(e),n]},useSyncExternalStore:V0,useId:lg,useHostTransitionStatus:rh,useFormState:Y0,useActionState:Y0,useOptimistic:function(e,n){var s=gt();return Ze!==null?L0(s,Ze,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:og};dg.useEffectEvent=$0;function uh(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:T({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ch={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),f=_i(o);f.payload=n,s!=null&&(f.callback=s),n=Ei(e,f,o),n!==null&&(on(n,e,o),Il(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),f=_i(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Ei(e,f,o),n!==null&&(on(n,e,o),Il(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=_i(s);o.tag=2,n!=null&&(o.callback=n),n=Ei(e,o,s),n!==null&&(on(n,e,s),Il(n,e,s))}};function mg(e,n,s,o,f,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,x):n.prototype&&n.prototype.isPureReactComponent?!Al(s,o)||!Al(f,d):!0}function gg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&ch.enqueueReplaceState(n,n.state,null)}function Rs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=T({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}function pg(e){uu(e)}function yg(e){console.error(e)}function xg(e){uu(e)}function Vu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function vg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fh(e,n,s){return s=_i(s),s.tag=3,s.payload={element:null},s.callback=function(){Vu(e,n)},s}function bg(e){return e=_i(e),e.tag=3,e}function _g(e,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){vg(n,s,o)}}var x=s.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){vg(n,s,o),typeof f!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Qv(e,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&lr(n,s,f,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?Fu():s.alternate===null&&ft===0&&(ft=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),zh(e,o,f)),!1;case 22:return s.flags|=65536,o===vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),zh(e,o,f)),!1}throw Error(r(435,s.tag))}return zh(e,o,f),Fu(),!1}if(ze)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Df&&(e=Error(r(422),{cause:o}),Cl(Dn(e,s)))):(o!==Df&&(n=Error(r(423),{cause:o}),Cl(Dn(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Dn(o,s),f=fh(e.stateNode,o,f),kf(e,f),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:o});if(d=Dn(d,s),Yl===null?Yl=[d]:Yl.push(d),ft!==4&&(ft=2),n===null)return!0;o=Dn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=fh(s.stateNode,o,e),kf(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=bg(f),_g(f,e,s,o),kf(s,f),!1}s=s.return}while(s!==null);return!1}var hh=Error(r(461)),At=!1;function Ht(e,n,s,o){n.child=e===null?A0(n,null,s,o):As(n,e.child,s,o)}function Eg(e,n,s,o,f){s=s.render;var d=n.ref;if("ref"in o){var x={};for(var E in o)E!=="ref"&&(x[E]=o[E])}else x=o;return _s(n),o=Yf(e,n,s,x,d,f),E=Xf(),e!==null&&!At?(Kf(e,n,f),ka(e,n,f)):(ze&&E&&Cf(n),n.flags|=1,Ht(e,n,o,f),n.child)}function Tg(e,n,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Sg(e,n,d,o,f)):(e=du(s.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!bh(e,f)){var x=d.memoizedProps;if(s=s.compare,s=s!==null?s:Al,s(x,o)&&e.ref===n.ref)return ka(e,n,f)}return n.flags|=1,e=ja(d,o),e.ref=n.ref,e.return=n,n.child=e}function Sg(e,n,s,o,f){if(e!==null){var d=e.memoizedProps;if(Al(d,o)&&e.ref===n.ref)if(At=!1,n.pendingProps=o=d,bh(e,f))(e.flags&131072)!==0&&(At=!0);else return n.lanes=e.lanes,ka(e,n,f)}return dh(e,n,s,o,f)}function Ag(e,n,s,o){var f=o.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(o=n.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~d}else o=0,n.child=null;return wg(e,n,d,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&yu(n,d!==null?d.cachePool:null),d!==null?C0(n,d):Hf(),N0(n);else return o=n.lanes=536870912,wg(e,n,d!==null?d.baseLanes|s:s,s,o)}else d!==null?(yu(n,d.cachePool),C0(n,d),Si(),n.memoizedState=null):(e!==null&&yu(n,null),Hf(),Si());return Ht(e,n,f,s),n.child}function Bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function wg(e,n,s,o,f){var d=Uf();return d=d===null?null:{parent:Tt._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},e!==null&&yu(n,null),Hf(),N0(n),e!==null&&lr(e,n,o,!0),n.childLanes=f,null}function Iu(e,n){return n=ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Rg(e,n,s){return As(n,e.child,null,s),e=Iu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function Yv(e,n,s){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ze){if(o.mode==="hidden")return e=Iu(n,o),n.lanes=536870912,Bl(null,e);if(Gf(n),(e=tt)?(e=Pp(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pi!==null?{id:va,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},s=c0(e),s.return=n,n.child=s,kt=n,tt=null)):e=null,e===null)throw xi(n);return n.lanes=536870912,null}return Iu(n,o)}var d=e.memoizedState;if(d!==null){var x=d.dehydrated;if(Gf(n),f)if(n.flags&256)n.flags&=-257,n=Rg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(At||lr(e,n,s,!1),f=(s&e.childLanes)!==0,At||f){if(o=et,o!==null&&(x=ll(o,s),x!==0&&x!==d.retryLane))throw d.retryLane=x,ys(e,x),on(o,e,x),hh;Fu(),n=Rg(e,n,s)}else e=d.treeContext,tt=jn(x.nextSibling),kt=n,ze=!0,yi=null,In=!1,e!==null&&d0(n,e),n=Iu(n,o),n.flags|=4096;return n}return e=ja(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ou(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function dh(e,n,s,o,f){return _s(n),s=Yf(e,n,s,o,void 0,f),o=Xf(),e!==null&&!At?(Kf(e,n,f),ka(e,n,f)):(ze&&o&&Cf(n),n.flags|=1,Ht(e,n,s,f),n.child)}function Cg(e,n,s,o,f,d){return _s(n),n.updateQueue=null,s=M0(n,o,s,f),D0(e),o=Xf(),e!==null&&!At?(Kf(e,n,d),ka(e,n,d)):(ze&&o&&Cf(n),n.flags|=1,Ht(e,n,s,d),n.child)}function Ng(e,n,s,o,f){if(_s(n),n.stateNode===null){var d=ar,x=s.contextType;typeof x=="object"&&x!==null&&(d=qt(x)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ch,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Pf(n),x=s.contextType,d.context=typeof x=="object"&&x!==null?qt(x):ar,d.state=n.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(uh(n,s,x,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(x=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),x!==d.state&&ch.enqueueReplaceState(d,d.state,null),jl(n,o,d,f),Ol(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var E=n.memoizedProps,D=Rs(s,E);d.props=D;var q=d.context,K=s.contextType;x=ar,typeof K=="object"&&K!==null&&(x=qt(K));var J=s.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||q!==x)&&gg(n,d,o,x),bi=!1;var F=n.memoizedState;d.state=F,jl(n,o,d,f),Ol(),q=n.memoizedState,E||F!==q||bi?(typeof J=="function"&&(uh(n,s,J,o),q=n.memoizedState),(D=bi||mg(n,s,D,o,F,q,x))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=q),d.props=o,d.state=q,d.context=x,o=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Bf(e,n),x=n.memoizedProps,K=Rs(s,x),d.props=K,J=n.pendingProps,F=d.context,q=s.contextType,D=ar,typeof q=="object"&&q!==null&&(D=qt(q)),E=s.getDerivedStateFromProps,(q=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==J||F!==D)&&gg(n,d,o,D),bi=!1,F=n.memoizedState,d.state=F,jl(n,o,d,f),Ol();var Y=n.memoizedState;x!==J||F!==Y||bi||e!==null&&e.dependencies!==null&&gu(e.dependencies)?(typeof E=="function"&&(uh(n,s,E,o),Y=n.memoizedState),(K=bi||mg(n,s,K,o,F,Y,D)||e!==null&&e.dependencies!==null&&gu(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Y,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Y),d.props=o,d.state=Y,d.context=D,o=K):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Ou(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=As(n,e.child,null,f),n.child=As(n,null,s,f)):Ht(e,n,s,f),n.memoizedState=d.state,e=n.child):e=ka(e,n,f),e}function Dg(e,n,s,o){return vs(),n.flags|=256,Ht(e,n,s,o),n.child}var mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gh(e){return{baseLanes:e,cachePool:v0()}}function ph(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=xn),e}function Mg(e,n,s){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),x&&(f=!0,n.flags&=-129),x=(n.flags&32)!==0,n.flags&=-33,e===null){if(ze){if(f?Ti(n):Si(),(e=tt)?(e=Pp(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pi!==null?{id:va,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},s=c0(e),s.return=n,n.child=s,kt=n,tt=null)):e=null,e===null)throw xi(n);return Jh(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,f?(Si(),f=n.mode,E=ju({mode:"hidden",children:E},f),o=xs(o,f,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=gh(s),o.childLanes=ph(e,x,s),n.memoizedState=mh,Bl(null,o)):(Ti(n),yh(n,E))}var D=e.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(d)n.flags&256?(Ti(n),n.flags&=-257,n=xh(e,n,s)):n.memoizedState!==null?(Si(),n.child=e.child,n.flags|=128,n=null):(Si(),E=o.fallback,f=n.mode,o=ju({mode:"visible",children:o.children},f),E=xs(E,f,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,As(n,e.child,null,s),o=n.child,o.memoizedState=gh(s),o.childLanes=ph(e,x,s),n.memoizedState=mh,n=Bl(null,o));else if(Ti(n),Jh(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var q=x.dgst;x=q,o=Error(r(419)),o.stack="",o.digest=x,Cl({value:o,source:null,stack:null}),n=xh(e,n,s)}else if(At||lr(e,n,s,!1),x=(s&e.childLanes)!==0,At||x){if(x=et,x!==null&&(o=ll(x,s),o!==0&&o!==D.retryLane))throw D.retryLane=o,ys(e,o),on(x,e,o),hh;Zh(E)||Fu(),n=xh(e,n,s)}else Zh(E)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,tt=jn(E.nextSibling),kt=n,ze=!0,yi=null,In=!1,e!==null&&d0(n,e),n=yh(n,o.children),n.flags|=4096);return n}return f?(Si(),E=o.fallback,f=n.mode,D=e.child,q=D.sibling,o=ja(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,q!==null?E=ja(q,E):(E=xs(E,f,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Bl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=gh(s):(f=E.cachePool,f!==null?(D=Tt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=v0(),E={baseLanes:E.baseLanes|s,cachePool:f}),o.memoizedState=E,o.childLanes=ph(e,x,s),n.memoizedState=mh,Bl(e.child,o)):(Ti(n),s=e.child,e=s.sibling,s=ja(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(x=n.deletions,x===null?(n.deletions=[e],n.flags|=16):x.push(e)),n.child=s,n.memoizedState=null,s)}function yh(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function xh(e,n,s){return As(n,e.child,null,s),e=yh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Vg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),If(e.return,n,s)}function vh(e,n,s,o,f,d){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:d}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=o,x.tail=s,x.tailMode=f,x.treeForkCount=d)}function Ig(e,n,s){var o=n.pendingProps,f=o.revealOrder,d=o.tail;o=o.children;var x=mt.current,E=(x&2)!==0;if(E?(x=x&1|2,n.flags|=128):x&=1,re(mt,x),Ht(e,n,o,s),o=ze?Rl:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vg(e,s,n);else if(e.tag===19)Vg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&Tu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),vh(n,!1,f,s,d,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Tu(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}vh(n,!0,s,null,d,o);break;case"together":vh(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ka(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ri|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(lr(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=ja(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ja(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function bh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&gu(e)))}function Xv(e,n,s){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),vi(n,Tt,e.memoizedState.cache),vs();break;case 27:case 5:Wi(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:vi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ti(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Mg(e,n,s):(Ti(n),e=ka(e,n,s),e!==null?e.sibling:null);Ti(n);break;case 19:var f=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(lr(e,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return Ig(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(mt,mt.current),o)break;return null;case 22:return n.lanes=0,Ag(e,n,s,n.pendingProps);case 24:vi(n,Tt,e.memoizedState.cache)}return ka(e,n,s)}function Og(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)At=!0;else{if(!bh(e,s)&&(n.flags&128)===0)return At=!1,Xv(e,n,s);At=(e.flags&131072)!==0}else At=!1,ze&&(n.flags&1048576)!==0&&h0(n,Rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Ts(n.elementType),n.type=e,typeof e=="function")Af(e)?(o=Rs(e,o),n.tag=1,n=Ng(null,n,e,o,s)):(n.tag=0,n=dh(null,n,e,o,s));else{if(e!=null){var f=e.$$typeof;if(f===ve){n.tag=11,n=Eg(null,n,e,o,s);break e}else if(f===w){n.tag=14,n=Tg(null,n,e,o,s);break e}}throw n=Ce(e)||e,Error(r(306,n,""))}}return n;case 0:return dh(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Rs(o,n.pendingProps),Ng(e,n,o,f,s);case 3:e:{if(Dt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,Bf(e,n),jl(n,o,null,s);var x=n.memoizedState;if(o=x.cache,vi(n,Tt,o),o!==d.cache&&Of(n,[Tt],s,!0),Ol(),o=x.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:x.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Dg(e,n,o,s);break e}else if(o!==f){f=Dn(Error(r(424)),n),Cl(f),n=Dg(e,n,o,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=jn(e.firstChild),kt=n,ze=!0,yi=null,In=!0,s=A0(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vs(),o===f){n=ka(e,n,s);break e}Ht(e,n,o,s)}n=n.child}return n;case 26:return Ou(e,n),e===null?(s=Gp(n.type,null,n.pendingProps,null))?n.memoizedState=s:ze||(s=n.type,e=n.pendingProps,o=Zu(we.current).createElement(s),o[bt]=n,o[jt]=e,Ft(o,s,e),_t(o),n.stateNode=o):n.memoizedState=Gp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Wi(n),e===null&&ze&&(o=n.stateNode=qp(n.type,n.pendingProps,we.current),kt=n,In=!0,f=tt,Vi(n.type)?(Wh=f,tt=jn(o.firstChild)):tt=f),Ht(e,n,n.pendingProps.children,s),Ou(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ze&&((f=o=tt)&&(o=Sb(o,n.type,n.pendingProps,In),o!==null?(n.stateNode=o,kt=n,tt=jn(o.firstChild),In=!1,f=!0):f=!1),f||xi(n)),Wi(n),f=n.type,d=n.pendingProps,x=e!==null?e.memoizedProps:null,o=d.children,Xh(f,d)?o=null:x!==null&&Xh(f,x)&&(n.flags|=32),n.memoizedState!==null&&(f=Yf(e,n,Pv,null,null,s),to._currentValue=f),Ou(e,n),Ht(e,n,o,s),n.child;case 6:return e===null&&ze&&((e=s=tt)&&(s=Ab(s,n.pendingProps,In),s!==null?(n.stateNode=s,kt=n,tt=null,e=!0):e=!1),e||xi(n)),null;case 13:return Mg(e,n,s);case 4:return Dt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=As(n,null,o,s):Ht(e,n,o,s),n.child;case 11:return Eg(e,n,n.type,n.pendingProps,s);case 7:return Ht(e,n,n.pendingProps,s),n.child;case 8:return Ht(e,n,n.pendingProps.children,s),n.child;case 12:return Ht(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,vi(n,n.type,o.value),Ht(e,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,_s(n),f=qt(f),o=o(f),n.flags|=1,Ht(e,n,o,s),n.child;case 14:return Tg(e,n,n.type,n.pendingProps,s);case 15:return Sg(e,n,n.type,n.pendingProps,s);case 19:return Ig(e,n,s);case 31:return Yv(e,n,s);case 22:return Ag(e,n,s,n.pendingProps);case 24:return _s(n),o=qt(Tt),e===null?(f=Uf(),f===null&&(f=et,d=jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),n.memoizedState={parent:o,cache:f},Pf(n),vi(n,Tt,f)):((e.lanes&s)!==0&&(Bf(e,n),jl(n,null,null,s),Ol()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),vi(n,Tt,o)):(o=d.cache,vi(n,Tt,o),o!==f.cache&&Of(n,[Tt],s,!0))),Ht(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function qa(e){e.flags|=4}function _h(e,n,s,o,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(lp())e.flags|=8192;else throw Ss=vu,Lf}else e.flags&=-16777217}function jg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$p(n))if(lp())e.flags|=8192;else throw Ss=vu,Lf}function zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?qo():536870912,e.lanes|=n,vr|=n)}function kl(e,n){if(!ze)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function Kv(e,n,s){var o=n.pendingProps;switch(Nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),La(Tt),st(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(rr(n)?qa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mf())),nt(n),null;case 26:var f=n.type,d=n.memoizedState;return e===null?(qa(n),d!==null?(nt(n),jg(n,d)):(nt(n),_h(n,f,null,o,s))):d?d!==e.memoizedState?(qa(n),nt(n),jg(n,d)):(nt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qa(n),nt(n),_h(n,f,e,o,s)),null;case 27:if(Ls(n),s=we.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qa(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return nt(n),null}e=ce.current,rr(n)?m0(n):(e=qp(f,o,s),n.stateNode=e,qa(n))}return nt(n),null;case 5:if(Ls(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qa(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return nt(n),null}if(d=ce.current,rr(n))m0(n);else{var x=Zu(we.current);switch(d){case 1:d=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=x.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?x.createElement("select",{is:o.is}):x.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?x.createElement(f,{is:o.is}):x.createElement(f)}}d[bt]=n,d[jt]=o;e:for(x=n.child;x!==null;){if(x.tag===5||x.tag===6)d.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===n)break e;for(;x.sibling===null;){if(x.return===null||x.return===n)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}n.stateNode=d;e:switch(Ft(d,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&qa(n)}}return nt(n),_h(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qa(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=we.current,rr(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,f=kt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[bt]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Mp(e.nodeValue,s)),e||xi(n,!0)}else e=Zu(e).createTextNode(o),e[bt]=n,n.stateNode=e}return nt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=rr(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[bt]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),e=!1}else s=Mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return nt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=rr(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[bt]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),f=!1}else f=Mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),zu(n,n.updateQueue),nt(n),null);case 4:return st(),e===null&&Hh(n.stateNode.containerInfo),nt(n),null;case 10:return La(n.type),nt(n),null;case 19:if(W(mt),o=n.memoizedState,o===null)return nt(n),null;if(f=(n.flags&128)!==0,d=o.rendering,d===null)if(f)kl(o,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Tu(e),d!==null){for(n.flags|=128,kl(o,!1),e=d.updateQueue,n.updateQueue=e,zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)u0(s,e),s=s.sibling;return re(mt,mt.current&1|2),ze&&za(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Jt()>ku&&(n.flags|=128,f=!0,kl(o,!1),n.lanes=4194304)}else{if(!f)if(e=Tu(d),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,zu(n,e),kl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ze)return nt(n),null}else 2*Jt()-o.renderingStartTime>ku&&s!==536870912&&(n.flags|=128,f=!0,kl(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(e=o.last,e!==null?e.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Jt(),e.sibling=null,s=mt.current,re(mt,f?s&1|2:s&1),ze&&za(n,o.treeForkCount),e):(nt(n),null);case 22:case 23:return pn(n),Ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),s=n.updateQueue,s!==null&&zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&W(Es),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),La(Tt),nt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function $v(e,n){switch(Nf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return La(Tt),st(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ls(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(r(340));vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return W(mt),null;case 4:return st(),null;case 10:return La(n.type),null;case 22:case 23:return pn(n),Ff(),e!==null&&W(Es),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return La(Tt),null;case 25:return null;default:return null}}function zg(e,n){switch(Nf(n),n.tag){case 3:La(Tt),st();break;case 26:case 27:case 5:Ls(n);break;case 4:st();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:W(mt);break;case 10:La(n.type);break;case 22:case 23:pn(n),Ff(),e!==null&&W(Es);break;case 24:La(Tt)}}function ql(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,x=s.inst;o=d(),x.destroy=o}s=s.next}while(s!==f)}}catch(E){Ke(n,n.return,E)}}function Ai(e,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var x=o.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,f=n;var D=s,q=E;try{q()}catch(K){Ke(f,D,K)}}}o=o.next}while(o!==d)}}catch(K){Ke(n,n.return,K)}}function Ug(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{R0(n,s)}catch(o){Ke(e,e.return,o)}}}function Lg(e,n,s){s.props=Rs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Ke(e,n,o)}}function Hl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){Ke(e,n,f)}}function _a(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){Ke(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Ke(e,n,f)}else s.current=null}function Pg(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){Ke(e,e.return,f)}}function Eh(e,n,s){try{var o=e.stateNode;xb(o,e.type,s,n),o[jt]=n}catch(f){Ke(e,e.return,f)}}function Bg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vi(e.type)||e.tag===4}function Th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sh(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Vi(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Sh(e,n,s),e=e.sibling;e!==null;)Sh(e,n,s),e=e.sibling}function Uu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Vi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Uu(e,n,s),e=e.sibling;e!==null;)Uu(e,n,s),e=e.sibling}function kg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Ft(n,o,s),n[bt]=e,n[jt]=s}catch(d){Ke(e,e.return,d)}}var Ha=!1,wt=!1,Ah=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Zv(e,n){if(e=e.containerInfo,Qh=ic,e=e0(e),xf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var x=0,E=-1,D=-1,q=0,K=0,J=e,F=null;t:for(;;){for(var Y;J!==s||f!==0&&J.nodeType!==3||(E=x+f),J!==d||o!==0&&J.nodeType!==3||(D=x+o),J.nodeType===3&&(x+=J.nodeValue.length),(Y=J.firstChild)!==null;)F=J,J=Y;for(;;){if(J===e)break t;if(F===s&&++q===f&&(E=x),F===d&&++K===o&&(D=x),(Y=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=Y}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Yh={focusedElem:e,selectionRange:s},ic=!1,Ut=n;Ut!==null;)if(n=Ut,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ut=e;else for(;Ut!==null;){switch(n=Ut,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)f=e[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var fe=Rs(s.type,f);e=o.getSnapshotBeforeUpdate(fe,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Ke(s,s.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)$h(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$h(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ut=e;break}Ut=n.return}}function Hg(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(e,s),o&4&&ql(5,s);break;case 1:if(Ga(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(x){Ke(s,s.return,x)}else{var f=Rs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ke(s,s.return,x)}}o&64&&Ug(s),o&512&&Hl(s,s.return);break;case 3:if(Ga(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{R0(e,n)}catch(x){Ke(s,s.return,x)}}break;case 27:n===null&&o&4&&kg(s);case 26:case 5:Ga(e,s),n===null&&o&4&&Pg(s),o&512&&Hl(s,s.return);break;case 12:Ga(e,s);break;case 31:Ga(e,s),o&4&&Qg(e,s);break;case 13:Ga(e,s),o&4&&Yg(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=rb.bind(null,s),wb(e,s))));break;case 22:if(o=s.memoizedState!==null||Ha,!o){n=n!==null&&n.memoizedState!==null||wt,f=Ha;var d=wt;Ha=o,(wt=n)&&!d?Qa(e,s,(s.subtreeFlags&8772)!==0):Ga(e,s),Ha=f,wt=d}break;case 30:break;default:Ga(e,s)}}function Fg(e){var n=e.alternate;n!==null&&(e.alternate=null,Fg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Hs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,an=!1;function Fa(e,n,s){for(s=s.child;s!==null;)Gg(e,n,s),s=s.sibling}function Gg(e,n,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:wt||_a(s,n),Fa(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:wt||_a(s,n);var o=lt,f=an;Vi(s.type)&&(lt=s.stateNode,an=!1),Fa(e,n,s),Jl(s.stateNode),lt=o,an=f;break;case 5:wt||_a(s,n);case 6:if(o=lt,f=an,lt=null,Fa(e,n,s),lt=o,an=f,lt!==null)if(an)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(d){Ke(s,n,d)}else try{lt.removeChild(s.stateNode)}catch(d){Ke(s,n,d)}break;case 18:lt!==null&&(an?(e=lt,Up(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Rr(e)):Up(lt,s.stateNode));break;case 4:o=lt,f=an,lt=s.stateNode.containerInfo,an=!0,Fa(e,n,s),lt=o,an=f;break;case 0:case 11:case 14:case 15:Ai(2,s,n),wt||Ai(4,s,n),Fa(e,n,s);break;case 1:wt||(_a(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Lg(s,n,o)),Fa(e,n,s);break;case 21:Fa(e,n,s);break;case 22:wt=(o=wt)||s.memoizedState!==null,Fa(e,n,s),wt=o;break;default:Fa(e,n,s)}}function Qg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Rr(e)}catch(s){Ke(n,n.return,s)}}}function Yg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rr(e)}catch(s){Ke(n,n.return,s)}}function Jv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new qg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new qg),n;default:throw Error(r(435,e.tag))}}function Lu(e,n){var s=Jv(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var f=lb.bind(null,e,o);o.then(f,f)}})}function sn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,x=n,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Vi(E.type)){lt=E.stateNode,an=!1;break e}break;case 5:lt=E.stateNode,an=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,an=!0;break e}E=E.return}if(lt===null)throw Error(r(160));Gg(d,x,f),lt=null,an=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xg(n,e),n=n.sibling}var Xn=null;function Xg(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),rn(e),o&4&&(Ai(3,e,e.return),ql(3,e),Ai(5,e,e.return));break;case 1:sn(n,e),rn(e),o&512&&(wt||s===null||_a(s,s.return)),o&64&&Ha&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=Xn;if(sn(n,e),rn(e),o&512&&(wt||s===null||_a(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[la]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),Ft(d,o,s),d[bt]=e,_t(d),o=d;break e;case"link":var x=Xp("link","href",f).get(o+(s.href||""));if(x){for(var E=0;E<x.length;E++)if(d=x[E],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){x.splice(E,1);break t}}d=f.createElement(o),Ft(d,o,s),f.head.appendChild(d);break;case"meta":if(x=Xp("meta","content",f).get(o+(s.content||""))){for(E=0;E<x.length;E++)if(d=x[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){x.splice(E,1);break t}}d=f.createElement(o),Ft(d,o,s),f.head.appendChild(d);break;default:throw Error(r(468,o))}d[bt]=e,_t(d),o=d}e.stateNode=o}else Kp(f,e.type,e.stateNode);else e.stateNode=Yp(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?Kp(f,e.type,e.stateNode):Yp(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Eh(e,e.memoizedProps,s.memoizedProps)}break;case 27:sn(n,e),rn(e),o&512&&(wt||s===null||_a(s,s.return)),s!==null&&o&4&&Eh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(sn(n,e),rn(e),o&512&&(wt||s===null||_a(s,s.return)),e.flags&32){f=e.stateNode;try{nn(f,"")}catch(fe){Ke(e,e.return,fe)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Eh(e,f,s!==null?s.memoizedProps:f)),o&1024&&(Ah=!0);break;case 6:if(sn(n,e),rn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(fe){Ke(e,e.return,fe)}}break;case 3:if(ec=null,f=Xn,Xn=Ju(n.containerInfo),sn(n,e),Xn=f,rn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Rr(n.containerInfo)}catch(fe){Ke(e,e.return,fe)}Ah&&(Ah=!1,Kg(e));break;case 4:o=Xn,Xn=Ju(e.stateNode.containerInfo),sn(n,e),rn(e),Xn=o;break;case 12:sn(n,e),rn(e);break;case 31:sn(n,e),rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Lu(e,o)));break;case 13:sn(n,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bu=Jt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Lu(e,o)));break;case 22:f=e.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,q=Ha,K=wt;if(Ha=q||f,wt=K||D,sn(n,e),wt=K,Ha=q,rn(e),o&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||D||Ha||wt||Cs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(d=D.stateNode,f)x=d.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=D.stateNode;var J=D.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){Ke(D,D.return,fe)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(fe){Ke(D,D.return,fe)}}}else if(n.tag===18){if(s===null){D=n;try{var Y=D.stateNode;f?Lp(Y,!0):Lp(D.stateNode,!1)}catch(fe){Ke(D,D.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Lu(e,s))));break;case 19:sn(n,e),rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Lu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),rn(e)}}function rn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Bg(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,d=Th(e);Uu(e,d,f);break;case 5:var x=s.stateNode;s.flags&32&&(nn(x,""),s.flags&=-33);var E=Th(e);Uu(e,E,x);break;case 3:case 4:var D=s.stateNode.containerInfo,q=Th(e);Sh(e,q,D);break;default:throw Error(r(161))}}catch(K){Ke(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Kg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ga(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hg(e,n.alternate,n),n=n.sibling}function Cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ai(4,n,n.return),Cs(n);break;case 1:_a(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Lg(n,n.return,s),Cs(n);break;case 27:Jl(n.stateNode);case 26:case 5:_a(n,n.return),Cs(n);break;case 22:n.memoizedState===null&&Cs(n);break;case 30:Cs(n);break;default:Cs(n)}e=e.sibling}}function Qa(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,x=d.flags;switch(d.tag){case 0:case 11:case 15:Qa(f,d,s),ql(4,d);break;case 1:if(Qa(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Ke(o,o.return,q)}if(o=d,f=o.updateQueue,f!==null){var E=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)w0(D[f],E)}catch(q){Ke(o,o.return,q)}}s&&x&64&&Ug(d),Hl(d,d.return);break;case 27:kg(d);case 26:case 5:Qa(f,d,s),s&&o===null&&x&4&&Pg(d),Hl(d,d.return);break;case 12:Qa(f,d,s);break;case 31:Qa(f,d,s),s&&x&4&&Qg(f,d);break;case 13:Qa(f,d,s),s&&x&4&&Yg(f,d);break;case 22:d.memoizedState===null&&Qa(f,d,s),Hl(d,d.return);break;case 30:break;default:Qa(f,d,s)}n=n.sibling}}function wh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Nl(s))}function Rh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e))}function Kn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$g(e,n,s,o),n=n.sibling}function $g(e,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,o),f&2048&&ql(9,n);break;case 1:Kn(e,n,s,o);break;case 3:Kn(e,n,s,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e)));break;case 12:if(f&2048){Kn(e,n,s,o),e=n.stateNode;try{var d=n.memoizedProps,x=d.id,E=d.onPostCommit;typeof E=="function"&&E(x,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Ke(n,n.return,D)}}else Kn(e,n,s,o);break;case 31:Kn(e,n,s,o);break;case 13:Kn(e,n,s,o);break;case 23:break;case 22:d=n.stateNode,x=n.alternate,n.memoizedState!==null?d._visibility&2?Kn(e,n,s,o):Fl(e,n):d._visibility&2?Kn(e,n,s,o):(d._visibility|=2,pr(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&wh(x,n);break;case 24:Kn(e,n,s,o),f&2048&&Rh(n.alternate,n);break;default:Kn(e,n,s,o)}}function pr(e,n,s,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,x=n,E=s,D=o,q=x.flags;switch(x.tag){case 0:case 11:case 15:pr(d,x,E,D,f),ql(8,x);break;case 23:break;case 22:var K=x.stateNode;x.memoizedState!==null?K._visibility&2?pr(d,x,E,D,f):Fl(d,x):(K._visibility|=2,pr(d,x,E,D,f)),f&&q&2048&&wh(x.alternate,x);break;case 24:pr(d,x,E,D,f),f&&q&2048&&Rh(x.alternate,x);break;default:pr(d,x,E,D,f)}n=n.sibling}}function Fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,f=o.flags;switch(o.tag){case 22:Fl(s,o),f&2048&&wh(o.alternate,o);break;case 24:Fl(s,o),f&2048&&Rh(o.alternate,o);break;default:Fl(s,o)}n=n.sibling}}var Gl=8192;function yr(e,n,s){if(e.subtreeFlags&Gl)for(e=e.child;e!==null;)Zg(e,n,s),e=e.sibling}function Zg(e,n,s){switch(e.tag){case 26:yr(e,n,s),e.flags&Gl&&e.memoizedState!==null&&Lb(s,Xn,e.memoizedState,e.memoizedProps);break;case 5:yr(e,n,s);break;case 3:case 4:var o=Xn;Xn=Ju(e.stateNode.containerInfo),yr(e,n,s),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Gl,Gl=16777216,yr(e,n,s),Gl=o):yr(e,n,s));break;default:yr(e,n,s)}}function Jg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ql(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ut=o,ep(o,e)}Jg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wg(e),e=e.sibling}function Wg(e){switch(e.tag){case 0:case 11:case 15:Ql(e),e.flags&2048&&Ai(9,e,e.return);break;case 3:Ql(e);break;case 12:Ql(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Pu(e)):Ql(e);break;default:Ql(e)}}function Pu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ut=o,ep(o,e)}Jg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ai(8,n,n.return),Pu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Pu(n));break;default:Pu(n)}e=e.sibling}}function ep(e,n){for(;Ut!==null;){var s=Ut;switch(s.tag){case 0:case 11:case 15:Ai(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Nl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ut=o;else e:for(s=e;Ut!==null;){o=Ut;var f=o.sibling,d=o.return;if(Fg(o),o===s){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var Wv={getCacheForType:function(e){var n=qt(Tt),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qt(Tt).controller.signal}},eb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,De=null,Ve=0,Xe=0,yn=null,wi=!1,xr=!1,Ch=!1,Ya=0,ft=0,Ri=0,Ns=0,Nh=0,xn=0,vr=0,Yl=null,ln=null,Dh=!1,Bu=0,tp=0,ku=1/0,qu=null,Ci=null,Vt=0,Ni=null,br=null,Xa=0,Mh=0,Vh=null,np=null,Xl=0,Ih=null;function vn(){return(Fe&2)!==0&&Ve!==0?Ve&-Ve:X.T!==null?Ph():Ho()}function ap(){if(xn===0)if((Ve&536870912)===0||ze){var e=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),xn=e}else xn=536870912;return e=gn.current,e!==null&&(e.flags|=32),xn}function on(e,n,s){(e===et&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(_r(e,0),Di(e,Ve,xn,!1)),as(e,s),((Fe&2)===0||e!==et)&&(e===et&&((Fe&2)===0&&(Ns|=s),ft===4&&Di(e,Ve,xn,!1)),Ea(e))}function ip(e,n,s){if((Fe&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),f=o?ab(e,n):jh(e,n,!0),d=o;do{if(f===0){xr&&!o&&Di(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!tb(s)){f=jh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){n=x;e:{var E=e;f=Yl;var D=E.current.memoizedState.isDehydrated;if(D&&(_r(E,x).flags|=256),x=jh(E,x,!1),x!==2){if(Ch&&!D){E.errorRecoveryDisabledLanes|=d,Ns|=d,f=4;break e}d=ln,ln=f,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}f=x}if(d=!1,f!==2)continue}}if(f===1){_r(e,0),Di(e,n,0,!0);break}e:{switch(o=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Di(o,n,xn,!wi);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(f=Bu+300-Jt(),10<f)){if(Di(o,n,xn,!wi),ia(o,0,!0)!==0)break e;Xa=n,o.timeoutHandle=jp(sp.bind(null,o,s,ln,qu,Dh,n,xn,Ns,vr,wi,d,"Throttled",-0,0),f);break e}sp(o,s,ln,qu,Dh,n,xn,Ns,vr,wi,d,null,-0,0)}}break}while(!0);Ea(e)}function sp(e,n,s,o,f,d,x,E,D,q,K,J,F,Y){if(e.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Zg(n,d,J);var fe=(d&62914560)===d?Bu-Jt():(d&4194048)===d?tp-Jt():0;if(fe=Pb(J,fe),fe!==null){Xa=d,e.cancelPendingCommit=fe(dp.bind(null,e,n,d,s,o,f,x,E,D,K,J,null,F,Y)),Di(e,d,x,!q);return}}dp(e,n,d,s,o,f,x,E,D)}function tb(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!dn(d(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(e,n,s,o){n&=~Nh,n&=~Ns,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-ht(f),x=1<<d;o[d]=-1,f&=~x}s!==0&&is(e,s,n)}function Hu(){return(Fe&6)===0?(Kl(0),!1):!0}function Oh(){if(De!==null){if(Xe===0)var e=De.return;else e=De,Ua=bs=null,$f(e),fr=null,Ml=0,e=De;for(;e!==null;)zg(e.alternate,e),e=e.return;De=null}}function _r(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,_b(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Xa=0,Oh(),et=e,De=s=ja(e.current,null),Ve=n,Xe=0,yn=null,wi=!1,xr=Pn(e,n),Ch=!1,vr=xn=Nh=Ns=Ri=ft=0,ln=Yl=null,Dh=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-ht(o),d=1<<f;n|=e[f],o&=~d}return Ya=n,cu(),s}function rp(e,n){Ae=null,X.H=Pl,n===cr||n===xu?(n=E0(),Xe=3):n===Lf?(n=E0(),Xe=4):Xe=n===hh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,De===null&&(ft=1,Vu(e,Dn(n,e.current)))}function lp(){var e=gn.current;return e===null?!0:(Ve&4194048)===Ve?On===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?e===On:!1}function op(){var e=X.H;return X.H=Pl,e===null?Pl:e}function up(){var e=X.A;return X.A=Wv,e}function Fu(){ft=4,wi||(Ve&4194048)!==Ve&&gn.current!==null||(xr=!0),(Ri&134217727)===0&&(Ns&134217727)===0||et===null||Di(et,Ve,xn,!1)}function jh(e,n,s){var o=Fe;Fe|=2;var f=op(),d=up();(et!==e||Ve!==n)&&(qu=null,_r(e,n)),n=!1;var x=ft;e:do try{if(Xe!==0&&De!==null){var E=De,D=yn;switch(Xe){case 8:Oh(),x=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var q=Xe;if(Xe=0,yn=null,Er(e,E,D,q),s&&xr){x=0;break e}break;default:q=Xe,Xe=0,yn=null,Er(e,E,D,q)}}nb(),x=ft;break}catch(K){rp(e,K)}while(!0);return n&&e.shellSuspendCounter++,Ua=bs=null,Fe=o,X.H=f,X.A=d,De===null&&(et=null,Ve=0,cu()),x}function nb(){for(;De!==null;)cp(De)}function ab(e,n){var s=Fe;Fe|=2;var o=op(),f=up();et!==e||Ve!==n?(qu=null,ku=Jt()+500,_r(e,n)):xr=Pn(e,n);e:do try{if(Xe!==0&&De!==null){n=De;var d=yn;t:switch(Xe){case 1:Xe=0,yn=null,Er(e,n,d,1);break;case 2:case 9:if(b0(d)){Xe=0,yn=null,fp(n);break}n=function(){Xe!==2&&Xe!==9||et!==e||(Xe=7),Ea(e)},d.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:b0(d)?(Xe=0,yn=null,fp(n)):(Xe=0,yn=null,Er(e,n,d,7));break;case 5:var x=null;switch(De.tag){case 26:x=De.memoizedState;case 5:case 27:var E=De;if(x?$p(x):E.stateNode.complete){Xe=0,yn=null;var D=E.sibling;if(D!==null)De=D;else{var q=E.return;q!==null?(De=q,Gu(q)):De=null}break t}}Xe=0,yn=null,Er(e,n,d,5);break;case 6:Xe=0,yn=null,Er(e,n,d,6);break;case 8:Oh(),ft=6;break e;default:throw Error(r(462))}}ib();break}catch(K){rp(e,K)}while(!0);return Ua=bs=null,X.H=o,X.A=f,Fe=s,De!==null?0:(et=null,Ve=0,cu(),ft)}function ib(){for(;De!==null&&!ff();)cp(De)}function cp(e){var n=Og(e.alternate,e,Ya);e.memoizedProps=e.pendingProps,n===null?Gu(e):De=n}function fp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Cg(s,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=Cg(s,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:$f(n);default:zg(s,n),n=De=u0(n,Ya),n=Og(s,n,Ya)}e.memoizedProps=e.pendingProps,n===null?Gu(e):De=n}function Er(e,n,s,o){Ua=bs=null,$f(n),fr=null,Ml=0;var f=n.return;try{if(Qv(e,f,n,s,Ve)){ft=1,Vu(e,Dn(s,e.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;ft=1,Vu(e,Dn(s,e.current)),De=null;return}n.flags&32768?(ze||o===1?e=!0:xr||(Ve&536870912)!==0?e=!1:(wi=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),hp(n,e)):Gu(n)}function Gu(e){var n=e;do{if((n.flags&32768)!==0){hp(n,wi);return}e=n.return;var s=Kv(n.alternate,n,Ya);if(s!==null){De=s;return}if(n=n.sibling,n!==null){De=n;return}De=n=e}while(n!==null);ft===0&&(ft=5)}function hp(e,n){do{var s=$v(e.alternate,e);if(s!==null){s.flags&=32767,De=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){De=e;return}De=e=s}while(e!==null);ft=6,De=null}function dp(e,n,s,o,f,d,x,E,D){e.cancelPendingCommit=null;do Qu();while(Vt!==0);if((Fe&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=Tf,mf(e,s,d,x,E,D),e===et&&(De=et=null,Ve=0),br=n,Ni=e,Xa=s,Mh=d,Vh=f,np=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ob(ri,function(){return xp(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,f=se.p,se.p=2,x=Fe,Fe|=4;try{Zv(e,n,s)}finally{Fe=x,se.p=f,X.T=o}}Vt=1,mp(),gp(),pp()}}function mp(){if(Vt===1){Vt=0;var e=Ni,n=br,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var o=se.p;se.p=2;var f=Fe;Fe|=4;try{Xg(n,e);var d=Yh,x=e0(e.containerInfo),E=d.focusedElem,D=d.selectionRange;if(x!==E&&E&&E.ownerDocument&&Wm(E.ownerDocument.documentElement,E)){if(D!==null&&xf(E)){var q=D.start,K=D.end;if(K===void 0&&(K=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(K,E.value.length);else{var J=E.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var Y=F.getSelection(),fe=E.textContent.length,ye=Math.min(D.start,fe),We=D.end===void 0?ye:Math.min(D.end,fe);!Y.extend&&ye>We&&(x=We,We=ye,ye=x);var U=Jm(E,ye),j=Jm(E,We);if(U&&j&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var k=J.createRange();k.setStart(U.node,U.offset),Y.removeAllRanges(),ye>We?(Y.addRange(k),Y.extend(j.node,j.offset)):(k.setEnd(j.node,j.offset),Y.addRange(k))}}}}for(J=[],Y=E;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var $=J[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}ic=!!Qh,Yh=Qh=null}finally{Fe=f,se.p=o,X.T=s}}e.current=n,Vt=2}}function gp(){if(Vt===2){Vt=0;var e=Ni,n=br,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var o=se.p;se.p=2;var f=Fe;Fe|=4;try{Hg(e,n.alternate,n)}finally{Fe=f,se.p=o,X.T=s}}Vt=3}}function pp(){if(Vt===4||Vt===3){Vt=0,zo();var e=Ni,n=br,s=Xa,o=np;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,br=Ni=null,yp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ci=null),Ma(s),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=X.T,f=se.p,se.p=2,X.T=null;try{for(var d=e.onRecoverableError,x=0;x<o.length;x++){var E=o[x];d(E.value,{componentStack:E.stack})}}finally{X.T=n,se.p=f}}(Xa&3)!==0&&Qu(),Ea(e),f=e.pendingLanes,(s&261930)!==0&&(f&42)!==0?e===Ih?Xl++:(Xl=0,Ih=e):Xl=0,Kl(0)}}function yp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Nl(n)))}function Qu(){return mp(),gp(),pp(),xp()}function xp(){if(Vt!==5)return!1;var e=Ni,n=Mh;Mh=0;var s=Ma(Xa),o=X.T,f=se.p;try{se.p=32>s?32:s,X.T=null,s=Vh,Vh=null;var d=Ni,x=Xa;if(Vt=0,br=Ni=null,Xa=0,(Fe&6)!==0)throw Error(r(331));var E=Fe;if(Fe|=4,Wg(d.current),$g(d,d.current,x,s),Fe=E,Kl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Ln,d)}catch{}return!0}finally{se.p=f,X.T=o,yp(e,n)}}function vp(e,n,s){n=Dn(s,n),n=fh(e.stateNode,n,2),e=Ei(e,n,2),e!==null&&(as(e,2),Ea(e))}function Ke(e,n,s){if(e.tag===3)vp(e,e,s);else for(;n!==null;){if(n.tag===3){vp(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ci===null||!Ci.has(o))){e=Dn(s,e),s=bg(2),o=Ei(n,s,2),o!==null&&(_g(s,o,n,e),as(o,2),Ea(o));break}}n=n.return}}function zh(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new eb;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(Ch=!0,f.add(s),e=sb.bind(null,e,n,s),n.then(e,e))}function sb(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,et===e&&(Ve&s)===s&&(ft===4||ft===3&&(Ve&62914560)===Ve&&300>Jt()-Bu?(Fe&2)===0&&_r(e,0):Nh|=s,vr===Ve&&(vr=0)),Ea(e)}function bp(e,n){n===0&&(n=qo()),e=ys(e,n),e!==null&&(as(e,n),Ea(e))}function rb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),bp(e,s)}function lb(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),bp(e,s)}function ob(e,n){return Mt(e,n)}var Yu=null,Tr=null,Uh=!1,Xu=!1,Lh=!1,Mi=0;function Ea(e){e!==Tr&&e.next===null&&(Tr===null?Yu=Tr=e:Tr=Tr.next=e),Xu=!0,Uh||(Uh=!0,cb())}function Kl(e,n){if(!Lh&&Xu){Lh=!0;do for(var s=!1,o=Yu;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var x=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-ht(42|e)+1)-1,d&=f&~(x&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Sp(o,d))}else d=Ve,d=ia(o,o===et?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Pn(o,d)||(s=!0,Sp(o,d));o=o.next}while(s);Lh=!1}}function ub(){_p()}function _p(){Xu=Uh=!1;var e=0;Mi!==0&&bb()&&(e=Mi);for(var n=Jt(),s=null,o=Yu;o!==null;){var f=o.next,d=Ep(o,n);d===0?(o.next=null,s===null?Yu=f:s.next=f,f===null&&(Tr=s)):(s=o,(e!==0||(d&3)!==0)&&(Xu=!0)),o=f}Vt!==0&&Vt!==5||Kl(e),Mi!==0&&(Mi=0)}function Ep(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var x=31-ht(d),E=1<<x,D=f[x];D===-1?((E&s)===0||(E&o)!==0)&&(f[x]=df(E,n)):D<=n&&(e.expiredLanes|=E),d&=~E}if(n=et,s=Ve,s=ia(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&si(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Pn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&si(o),Ma(s)){case 2:case 8:s=sl;break;case 32:s=ri;break;case 268435456:s=Uo;break;default:s=ri}return o=Tp.bind(null,e),s=Mt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&si(o),e.callbackPriority=2,e.callbackNode=null,2}function Tp(e,n){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Qu()&&e.callbackNode!==s)return null;var o=Ve;return o=ia(e,e===et?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ip(e,o,n),Ep(e,Jt()),e.callbackNode!=null&&e.callbackNode===s?Tp.bind(null,e):null)}function Sp(e,n){if(Qu())return null;ip(e,n,!0)}function cb(){Eb(function(){(Fe&6)!==0?Mt(il,ub):_p()})}function Ph(){if(Mi===0){var e=or;e===0&&(e=na,na<<=1,(na&261888)===0&&(na=256)),Mi=e}return Mi}function Ap(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ys(""+e)}function wp(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function fb(e,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var d=Ap((f[jt]||null).action),x=o.submitter;x&&(n=(n=x[jt]||null)?Ap(n.formAction):x.getAttribute("formAction"),n!==null&&(d=n,x=null));var E=new ga("action","action",null,o,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Mi!==0){var D=x?wp(f,x):new FormData(f);sh(s,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(E.preventDefault(),D=x?wp(f,x):new FormData(f),sh(s,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Bh=0;Bh<Ef.length;Bh++){var kh=Ef[Bh],hb=kh.toLowerCase(),db=kh[0].toUpperCase()+kh.slice(1);Yn(hb,"on"+db)}Yn(a0,"onAnimationEnd"),Yn(i0,"onAnimationIteration"),Yn(s0,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Nv,"onTransitionRun"),Yn(Dv,"onTransitionStart"),Yn(Mv,"onTransitionCancel"),Yn(r0,"onTransitionEnd"),fa("onMouseEnter",["mouseout","mouseover"]),fa("onMouseLeave",["mouseout","mouseover"]),fa("onPointerEnter",["pointerout","pointerover"]),fa("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Rp(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var x=o.length-1;0<=x;x--){var E=o[x],D=E.instance,q=E.currentTarget;if(E=E.listener,D!==d&&f.isPropagationStopped())break e;d=E,f.currentTarget=q;try{d(f)}catch(K){uu(K)}f.currentTarget=null,d=D}else for(x=0;x<o.length;x++){if(E=o[x],D=E.instance,q=E.currentTarget,E=E.listener,D!==d&&f.isPropagationStopped())break e;d=E,f.currentTarget=q;try{d(f)}catch(K){uu(K)}f.currentTarget=null,d=D}}}}function Me(e,n){var s=n[qs];s===void 0&&(s=n[qs]=new Set);var o=e+"__bubble";s.has(o)||(Cp(n,e,2,!1),s.add(o))}function qh(e,n,s){var o=0;n&&(o|=4),Cp(s,e,o,n)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Hh(e){if(!e[Ku]){e[Ku]=!0,ol.forEach(function(s){s!=="selectionchange"&&(mb.has(s)||qh(s,!1,e),qh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ku]||(n[Ku]=!0,qh("selectionchange",!1,n))}}function Cp(e,n,s,o){switch(ay(n)){case 2:var f=qb;break;case 8:f=Hb;break;default:f=id}s=f.bind(null,n,s,e),f=void 0,!us||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function Fh(e,n,s,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var E=o.stateNode.containerInfo;if(E===f)break;if(x===4)for(x=o.return;x!==null;){var D=x.tag;if((D===3||D===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;E!==null;){if(x=oa(E),x===null)return;if(D=x.tag,D===5||D===6||D===26||D===27){o=d=x;continue e}E=E.parentNode}}o=o.return}hi(function(){var q=d,K=wn(s),J=[];e:{var F=l0.get(e);if(F!==void 0){var Y=ga,fe=e;switch(e){case"keypress":if(fs(s)===0)break e;case"keydown":case"keyup":Y=ru;break;case"focusin":fe="focus",Y=ds;break;case"focusout":fe="blur",Y=ds;break;case"beforeblur":case"afterblur":Y=ds;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case a0:case i0:case s0:Y=Wo;break;case r0:Y=S;break;case"scroll":case"scrollend":Y=bl;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Oa;break;case"toggle":case"beforetoggle":Y=Se}var ye=(n&4)!==0,We=!ye&&(e==="scroll"||e==="scrollend"),U=ye?F!==null?F+"Capture":null:F;ye=[];for(var j=q,k;j!==null;){var $=j;if(k=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||k===null||U===null||($=Hn(j,U),$!=null&&ye.push(Zl(j,$,k))),We)break;j=j.return}0<ye.length&&(F=new Y(F,fe,null,s,K),J.push({event:F,listeners:ye}))}}if((n&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&s!==yl&&(fe=s.relatedTarget||s.fromElement)&&(oa(fe)||fe[ra]))break e;if((Y||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(fe=s.relatedTarget||s.toElement,Y=q,fe=fe?oa(fe):null,fe!==null&&(We=u(fe),ye=fe.tag,fe!==We||ye!==5&&ye!==27&&ye!==6)&&(fe=null)):(Y=null,fe=q),Y!==fe)){if(ye=_l,$="onMouseLeave",U="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Oa,$="onPointerLeave",U="onPointerEnter",j="pointer"),We=Y==null?F:fn(Y),k=fe==null?F:fn(fe),F=new ye($,j+"leave",Y,s,K),F.target=We,F.relatedTarget=k,$=null,oa(K)===q&&(ye=new ye(U,j+"enter",fe,s,K),ye.target=k,ye.relatedTarget=We,$=ye),We=$,Y&&fe)t:{for(ye=gb,U=Y,j=fe,k=0,$=U;$;$=ye($))k++;$=0;for(var me=j;me;me=ye(me))$++;for(;0<k-$;)U=ye(U),k--;for(;0<$-k;)j=ye(j),$--;for(;k--;){if(U===j||j!==null&&U===j.alternate){ye=U;break t}U=ye(U),j=ye(j)}ye=null}else ye=null;Y!==null&&Np(J,F,Y,ye,!1),fe!==null&&We!==null&&Np(J,We,fe,ye,!0)}}e:{if(F=q?fn(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ke=Qm;else if(Fm(F))if(Ym)ke=wv;else{ke=Sv;var he=Tv}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Qs(q.elementType)&&(ke=Qm):ke=Av;if(ke&&(ke=ke(e,q))){Gm(J,ke,s,K);break e}he&&he(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&ml(F,"number",F.value)}switch(he=q?fn(q):window,e){case"focusin":(Fm(he)||he.contentEditable==="true")&&(er=he,vf=q,wl=null);break;case"focusout":wl=vf=er=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,t0(J,s,K);break;case"selectionchange":if(Cv)break;case"keydown":case"keyup":t0(J,s,K)}var Re;if(He)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ws?ms(e,s)&&(Ie="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ie="onCompositionStart");Ie&&(xa&&s.locale!=="ko"&&(Ws||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ws&&(Re=vl()):(ma=K,xl="value"in ma?ma.value:ma.textContent,Ws=!0)),he=$u(q,Ie),0<he.length&&(Ie=new ya(Ie,e,null,s,K),J.push({event:Ie,listeners:he}),Re?Ie.data=Re:(Re=Js(s),Re!==null&&(Ie.data=Re)))),(Re=Cn?vv(e,s):bv(e,s))&&(Ie=$u(q,"onBeforeInput"),0<Ie.length&&(he=new ya("onBeforeInput","beforeinput",null,s,K),J.push({event:he,listeners:Ie}),he.data=Re)),fb(J,e,q,s,K)}Rp(J,n)})}function Zl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function $u(e,n){for(var s=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Hn(e,s),f!=null&&o.unshift(Zl(e,f,d)),f=Hn(e,n),f!=null&&o.push(Zl(e,f,d))),e.tag===3)return o;e=e.return}return[]}function gb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Np(e,n,s,o,f){for(var d=n._reactName,x=[];s!==null&&s!==o;){var E=s,D=E.alternate,q=E.stateNode;if(E=E.tag,D!==null&&D===o)break;E!==5&&E!==26&&E!==27||q===null||(D=q,f?(q=Hn(s,d),q!=null&&x.unshift(Zl(s,q,D))):f||(q=Hn(s,d),q!=null&&x.push(Zl(s,q,D)))),s=s.return}x.length!==0&&e.push({event:n,listeners:x})}var pb=/\r\n?/g,yb=/\u0000|\uFFFD/g;function Dp(e){return(typeof e=="string"?e:""+e).replace(pb,`
`).replace(yb,"")}function Mp(e,n){return n=Dp(n),Dp(e)===n}function Je(e,n,s,o,f,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,s,o);break;case"style":pl(e,o,d);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ys(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Je(e,n,"name",f.name,f,null),Je(e,n,"formEncType",f.formEncType,f,null),Je(e,n,"formMethod",f.formMethod,f,null),Je(e,n,"formTarget",f.formTarget,f,null)):(Je(e,n,"encType",f.encType,f,null),Je(e,n,"method",f.method,f,null),Je(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ys(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Me("scroll",e);break;case"onScrollEnd":o!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Ys(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Me("beforetoggle",e),Me("toggle",e),Fs(e,"popover",o);break;case"xlinkActuate":Et(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Et(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Et(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Et(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Et(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Et(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Et(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Et(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Et(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Fs(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=$o.get(s)||s,Fs(e,s,o))}}function Gh(e,n,s,o,f,d){switch(s){case"style":pl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Me("scroll",e);break;case"onScrollEnd":o!=null&&Me("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),d=e[jt]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,f);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Fs(e,s,o)}}}function Ft(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var x=s[d];if(x!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(e,n,d,x,s,null)}}f&&Je(e,n,"srcSet",s.srcSet,s,null),o&&Je(e,n,"src",s.src,s,null);return;case"input":Me("invalid",e);var E=d=x=f=null,D=null,q=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":f=K;break;case"type":x=K;break;case"checked":D=K;break;case"defaultChecked":q=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:Je(e,n,o,K,s,null)}}Yo(e,d,E,D,q,x,f,!1);return;case"select":Me("invalid",e),o=x=d=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":x=E;break;case"multiple":o=E;default:Je(e,n,f,E,s,null)}n=d,s=x,e.multiple=!!o,n!=null?oi(e,!!o,n,!1):s!=null&&oi(e,!!o,s,!0);return;case"textarea":Me("invalid",e),d=f=o=null;for(x in s)if(s.hasOwnProperty(x)&&(E=s[x],E!=null))switch(x){case"value":o=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Je(e,n,x,E,s,null)}ui(e,o,f,d);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(o=s[D],o!=null))switch(D){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Je(e,n,D,o,s,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(o=0;o<$l.length;o++)Me($l[o],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(o=s[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(e,n,q,o,s,null)}return;default:if(Qs(n)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&Gh(e,n,K,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Je(e,n,E,o,s,null))}function xb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,x=null,E=null,D=null,q=null,K=null;for(Y in s){var J=s[Y];if(s.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=J;default:o.hasOwnProperty(Y)||Je(e,n,Y,null,o,J)}}for(var F in o){var Y=o[F];if(J=s[F],o.hasOwnProperty(F)&&(Y!=null||J!=null))switch(F){case"type":d=Y;break;case"name":f=Y;break;case"checked":q=Y;break;case"defaultChecked":K=Y;break;case"value":x=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Y!==J&&Je(e,n,F,Y,o,J)}}Gs(e,x,E,D,q,K,d,f);return;case"select":Y=x=E=F=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:o.hasOwnProperty(d)||Je(e,n,d,null,o,D)}for(f in o)if(d=o[f],D=s[f],o.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":F=d;break;case"defaultValue":E=d;break;case"multiple":x=d;default:d!==D&&Je(e,n,f,d,o,D)}n=E,s=x,o=Y,F!=null?oi(e,!!s,F,!1):!!o!=!!s&&(n!=null?oi(e,!!s,n,!0):oi(e,!!s,s?[]:"",!1));return;case"textarea":Y=F=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(e,n,E,null,o,f)}for(x in o)if(f=o[x],d=s[x],o.hasOwnProperty(x)&&(f!=null||d!=null))switch(x){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Je(e,n,x,f,o,d)}Xo(e,F,Y);return;case"option":for(var fe in s)if(F=s[fe],s.hasOwnProperty(fe)&&F!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:Je(e,n,fe,null,o,F)}for(D in o)if(F=o[D],Y=s[D],o.hasOwnProperty(D)&&F!==Y&&(F!=null||Y!=null))switch(D){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(e,n,D,F,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)F=s[ye],s.hasOwnProperty(ye)&&F!=null&&!o.hasOwnProperty(ye)&&Je(e,n,ye,null,o,F);for(q in o)if(F=o[q],Y=s[q],o.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Je(e,n,q,F,o,Y)}return;default:if(Qs(n)){for(var We in s)F=s[We],s.hasOwnProperty(We)&&F!==void 0&&!o.hasOwnProperty(We)&&Gh(e,n,We,void 0,o,F);for(K in o)F=o[K],Y=s[K],!o.hasOwnProperty(K)||F===Y||F===void 0&&Y===void 0||Gh(e,n,K,F,o,Y);return}}for(var U in s)F=s[U],s.hasOwnProperty(U)&&F!=null&&!o.hasOwnProperty(U)&&Je(e,n,U,null,o,F);for(J in o)F=o[J],Y=s[J],!o.hasOwnProperty(J)||F===Y||F==null&&Y==null||Je(e,n,J,F,o,Y)}function Vp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],d=f.transferSize,x=f.initiatorType,E=f.duration;if(d&&E&&Vp(x)){for(x=0,E=f.responseEnd,o+=1;o<s.length;o++){var D=s[o],q=D.startTime;if(q>E)break;var K=D.transferSize,J=D.initiatorType;K&&Vp(J)&&(D=D.responseEnd,x+=K*(D<E?1:(E-q)/(D-q)))}if(--o,n+=8*(d+x)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qh=null,Yh=null;function Zu(e){return e.nodeType===9?e:e.ownerDocument}function Ip(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Xh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kh=null;function bb(){var e=window.event;return e&&e.type==="popstate"?e===Kh?!1:(Kh=e,!0):(Kh=null,!1)}var jp=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(e){return zp.resolve(null).then(e).catch(Tb)}:jp;function Tb(e){setTimeout(function(){throw e})}function Vi(e){return e==="head"}function Up(e,n){var s=n,o=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(f),Rr(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Jl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Jl(s);for(var d=s.firstChild;d;){var x=d.nextSibling,E=d.nodeName;d[la]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=x}}else s==="body"&&Jl(e.ownerDocument.body);s=f}while(s);Rr(n)}function Lp(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function $h(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":$h(s),Hs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Sb(e,n,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[la])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function Ab(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=jn(e.nextSibling),e===null))return null;return e}function Pp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function Zh(e){return e.data==="$?"||e.data==="$~"}function Jh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Wh=null;function Bp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return jn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function kp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function qp(e,n,s){switch(n=Zu(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Jl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Hs(e)}var zn=new Map,Hp=new Set;function Ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ka=se.d;se.d={f:Rb,r:Cb,D:Nb,C:Db,L:Mb,m:Vb,X:Ob,S:Ib,M:jb};function Rb(){var e=Ka.f(),n=Hu();return e||n}function Cb(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?rg(n):Ka.r(e)}var Sr=typeof document>"u"?null:document;function Fp(e,n,s){var o=Sr;if(o&&typeof n=="string"&&n){var f=tn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Hp.has(f)||(Hp.add(f),e={rel:e,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Ft(n,"link",e),_t(n),o.head.appendChild(n)))}}function Nb(e){Ka.D(e),Fp("dns-prefetch",e,null)}function Db(e,n){Ka.C(e,n),Fp("preconnect",e,n)}function Mb(e,n,s){Ka.L(e,n,s);var o=Sr;if(o&&e&&n){var f='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+tn(s.imageSizes)+'"]')):f+='[href="'+tn(e)+'"]';var d=f;switch(n){case"style":d=Ar(e);break;case"script":d=wr(e)}zn.has(d)||(e=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),zn.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(Wl(d))||n==="script"&&o.querySelector(eo(d))||(n=o.createElement("link"),Ft(n,"link",e),_t(n),o.head.appendChild(n)))}}function Vb(e,n){Ka.m(e,n);var s=Sr;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+tn(o)+'"][href="'+tn(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wr(e)}if(!zn.has(d)&&(e=T({rel:"modulepreload",href:e},n),zn.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(eo(d)))return}o=s.createElement("link"),Ft(o,"link",e),_t(o),s.head.appendChild(o)}}}function Ib(e,n,s){Ka.S(e,n,s);var o=Sr;if(o&&e){var f=ua(o).hoistableStyles,d=Ar(e);n=n||"default";var x=f.get(d);if(!x){var E={loading:0,preload:null};if(x=o.querySelector(Wl(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},s),(s=zn.get(d))&&ed(e,s);var D=x=o.createElement("link");_t(D),Ft(D,"link",e),D._p=new Promise(function(q,K){D.onload=q,D.onerror=K}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Wu(x,n,o)}x={type:"stylesheet",instance:x,count:1,state:E},f.set(d,x)}}}function Ob(e,n){Ka.X(e,n);var s=Sr;if(s&&e){var o=ua(s).hoistableScripts,f=wr(e),d=o.get(f);d||(d=s.querySelector(eo(f)),d||(e=T({src:e,async:!0},n),(n=zn.get(f))&&td(e,n),d=s.createElement("script"),_t(d),Ft(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function jb(e,n){Ka.M(e,n);var s=Sr;if(s&&e){var o=ua(s).hoistableScripts,f=wr(e),d=o.get(f);d||(d=s.querySelector(eo(f)),d||(e=T({src:e,async:!0,type:"module"},n),(n=zn.get(f))&&td(e,n),d=s.createElement("script"),_t(d),Ft(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Gp(e,n,s,o){var f=(f=we.current)?Ju(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ar(s.href),s=ua(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ar(s.href);var d=ua(f).hoistableStyles,x=d.get(e);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,x),(d=f.querySelector(Wl(e)))&&!d._p&&(x.instance=d,x.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),d||zb(f,e,s,x.state))),n&&o===null)throw Error(r(528,""));return x}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wr(s),s=ua(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ar(e){return'href="'+tn(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function Qp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function zb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ft(n,"link",s),_t(n),e.head.appendChild(n))}function wr(e){return'[src="'+tn(e)+'"]'}function eo(e){return"script[async]"+e}function Yp(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+tn(s.href)+'"]');if(o)return n.instance=o,_t(o),o;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_t(o),Ft(o,"style",f),Wu(o,s.precedence,e),n.instance=o;case"stylesheet":f=Ar(s.href);var d=e.querySelector(Wl(f));if(d)return n.state.loading|=4,n.instance=d,_t(d),d;o=Qp(s),(f=zn.get(f))&&ed(o,f),d=(e.ownerDocument||e).createElement("link"),_t(d);var x=d;return x._p=new Promise(function(E,D){x.onload=E,x.onerror=D}),Ft(d,"link",o),n.state.loading|=4,Wu(d,s.precedence,e),n.instance=d;case"script":return d=wr(s.src),(f=e.querySelector(eo(d)))?(n.instance=f,_t(f),f):(o=s,(f=zn.get(d))&&(o=T({},s),td(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),_t(f),Ft(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Wu(o,s.precedence,e));return n.instance}function Wu(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,x=0;x<o.length;x++){var E=o[x];if(E.dataset.precedence===n)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ec=null;function Xp(e,n,s){if(ec===null){var o=new Map,f=ec=new Map;f.set(s,o)}else f=ec,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[la]||d[bt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var x=d.getAttribute(n)||"";x=e+x;var E=o.get(x);E?E.push(d):o.set(x,[d])}}return o}function Kp(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Ub(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $p(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Lb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Ar(o.href),d=n.querySelector(Wl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=tc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=d,_t(d);return}d=n.ownerDocument||n,o=Qp(o),(f=zn.get(f))&&ed(o,f),d=d.createElement("link"),_t(d);var x=d;x._p=new Promise(function(E,D){x.onload=E,x.onerror=D}),Ft(d,"link",o),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=tc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var nd=0;function Pb(e,n){return e.stylesheets&&e.count===0&&ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&nd===0&&(nd=62500*vb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>nd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nc=null;function ac(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nc=new Map,n.forEach(Bb,e),nc=null,tc.call(e))}function Bb(e,n){if(!(n.state.loading&4)){var s=nc.get(e);if(s)var o=s.get(null);else{s=new Map,nc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var x=f[d];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(s.set(x.dataset.precedence,x),o=x)}o&&s.set(null,o)}f=n.instance,x=f.getAttribute("data-precedence"),d=s.get(x)||o,d===o&&s.set(null,f),s.set(x,f),this.count++,o=tc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var to={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function kb(e,n,s,o,f,d,x,E,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.hiddenUpdates=sa(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Zp(e,n,s,o,f,d,x,E,D,q,K,J){return e=new kb(e,n,s,x,D,q,K,J,E),n=1,d===!0&&(n|=24),d=mn(3,null,null,n),e.current=d,d.stateNode=e,n=jf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},Pf(d),e}function Jp(e){return e?(e=ar,e):ar}function Wp(e,n,s,o,f,d){f=Jp(f),o.context===null?o.context=f:o.pendingContext=f,o=_i(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Ei(e,o,n),s!==null&&(on(s,e,n),Il(s,e,n))}function ey(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function ad(e,n){ey(e,n),(e=e.alternate)&&ey(e,n)}function ty(e){if(e.tag===13||e.tag===31){var n=ys(e,67108864);n!==null&&on(n,e,67108864),ad(e,67108864)}}function ny(e){if(e.tag===13||e.tag===31){var n=vn();n=ss(n);var s=ys(e,n);s!==null&&on(s,e,n),ad(e,n)}}var ic=!0;function qb(e,n,s,o){var f=X.T;X.T=null;var d=se.p;try{se.p=2,id(e,n,s,o)}finally{se.p=d,X.T=f}}function Hb(e,n,s,o){var f=X.T;X.T=null;var d=se.p;try{se.p=8,id(e,n,s,o)}finally{se.p=d,X.T=f}}function id(e,n,s,o){if(ic){var f=sd(o);if(f===null)Fh(e,n,o,sc,s),iy(e,o);else if(Gb(f,e,n,s,o))o.stopPropagation();else if(iy(e,o),n&4&&-1<Fb.indexOf(e)){for(;f!==null;){var d=An(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var x=aa(d.pendingLanes);if(x!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var D=1<<31-ht(x);E.entanglements[1]|=D,x&=~D}Ea(d),(Fe&6)===0&&(ku=Jt()+500,Kl(0))}}break;case 31:case 13:E=ys(d,2),E!==null&&on(E,d,2),Hu(),ad(d,2)}if(d=sd(o),d===null&&Fh(e,n,o,sc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else Fh(e,n,o,null,s)}}function sd(e){return e=wn(e),rd(e)}var sc=null;function rd(e){if(sc=null,e=oa(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return sc=e,null}function ay(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case il:return 2;case sl:return 8;case ri:case hf:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var ld=!1,Ii=null,Oi=null,ji=null,no=new Map,ao=new Map,zi=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iy(e,n){switch(e){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":no.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(n.pointerId)}}function io(e,n,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=An(n),n!==null&&ty(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Gb(e,n,s,o,f){switch(n){case"focusin":return Ii=io(Ii,e,n,s,o,f),!0;case"dragenter":return Oi=io(Oi,e,n,s,o,f),!0;case"mouseover":return ji=io(ji,e,n,s,o,f),!0;case"pointerover":var d=f.pointerId;return no.set(d,io(no.get(d)||null,e,n,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,ao.set(d,io(ao.get(d)||null,e,n,s,o,f)),!0}return!1}function sy(e){var n=oa(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){ny(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){ny(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);yl=o,s.target.dispatchEvent(o),yl=null}else return n=An(s),n!==null&&ty(n),e.blockedOn=s,!1;n.shift()}return!0}function ry(e,n,s){rc(e)&&s.delete(n)}function Qb(){ld=!1,Ii!==null&&rc(Ii)&&(Ii=null),Oi!==null&&rc(Oi)&&(Oi=null),ji!==null&&rc(ji)&&(ji=null),no.forEach(ry),ao.forEach(ry)}function lc(e,n){e.blockedOn===n&&(e.blockedOn=null,ld||(ld=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qb)))}var oc=null;function ly(e){oc!==e&&(oc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oc===e&&(oc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(rd(o||s)===null)continue;break}var d=An(s);d!==null&&(e.splice(n,3),n-=3,sh(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Rr(e){function n(D){return lc(D,e)}Ii!==null&&lc(Ii,e),Oi!==null&&lc(Oi,e),ji!==null&&lc(ji,e),no.forEach(n),ao.forEach(n);for(var s=0;s<zi.length;s++){var o=zi[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zi.length&&(s=zi[0],s.blockedOn===null);)sy(s),s.blockedOn===null&&zi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],x=f[jt]||null;if(typeof d=="function")x||ly(s);else if(x){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,x=d[jt]||null)E=x.formAction;else if(rd(f)!==null)continue}else E=x.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),ly(s)}}}function oy(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function od(e){this._internalRoot=e}uc.prototype.render=od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=vn();Wp(s,o,e,n,null,null)},uc.prototype.unmount=od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Wp(e.current,2,null,e,null,null),Hu(),n[ra]=null}};function uc(e){this._internalRoot=e}uc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ho();e={blockedOn:null,target:e,priority:n};for(var s=0;s<zi.length&&n!==0&&n<zi[s].priority;s++);zi.splice(s,0,e),s===0&&sy(e)}};var uy=t.version;if(uy!=="19.2.0")throw Error(r(527,uy,"19.2.0"));se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Yb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Ln=cc.inject(Yb),Pt=cc}catch{}}return ro.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",f=pg,d=yg,x=xg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError)),n=Zp(e,1,!1,null,null,s,o,null,f,d,x,oy),e[ra]=n.current,Hh(e),new od(n)},ro.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,f="",d=pg,x=yg,E=xg,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=Zp(e,1,!0,n,s??null,o,f,D,d,x,E,oy),n.context=Jp(null),s=n.current,o=vn(),o=ss(o),f=_i(o),f.callback=null,Ei(s,f,o),s=o,n.current.lanes=s,as(n,s),Ea(n),e[ra]=n.current,Hh(e),new uc(n)},ro.version="19.2.0",ro}var vy;function a_(){if(vy)return fd.exports;vy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),fd.exports=n_(),fd.exports}var i_=a_();const s_=Q1(i_);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var by="popstate";function r_(i={}){function t(r,l){let{pathname:u,search:h,hash:m}=r.location;return Rd("",{pathname:u,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(r,l){return typeof l=="string"?l:xo(l)}return o_(t,a,null,i)}function ot(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Jn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l_(){return Math.random().toString(36).substring(2,10)}function _y(i,t){return{usr:i.state,key:i.key,idx:t}}function Rd(i,t,a=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Qr(t):t,state:a,key:t&&t.key||r||l_()}}function xo({pathname:i="/",search:t="",hash:a=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function Qr(i){let t={};if(i){let a=i.indexOf("#");a>=0&&(t.hash=i.substring(a),i=i.substring(0,a));let r=i.indexOf("?");r>=0&&(t.search=i.substring(r),i=i.substring(0,r)),i&&(t.pathname=i)}return t}function o_(i,t,a,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,h=l.history,m="POP",p=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function T(){m="POP";let B=b(),Z=B==null?null:B-g;g=B,p&&p({action:m,location:G.location,delta:Z})}function N(B,Z){m="PUSH";let te=Rd(G.location,B,Z);g=b()+1;let ie=_y(te,g),ve=G.createHref(te);try{h.pushState(ie,"",ve)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;l.location.assign(ve)}u&&p&&p({action:m,location:G.location,delta:1})}function I(B,Z){m="REPLACE";let te=Rd(G.location,B,Z);g=b();let ie=_y(te,g),ve=G.createHref(te);h.replaceState(ie,"",ve),u&&p&&p({action:m,location:G.location,delta:0})}function H(B){return u_(B)}let G={get action(){return m},get location(){return i(l,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(by,T),p=B,()=>{l.removeEventListener(by,T),p=null}},createHref(B){return t(l,B)},createURL:H,encodeLocation(B){let Z=H(B);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:N,replace:I,go(B){return h.go(B)}};return G}function u_(i,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),ot(a,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:xo(i);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function Y1(i,t,a="/"){return c_(i,t,a,!1)}function c_(i,t,a,r){let l=typeof t=="string"?Qr(t):t,u=Wa(l.pathname||"/",a);if(u==null)return null;let h=X1(i);f_(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=E_(u);m=b_(h[p],g,r)}return m}function X1(i,t=[],a=[],r="",l=!1){let u=(h,m,p=l,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&p)return;ot(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let T=Za([r,b.relativePath]),N=a.concat(b);h.children&&h.children.length>0&&(ot(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),X1(h.children,t,N,T,p)),!(h.path==null&&!h.index)&&t.push({path:T,score:x_(T,h.index),routesMeta:N})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of K1(h.path))u(h,m,!0,p)}),t}function K1(i){let t=i.split("/");if(t.length===0)return[];let[a,...r]=t,l=a.endsWith("?"),u=a.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let h=K1(r.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function f_(i){i.sort((t,a)=>t.score!==a.score?a.score-t.score:v_(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var h_=/^:[\w-]+$/,d_=3,m_=2,g_=1,p_=10,y_=-2,Ey=i=>i==="*";function x_(i,t){let a=i.split("/"),r=a.length;return a.some(Ey)&&(r+=y_),t&&(r+=m_),a.filter(l=>!Ey(l)).reduce((l,u)=>l+(h_.test(u)?d_:u===""?g_:p_),r)}function v_(i,t){return i.length===t.length&&i.slice(0,-1).every((r,l)=>r===t[l])?i[i.length-1]-t[t.length-1]:0}function b_(i,t,a=!1){let{routesMeta:r}=i,l={},u="/",h=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,b=u==="/"?t:t.slice(u.length)||"/",T=wc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),N=p.route;if(!T&&g&&a&&!r[r.length-1].route.index&&(T=wc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(l,T.params),h.push({params:l,pathname:Za([u,T.pathname]),pathnameBase:w_(Za([u,T.pathnameBase])),route:N}),T.pathnameBase!=="/"&&(u=Za([u,T.pathnameBase]))}return h}function wc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,r]=__(i.path,i.caseSensitive,i.end),l=t.match(a);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:r.reduce((g,{paramName:b,isOptional:T},N)=>{if(b==="*"){let H=m[N]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const I=m[N];return T&&!I?g[b]=void 0:g[b]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function __(i,t=!1,a=!0){Jn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function E_(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Wa(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=i.charAt(a);return r&&r!=="/"?null:i.slice(a)||"/"}function T_(i,t="/"){let{pathname:a,search:r="",hash:l=""}=typeof i=="string"?Qr(i):i;return{pathname:a?a.startsWith("/")?a:S_(a,t):t,search:R_(r),hash:C_(l)}}function S_(i,t){let a=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function gd(i,t,a,r){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A_(i){return i.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function tm(i){let t=A_(i);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function nm(i,t,a,r=!1){let l;typeof i=="string"?l=Qr(i):(l={...i},ot(!l.pathname||!l.pathname.includes("?"),gd("?","pathname","search",l)),ot(!l.pathname||!l.pathname.includes("#"),gd("#","pathname","hash",l)),ot(!l.search||!l.search.includes("#"),gd("#","search","hash",l)));let u=i===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=a;else{let T=t.length-1;if(!r&&h.startsWith("..")){let N=h.split("/");for(;N[0]==="..";)N.shift(),T-=1;l.pathname=N.join("/")}m=T>=0?t[T]:"/"}let p=T_(l,m),g=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var Za=i=>i.join("/").replace(/\/\/+/g,"/"),w_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),R_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,C_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function N_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $1=["POST","PUT","PATCH","DELETE"];new Set($1);var D_=["GET",...$1];new Set(D_);var Yr=L.createContext(null);Yr.displayName="DataRouter";var Gc=L.createContext(null);Gc.displayName="DataRouterState";L.createContext(!1);var Z1=L.createContext({isTransitioning:!1});Z1.displayName="ViewTransition";var M_=L.createContext(new Map);M_.displayName="Fetchers";var V_=L.createContext(null);V_.displayName="Await";var Wn=L.createContext(null);Wn.displayName="Navigation";var No=L.createContext(null);No.displayName="Location";var ea=L.createContext({outlet:null,matches:[],isDataRoute:!1});ea.displayName="Route";var am=L.createContext(null);am.displayName="RouteError";function I_(i,{relative:t}={}){ot(Xr(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=L.useContext(Wn),{hash:l,pathname:u,search:h}=Do(i,{relative:t}),m=u;return a!=="/"&&(m=u==="/"?a:Za([a,u])),r.createHref({pathname:m,search:h,hash:l})}function Xr(){return L.useContext(No)!=null}function ii(){return ot(Xr(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(No).location}var J1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W1(i){L.useContext(Wn).static||L.useLayoutEffect(i)}function Kr(){let{isDataRoute:i}=L.useContext(ea);return i?X_():O_()}function O_(){ot(Xr(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Yr),{basename:t,navigator:a}=L.useContext(Wn),{matches:r}=L.useContext(ea),{pathname:l}=ii(),u=JSON.stringify(tm(r)),h=L.useRef(!1);return W1(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(Jn(h.current,J1),!h.current)return;if(typeof p=="number"){a.go(p);return}let b=nm(p,JSON.parse(u),l,g.relative==="path");i==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Za([t,b.pathname])),(g.replace?a.replace:a.push)(b,g.state,g)},[t,a,u,l,i])}var j_=L.createContext(null);function z_(i){let t=L.useContext(ea).outlet;return L.useMemo(()=>t&&L.createElement(j_.Provider,{value:i},t),[t,i])}function Do(i,{relative:t}={}){let{matches:a}=L.useContext(ea),{pathname:r}=ii(),l=JSON.stringify(tm(a));return L.useMemo(()=>nm(i,JSON.parse(l),r,t==="path"),[i,l,r,t])}function U_(i,t){return e2(i,t)}function e2(i,t,a,r,l){ot(Xr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Wn),{matches:h}=L.useContext(ea),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let te=T&&T.path||"";t2(g,!T||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let N=ii(),I;if(t){let te=typeof t=="string"?Qr(t):t;ot(b==="/"||te.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${te.pathname}" was given in the \`location\` prop.`),I=te}else I=N;let H=I.pathname||"/",G=H;if(b!=="/"){let te=b.replace(/^\//,"").split("/");G="/"+H.replace(/^\//,"").split("/").slice(te.length).join("/")}let B=Y1(i,{pathname:G});Jn(T||B!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Jn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=q_(B&&B.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:Za([b,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?b:Za([b,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,a,r,l);return t&&Z?L.createElement(No.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},Z):Z}function L_(){let i=Y_(),t=N_(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),a?L.createElement("pre",{style:l},a):null,h)}var P_=L.createElement(L_,null),B_=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?L.createElement(ea.Provider,{value:this.props.routeContext},L.createElement(am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function k_({routeContext:i,match:t,children:a}){let r=L.useContext(Yr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(ea.Provider,{value:i},a)}function q_(i,t=[],a=null,r=null,l=null){if(i==null){if(!a)return null;if(a.errors)i=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let u=i,h=a?.errors;if(h!=null){let g=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ot(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(a)for(let g=0;g<u.length;g++){let b=u[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=g),b.route.id){let{loaderData:T,errors:N}=a,I=b.route.loader&&!T.hasOwnProperty(b.route.id)&&(!N||N[b.route.id]===void 0);if(b.route.lazy||I){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,b,T)=>{let N,I=!1,H=null,G=null;a&&(N=h&&b.route.id?h[b.route.id]:void 0,H=b.route.errorElement||P_,m&&(p<0&&T===0?(t2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,G=null):p===T&&(I=!0,G=b.route.hydrateFallbackElement||null)));let B=t.concat(u.slice(0,T+1)),Z=()=>{let te;return N?te=H:I?te=G:b.route.Component?te=L.createElement(b.route.Component,null):b.route.element?te=b.route.element:te=g,L.createElement(k_,{match:b,routeContext:{outlet:g,matches:B,isDataRoute:a!=null},children:te})};return a&&(b.route.ErrorBoundary||b.route.errorElement||T===0)?L.createElement(B_,{location:a.location,revalidation:a.revalidation,component:H,error:N,children:Z(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:r}):Z()},null)}function im(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H_(i){let t=L.useContext(Yr);return ot(t,im(i)),t}function F_(i){let t=L.useContext(Gc);return ot(t,im(i)),t}function G_(i){let t=L.useContext(ea);return ot(t,im(i)),t}function sm(i){let t=G_(i),a=t.matches[t.matches.length-1];return ot(a.route.id,`${i} can only be used on routes that contain a unique "id"`),a.route.id}function Q_(){return sm("useRouteId")}function Y_(){let i=L.useContext(am),t=F_("useRouteError"),a=sm("useRouteError");return i!==void 0?i:t.errors?.[a]}function X_(){let{router:i}=H_("useNavigate"),t=sm("useNavigate"),a=L.useRef(!1);return W1(()=>{a.current=!0}),L.useCallback(async(l,u={})=>{Jn(a.current,J1),a.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var Ty={};function t2(i,t,a){!t&&!Ty[i]&&(Ty[i]=!0,Jn(!1,a))}L.memo(K_);function K_({routes:i,future:t,state:a,unstable_onError:r}){return e2(i,void 0,a,r,t)}function jr({to:i,replace:t,state:a,relative:r}){ot(Xr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=L.useContext(Wn);Jn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ea),{pathname:h}=ii(),m=Kr(),p=nm(i,tm(u),h,r==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:t,state:a,relative:r})},[m,g,r,t,a]),null}function $_(i){return z_(i.context)}function bn(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z_({basename:i="/",children:t=null,location:a,navigationType:r="POP",navigator:l,static:u=!1}){ot(!Xr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof a=="string"&&(a=Qr(a));let{pathname:p="/",search:g="",hash:b="",state:T=null,key:N="default"}=a,I=L.useMemo(()=>{let H=Wa(p,h);return H==null?null:{location:{pathname:H,search:g,hash:b,state:T,key:N},navigationType:r}},[h,p,g,b,T,N,r]);return Jn(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:L.createElement(Wn.Provider,{value:m},L.createElement(No.Provider,{children:t,value:I}))}function J_({children:i,location:t}){return U_(Cd(i),t)}function Cd(i,t=[]){let a=[];return L.Children.forEach(i,(r,l)=>{if(!L.isValidElement(r))return;let u=[...t,l];if(r.type===L.Fragment){a.push.apply(a,Cd(r.props.children,u));return}ot(r.type===bn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Cd(r.props.children,u)),a.push(h)}),a}var yc="get",xc="application/x-www-form-urlencoded";function Qc(i){return i!=null&&typeof i.tagName=="string"}function W_(i){return Qc(i)&&i.tagName.toLowerCase()==="button"}function e4(i){return Qc(i)&&i.tagName.toLowerCase()==="form"}function t4(i){return Qc(i)&&i.tagName.toLowerCase()==="input"}function n4(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function a4(i,t){return i.button===0&&(!t||t==="_self")&&!n4(i)}var fc=null;function i4(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var s4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pd(i){return i!=null&&!s4.has(i)?(Jn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):i}function r4(i,t){let a,r,l,u,h;if(e4(i)){let m=i.getAttribute("action");r=m?Wa(m,t):null,a=i.getAttribute("method")||yc,l=pd(i.getAttribute("enctype"))||xc,u=new FormData(i)}else if(W_(i)||t4(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(r=p?Wa(p,t):null,a=i.getAttribute("formmethod")||m.getAttribute("method")||yc,l=pd(i.getAttribute("formenctype"))||pd(m.getAttribute("enctype"))||xc,u=new FormData(m,i),!i4()){let{name:g,type:b,value:T}=i;if(b==="image"){let N=g?`${g}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else g&&u.append(g,T)}}else{if(Qc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=yc,r=null,l=xc,h=i}return u&&l==="text/plain"&&(h=u,u=void 0),{action:r,method:a.toLowerCase(),encType:l,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function l4(i,t,a){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&Wa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function o4(i,t){if(i.id in t)return t[i.id];try{let a=await import(i.module);return t[i.id]=a,a}catch(a){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u4(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function c4(i,t,a){let r=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await o4(u,a);return h.links?h.links():[]}return[]}));return m4(r.flat(1).filter(u4).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Sy(i,t,a,r,l,u){let h=(p,g)=>a[g]?p.route.id!==a[g].route.id:!0,m=(p,g)=>a[g].pathname!==p.pathname||a[g].route.path?.endsWith("*")&&a[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{let b=r.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function f4(i,t,{includeHydrateFallback:a}={}){return h4(i.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function h4(i){return[...new Set(i)]}function d4(i){let t={},a=Object.keys(i).sort();for(let r of a)t[r]=i[r];return t}function m4(i,t){let a=new Set;return new Set(t),i.reduce((r,l)=>{let u=JSON.stringify(d4(l));return a.has(u)||(a.add(u),r.push({key:u,link:l})),r},[])}function n2(){let i=L.useContext(Yr);return rm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function g4(){let i=L.useContext(Gc);return rm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var lm=L.createContext(void 0);lm.displayName="FrameworkContext";function a2(){let i=L.useContext(lm);return rm(i,"You must render this element inside a <HydratedRouter> element"),i}function p4(i,t){let a=L.useContext(lm),[r,l]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=t,N=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let G=Z=>{Z.forEach(te=>{h(te.isIntersecting)})},B=new IntersectionObserver(G,{threshold:.5});return N.current&&B.observe(N.current),()=>{B.disconnect()}}},[i]),L.useEffect(()=>{if(r){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[r]);let I=()=>{l(!0)},H=()=>{l(!1),h(!1)};return a?i!=="intent"?[u,N,{}]:[u,N,{onFocus:lo(m,I),onBlur:lo(p,H),onMouseEnter:lo(g,I),onMouseLeave:lo(b,H),onTouchStart:lo(T,I)}]:[!1,N,{}]}function lo(i,t){return a=>{i&&i(a),a.defaultPrevented||t(a)}}function y4({page:i,...t}){let{router:a}=n2(),r=L.useMemo(()=>Y1(a.routes,i,a.basename),[a.routes,i,a.basename]);return r?L.createElement(v4,{page:i,matches:r,...t}):null}function x4(i){let{manifest:t,routeModules:a}=a2(),[r,l]=L.useState([]);return L.useEffect(()=>{let u=!1;return c4(i,t,a).then(h=>{u||l(h)}),()=>{u=!0}},[i,t,a]),r}function v4({page:i,matches:t,...a}){let r=ii(),{manifest:l,routeModules:u}=a2(),{basename:h}=n2(),{loaderData:m,matches:p}=g4(),g=L.useMemo(()=>Sy(i,t,p,l,r,"data"),[i,t,p,l,r]),b=L.useMemo(()=>Sy(i,t,p,l,r,"assets"),[i,t,p,l,r]),T=L.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let H=new Set,G=!1;if(t.forEach(Z=>{let te=l.routes[Z.route.id];!te||!te.hasLoader||(!g.some(ie=>ie.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||te.hasClientLoader?G=!0:H.add(Z.route.id))}),H.size===0)return[];let B=l4(i,h,"data");return G&&H.size>0&&B.searchParams.set("_routes",t.filter(Z=>H.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[B.pathname+B.search]},[h,m,r,l,g,t,i,u]),N=L.useMemo(()=>f4(b,l),[b,l]),I=x4(b);return L.createElement(L.Fragment,null,T.map(H=>L.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...a})),N.map(H=>L.createElement("link",{key:H,rel:"modulepreload",href:H,...a})),I.map(({key:H,link:G})=>L.createElement("link",{key:H,nonce:a.nonce,...G})))}function b4(...i){return t=>{i.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var i2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i2&&(window.__reactRouterVersion="7.9.5")}catch{}function _4({basename:i,children:t,window:a}){let r=L.useRef();r.current==null&&(r.current=r_({window:a,v5Compat:!0}));let l=r.current,[u,h]=L.useState({action:l.action,location:l.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>l.listen(m),[l,m]),L.createElement(Z_,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:l})}var s2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=L.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:l,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:b,viewTransition:T,...N},I){let{basename:H}=L.useContext(Wn),G=typeof g=="string"&&s2.test(g),B,Z=!1;if(typeof g=="string"&&G&&(B=g,i2))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=Wa(O.pathname,H);O.origin===R.origin&&V!=null?g=V+O.search+O.hash:Z=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=I_(g,{relative:l}),[ie,ve,le]=p4(r,N),oe=A4(g,{replace:h,state:m,target:p,preventScrollReset:b,relative:l,viewTransition:T});function w(R){t&&t(R),R.defaultPrevented||oe(R)}let A=L.createElement("a",{...N,...le,href:B||te,onClick:Z||u?t:w,ref:b4(I,ve),target:p,"data-discover":!G&&a==="render"?"true":void 0});return ie&&!G?L.createElement(L.Fragment,null,A,L.createElement(y4,{page:te})):A});_n.displayName="Link";var E4=L.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:l=!1,style:u,to:h,viewTransition:m,children:p,...g},b){let T=Do(h,{relative:g.relative}),N=ii(),I=L.useContext(Gc),{navigator:H,basename:G}=L.useContext(Wn),B=I!=null&&D4(T)&&m===!0,Z=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,te=N.pathname,ie=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;a||(te=te.toLowerCase(),ie=ie?ie.toLowerCase():null,Z=Z.toLowerCase()),ie&&G&&(ie=Wa(ie,G)||ie);const ve=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let le=te===Z||!l&&te.startsWith(Z)&&te.charAt(ve)==="/",oe=ie!=null&&(ie===Z||!l&&ie.startsWith(Z)&&ie.charAt(Z.length)==="/"),w={isActive:le,isPending:oe,isTransitioning:B},A=le?t:void 0,R;typeof r=="function"?R=r(w):R=[r,le?"active":null,oe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(w):u;return L.createElement(_n,{...g,"aria-current":A,className:R,ref:b,style:O,to:h,viewTransition:m},typeof p=="function"?p(w):p)});E4.displayName="NavLink";var T4=L.forwardRef(({discover:i="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:l,state:u,method:h=yc,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:T,...N},I)=>{let H=C4(),G=N4(m,{relative:g}),B=h.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&s2.test(m),te=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let ve=ie.nativeEvent.submitter,le=ve?.getAttribute("formmethod")||h;H(ve||ie.currentTarget,{fetcherKey:t,method:le,navigate:a,replace:l,state:u,relative:g,preventScrollReset:b,viewTransition:T})};return L.createElement("form",{ref:I,method:B,action:G,onSubmit:r?p:te,...N,"data-discover":!Z&&i==="render"?"true":void 0})});T4.displayName="Form";function S4(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r2(i){let t=L.useContext(Yr);return ot(t,S4(i)),t}function A4(i,{target:t,replace:a,state:r,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=Kr(),p=ii(),g=Do(i,{relative:u});return L.useCallback(b=>{if(a4(b,t)){b.preventDefault();let T=a!==void 0?a:xo(p)===xo(g);m(i,{replace:T,state:r,preventScrollReset:l,relative:u,viewTransition:h})}},[p,m,g,a,r,t,i,l,u,h])}var w4=0,R4=()=>`__${String(++w4)}__`;function C4(){let{router:i}=r2("useSubmit"),{basename:t}=L.useContext(Wn),a=Q_();return L.useCallback(async(r,l={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=r4(r,t);if(l.navigate===!1){let b=l.fetcherKey||R4();await i.fetch(b,a,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,a])}function N4(i,{relative:t}={}){let{basename:a}=L.useContext(Wn),r=L.useContext(ea);ot(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...Do(i||".",{relative:t})},h=ii();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Za([a,u.pathname])),xo(u)}function D4(i,{relative:t}={}){let a=L.useContext(Z1);ot(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=r2("useViewTransitionState"),l=Do(i,{relative:t});if(!a.isTransitioning)return!1;let u=Wa(a.currentLocation.pathname,r)||a.currentLocation.pathname,h=Wa(a.nextLocation.pathname,r)||a.nextLocation.pathname;return wc(l.pathname,h)!=null||wc(l.pathname,u)!=null}const M4={};function V4(i){try{return crypto.getRandomValues(new Uint8Array(i))}catch{}try{return M4.randomBytes(i)}catch{}throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative")}function I4(i,t){if(i=i||l2,typeof i!="number")throw Error("Illegal arguments: "+typeof i+", "+typeof t);i<4?i=4:i>31&&(i=31);var a=[];return a.push("$2b$"),i<10&&a.push("0"),a.push(i.toString()),a.push("$"),a.push(Nd(V4(vo),vo)),a.join("")}function O4(i,t,a){if(typeof t=="function"&&(a=t,t=void 0),typeof i=="function"&&(a=i,i=void 0),typeof i>"u")i=l2;else if(typeof i!="number")throw Error("illegal arguments: "+typeof i);function r(l){$n(function(){try{l(null,I4(i))}catch(u){l(u)}})}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);r(a)}else return new Promise(function(l,u){r(function(h,m){if(h){u(h);return}l(m)})})}function vc(i,t,a,r){function l(u){typeof i=="string"&&typeof t=="number"?O4(t,function(h,m){Dy(i,m,u,r)}):typeof i=="string"&&typeof t=="string"?Dy(i,t,u,r):$n(u.bind(this,Error("Illegal arguments: "+typeof i+", "+typeof t)))}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);l(a)}else return new Promise(function(u,h){l(function(m,p){if(m){h(m);return}u(p)})})}function j4(i,t){for(var a=i.length^t.length,r=0;r<i.length;++r)a|=i.charCodeAt(r)^t.charCodeAt(r);return a===0}function Ay(i,t,a,r){function l(u){if(typeof i!="string"||typeof t!="string"){$n(u.bind(this,Error("Illegal arguments: "+typeof i+", "+typeof t)));return}if(t.length!==60){$n(u.bind(this,null,!1));return}vc(i,t.substring(0,29),function(h,m){h?u(h):u(null,j4(m,t))},r)}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);l(a)}else return new Promise(function(u,h){l(function(m,p){if(m){h(m);return}u(p)})})}var $n=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function z4(i){for(var t=0,a=0,r=0;r<i.length;++r)a=i.charCodeAt(r),a<128?t+=1:a<2048?t+=2:(a&64512)===55296&&(i.charCodeAt(r+1)&64512)===56320?(++r,t+=4):t+=3;return t}function U4(i){for(var t=0,a,r,l=new Array(z4(i)),u=0,h=i.length;u<h;++u)a=i.charCodeAt(u),a<128?l[t++]=a:a<2048?(l[t++]=a>>6|192,l[t++]=a&63|128):(a&64512)===55296&&((r=i.charCodeAt(u+1))&64512)===56320?(a=65536+((a&1023)<<10)+(r&1023),++u,l[t++]=a>>18|240,l[t++]=a>>12&63|128,l[t++]=a>>6&63|128,l[t++]=a&63|128):(l[t++]=a>>12|224,l[t++]=a>>6&63|128,l[t++]=a&63|128);return l}var Cr="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Li=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Nd(i,t){var a=0,r=[],l,u;if(t<=0||t>i.length)throw Error("Illegal len: "+t);for(;a<t;){if(l=i[a++]&255,r.push(Cr[l>>2&63]),l=(l&3)<<4,a>=t){r.push(Cr[l&63]);break}if(u=i[a++]&255,l|=u>>4&15,r.push(Cr[l&63]),l=(u&15)<<2,a>=t){r.push(Cr[l&63]);break}u=i[a++]&255,l|=u>>6&3,r.push(Cr[l&63]),r.push(Cr[u&63])}return r.join("")}function L4(i,t){for(var a=0,r=i.length,l=0,u=[],h,m,p,g,b,T;a<r-1&&l<t&&(T=i.charCodeAt(a++),h=T<Li.length?Li[T]:-1,T=i.charCodeAt(a++),m=T<Li.length?Li[T]:-1,!(h==-1||m==-1||(b=h<<2>>>0,b|=(m&48)>>4,u.push(String.fromCharCode(b)),++l>=t||a>=r)||(T=i.charCodeAt(a++),p=T<Li.length?Li[T]:-1,p==-1)||(b=(m&15)<<4>>>0,b|=(p&60)>>2,u.push(String.fromCharCode(b)),++l>=t||a>=r)));)T=i.charCodeAt(a++),g=T<Li.length?Li[T]:-1,b=(p&3)<<6>>>0,b|=g,u.push(String.fromCharCode(b)),++l;var N=[];for(a=0;a<l;a++)N.push(u[a].charCodeAt(0));return N}var vo=16,l2=10,P4=16,B4=100,wy=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Ry=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],o2=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function bo(i,t,a,r){var l,u=i[t],h=i[t+1];return u^=a[0],l=r[u>>>24],l+=r[256|u>>16&255],l^=r[512|u>>8&255],l+=r[768|u&255],h^=l^a[1],l=r[h>>>24],l+=r[256|h>>16&255],l^=r[512|h>>8&255],l+=r[768|h&255],u^=l^a[2],l=r[u>>>24],l+=r[256|u>>16&255],l^=r[512|u>>8&255],l+=r[768|u&255],h^=l^a[3],l=r[h>>>24],l+=r[256|h>>16&255],l^=r[512|h>>8&255],l+=r[768|h&255],u^=l^a[4],l=r[u>>>24],l+=r[256|u>>16&255],l^=r[512|u>>8&255],l+=r[768|u&255],h^=l^a[5],l=r[h>>>24],l+=r[256|h>>16&255],l^=r[512|h>>8&255],l+=r[768|h&255],u^=l^a[6],l=r[u>>>24],l+=r[256|u>>16&255],l^=r[512|u>>8&255],l+=r[768|u&255],h^=l^a[7],l=r[h>>>24],l+=r[256|h>>16&255],l^=r[512|h>>8&255],l+=r[768|h&255],u^=l^a[8],l=r[u>>>24],l+=r[256|u>>16&255],l^=r[512|u>>8&255],l+=r[768|u&255],h^=l^a[9],l=r[h>>>24],l+=r[256|h>>16&255],l^=r[512|h>>8&255],l+=r[768|h&255],u^=l^a[10],l=r[u>>>24],l+=r[256|u>>16&255],l^=r[512|u>>8&255],l+=r[768|u&255],h^=l^a[11],l=r[h>>>24],l+=r[256|h>>16&255],l^=r[512|h>>8&255],l+=r[768|h&255],u^=l^a[12],l=r[u>>>24],l+=r[256|u>>16&255],l^=r[512|u>>8&255],l+=r[768|u&255],h^=l^a[13],l=r[h>>>24],l+=r[256|h>>16&255],l^=r[512|h>>8&255],l+=r[768|h&255],u^=l^a[14],l=r[u>>>24],l+=r[256|u>>16&255],l^=r[512|u>>8&255],l+=r[768|u&255],h^=l^a[15],l=r[h>>>24],l+=r[256|h>>16&255],l^=r[512|h>>8&255],l+=r[768|h&255],u^=l^a[16],i[t]=h^a[P4+1],i[t+1]=u,i}function Dr(i,t){for(var a=0,r=0;a<4;++a)r=r<<8|i[t]&255,t=(t+1)%i.length;return{key:r,offp:t}}function Cy(i,t,a){for(var r=0,l=[0,0],u=t.length,h=a.length,m,p=0;p<u;p++)m=Dr(i,r),r=m.offp,t[p]=t[p]^m.key;for(p=0;p<u;p+=2)l=bo(l,0,t,a),t[p]=l[0],t[p+1]=l[1];for(p=0;p<h;p+=2)l=bo(l,0,t,a),a[p]=l[0],a[p+1]=l[1]}function k4(i,t,a,r){for(var l=0,u=[0,0],h=a.length,m=r.length,p,g=0;g<h;g++)p=Dr(t,l),l=p.offp,a[g]=a[g]^p.key;for(l=0,g=0;g<h;g+=2)p=Dr(i,l),l=p.offp,u[0]^=p.key,p=Dr(i,l),l=p.offp,u[1]^=p.key,u=bo(u,0,a,r),a[g]=u[0],a[g+1]=u[1];for(g=0;g<m;g+=2)p=Dr(i,l),l=p.offp,u[0]^=p.key,p=Dr(i,l),l=p.offp,u[1]^=p.key,u=bo(u,0,a,r),r[g]=u[0],r[g+1]=u[1]}function Ny(i,t,a,r,l){var u=o2.slice(),h=u.length,m;if(a<4||a>31)if(m=Error("Illegal number of rounds (4-31): "+a),r){$n(r.bind(this,m));return}else throw m;if(t.length!==vo)if(m=Error("Illegal salt length: "+t.length+" != "+vo),r){$n(r.bind(this,m));return}else throw m;a=1<<a>>>0;var p,g,b=0,T;typeof Int32Array=="function"?(p=new Int32Array(wy),g=new Int32Array(Ry)):(p=wy.slice(),g=Ry.slice()),k4(t,i,p,g);function N(){if(l&&l(b/a),b<a)for(var H=Date.now();b<a&&(b=b+1,Cy(i,p,g),Cy(t,p,g),!(Date.now()-H>B4)););else{for(b=0;b<64;b++)for(T=0;T<h>>1;T++)bo(u,T<<1,p,g);var G=[];for(b=0;b<h;b++)G.push((u[b]>>24&255)>>>0),G.push((u[b]>>16&255)>>>0),G.push((u[b]>>8&255)>>>0),G.push((u[b]&255)>>>0);if(r){r(null,G);return}else return G}r&&$n(N)}if(typeof r<"u")N();else for(var I;;)if(typeof(I=N())<"u")return I||[]}function Dy(i,t,a,r){var l;if(typeof i!="string"||typeof t!="string")if(l=Error("Invalid string / salt: Not a string"),a){$n(a.bind(this,l));return}else throw l;var u,h;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(l=Error("Invalid salt version: "+t.substring(0,2)),a){$n(a.bind(this,l));return}else throw l;if(t.charAt(2)==="$")u="\0",h=3;else{if(u=t.charAt(2),u!=="a"&&u!=="b"&&u!=="y"||t.charAt(3)!=="$")if(l=Error("Invalid salt revision: "+t.substring(2,4)),a){$n(a.bind(this,l));return}else throw l;h=4}if(t.charAt(h+2)>"$")if(l=Error("Missing salt rounds"),a){$n(a.bind(this,l));return}else throw l;var m=parseInt(t.substring(h,h+1),10)*10,p=parseInt(t.substring(h+1,h+2),10),g=m+p,b=t.substring(h+3,h+25);i+=u>="a"?"\0":"";var T=U4(i),N=L4(b,vo);function I(H){var G=[];return G.push("$2"),u>="a"&&G.push(u),G.push("$"),g<10&&G.push("0"),G.push(g.toString()),G.push("$"),G.push(Nd(N,N.length)),G.push(Nd(H,o2.length*4-1)),G.join("")}if(typeof a>"u")return I(Ny(T,N,g));Ny(T,N,g,function(H,G){H?a(H,null):a(null,I(G))},r)}const q4=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=function(i){const t=[];let a=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?t[a++]=l:l<2048?(t[a++]=l>>6|192,t[a++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),t[a++]=l>>18|240,t[a++]=l>>12&63|128,t[a++]=l>>6&63|128,t[a++]=l&63|128):(t[a++]=l>>12|224,t[a++]=l>>6&63|128,t[a++]=l&63|128)}return t},H4=function(i){const t=[];let a=0,r=0;for(;a<i.length;){const l=i[a++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[a++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[a++],h=i[a++],m=i[a++],p=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[a++],h=i[a++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},c2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const u=i[l],h=l+1<i.length,m=h?i[l+1]:0,p=l+2<i.length,g=p?i[l+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let N=(m&15)<<2|g>>6,I=g&63;p||(I=64,h||(N=64)),r.push(a[b],a[T],a[N],a[I])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(u2(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):H4(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const u=a[i.charAt(l++)],m=l<i.length?a[i.charAt(l)]:0;++l;const g=l<i.length?a[i.charAt(l)]:64;++l;const T=l<i.length?a[i.charAt(l)]:64;if(++l,u==null||m==null||g==null||T==null)throw new F4;const N=u<<2|m>>4;if(r.push(N),g!==64){const I=m<<4&240|g>>2;if(r.push(I),T!==64){const H=g<<6&192|T;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class F4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G4=function(i){const t=u2(i);return c2.encodeByteArray(t,!0)},Rc=function(i){return G4(i).replace(/\./g,"")},Q4=function(i){try{return c2.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=()=>Y4().__FIREBASE_DEFAULTS__,K4=()=>{if(typeof process>"u"||typeof My>"u")return;const i=My.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$4=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Q4(i[1]);return t&&JSON.parse(t)},om=()=>{try{return q4()||X4()||K4()||$4()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Z4=i=>om()?.emulatorHosts?.[i],J4=i=>{const t=Z4(i);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(a+1),10);return t[0]==="["?[t.substring(1,a-1),r]:[t.substring(0,a),r]},f2=()=>om()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}wrapCallback(t){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(a):t(a,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e3(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Rc(JSON.stringify(a)),Rc(JSON.stringify(h)),""].join(".")}const ho={};function n3(){const i={prod:[],emulator:[]};for(const t of Object.keys(ho))ho[t]?i.emulator.push(t):i.prod.push(t);return i}function a3(i){let t=document.getElementById(i),a=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),a=!0),{created:a,element:t}}let Vy=!1;function i3(i,t){if(typeof window>"u"||typeof document>"u"||!um(window.location.host)||ho[i]===t||ho[i]||Vy)return;ho[i]=t;function a(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=n3().prod.length>0;function h(){const N=document.getElementById(r);N&&N.remove()}function m(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,I){N.setAttribute("width","24"),N.setAttribute("id",I),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function g(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Vy=!0,h()},N}function b(N,I){N.setAttribute("id",I),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function T(){const N=a3(r),I=a("text"),H=document.getElementById(I)||document.createElement("span"),G=a("learnmore"),B=document.getElementById(G)||document.createElement("a"),Z=a("preprendIcon"),te=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ie=N.element;m(ie),b(B,G);const ve=g();p(te,Z),ie.append(te,H,B,ve),document.body.appendChild(ie)}u?(H.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r3(){const i=om()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l3(){return!r3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o3(){try{return typeof indexedDB=="object"}catch{return!1}}function u3(){return new Promise((i,t)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),a||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{a=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(a){t(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="FirebaseError";class $r extends Error{constructor(t,a,r){super(a),this.code=t,this.customData=r,this.name=c3,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h2.prototype.create)}}class h2{constructor(t,a,r){this.service=t,this.serviceName=a,this.errors=r}create(t,...a){const r=a[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?f3(u,r):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new $r(l,m,r)}}function f3(i,t){return i.replace(h3,(a,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const h3=/\{\$([^}]+)}/g;function Cc(i,t){if(i===t)return!0;const a=Object.keys(i),r=Object.keys(t);for(const l of a){if(!r.includes(l))return!1;const u=i[l],h=t[l];if(Iy(u)&&Iy(h)){if(!Cc(u,h))return!1}else if(u!==h)return!1}for(const l of r)if(!a.includes(l))return!1;return!0}function Iy(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i){return i&&i._delegate?i._delegate:i}class _o{constructor(t,a,r){this.name=t,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(t,a){this.name=t,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const a=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(a)){const r=new W4;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:a});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(t){const a=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(g3(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...t.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:a={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(l)}return l}onInit(t,a){const r=this.normalizeInstanceIdentifier(a),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,a){const r=this.onInitCallbacks.get(a);if(r)for(const l of r)try{l(t,a)}catch{}}getOrInitializeService({instanceIdentifier:t,options:a={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m3(t),options:a}),this.instances.set(t,r),this.instancesOptions.set(t,a),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m3(i){return i===Ds?void 0:i}function g3(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const a=this.getProvider(t.name);if(a.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);a.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const a=new d3(t,this);return this.providers.set(t,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const y3={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},x3=Pe.INFO,v3={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},b3=(i,t,...a)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),l=v3[t];if(l)console[l](`[${r}]  ${i.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class d2{constructor(t){this.name=t,this._logLevel=x3,this._logHandler=b3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?y3[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...t),this._logHandler(this,Pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...t),this._logHandler(this,Pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...t),this._logHandler(this,Pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...t),this._logHandler(this,Pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...t),this._logHandler(this,Pe.ERROR,...t)}}const _3=(i,t)=>t.some(a=>i instanceof a);let Oy,jy;function E3(){return Oy||(Oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T3(){return jy||(jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m2=new WeakMap,Dd=new WeakMap,g2=new WeakMap,yd=new WeakMap,cm=new WeakMap;function S3(i){const t=new Promise((a,r)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{a(ki(i.result)),l()},h=()=>{r(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(a=>{a instanceof IDBCursor&&m2.set(a,i)}).catch(()=>{}),cm.set(t,i),t}function A3(i){if(Dd.has(i))return;const t=new Promise((a,r)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{a(),l()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Dd.set(i,t)}let Md={get(i,t,a){if(i instanceof IDBTransaction){if(t==="done")return Dd.get(i);if(t==="objectStoreNames")return i.objectStoreNames||g2.get(i);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ki(i[t])},set(i,t,a){return i[t]=a,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function w3(i){Md=i(Md)}function R3(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...a){const r=i.call(xd(this),t,...a);return g2.set(r,t.sort?t.sort():[t]),ki(r)}:T3().includes(i)?function(...t){return i.apply(xd(this),t),ki(m2.get(this))}:function(...t){return ki(i.apply(xd(this),t))}}function C3(i){return typeof i=="function"?R3(i):(i instanceof IDBTransaction&&A3(i),_3(i,E3())?new Proxy(i,Md):i)}function ki(i){if(i instanceof IDBRequest)return S3(i);if(yd.has(i))return yd.get(i);const t=C3(i);return t!==i&&(yd.set(i,t),cm.set(t,i)),t}const xd=i=>cm.get(i);function N3(i,t,{blocked:a,upgrade:r,blocking:l,terminated:u}={}){const h=indexedDB.open(i,t),m=ki(h);return r&&h.addEventListener("upgradeneeded",p=>{r(ki(h.result),p.oldVersion,p.newVersion,ki(h.transaction),p)}),a&&h.addEventListener("blocked",p=>a(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const D3=["get","getKey","getAll","getAllKeys","count"],M3=["put","add","delete","clear"],vd=new Map;function zy(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(vd.get(t))return vd.get(t);const a=t.replace(/FromIndex$/,""),r=t!==a,l=M3.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(l||D3.includes(a)))return;const u=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[a](...m),l&&p.done]))[0]};return vd.set(t,u),u}w3(i=>({...i,get:(t,a,r)=>zy(t,a)||i.get(t,a,r),has:(t,a)=>!!zy(t,a)||i.has(t,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(I3(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function I3(i){return i.getComponent()?.type==="VERSION"}const Vd="@firebase/app",Uy="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new d2("@firebase/app"),O3="@firebase/app-compat",j3="@firebase/analytics-compat",z3="@firebase/analytics",U3="@firebase/app-check-compat",L3="@firebase/app-check",P3="@firebase/auth",B3="@firebase/auth-compat",k3="@firebase/database",q3="@firebase/data-connect",H3="@firebase/database-compat",F3="@firebase/functions",G3="@firebase/functions-compat",Q3="@firebase/installations",Y3="@firebase/installations-compat",X3="@firebase/messaging",K3="@firebase/messaging-compat",$3="@firebase/performance",Z3="@firebase/performance-compat",J3="@firebase/remote-config",W3="@firebase/remote-config-compat",eE="@firebase/storage",tE="@firebase/storage-compat",nE="@firebase/firestore",aE="@firebase/ai",iE="@firebase/firestore-compat",sE="firebase",rE="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="[DEFAULT]",lE={[Vd]:"fire-core",[O3]:"fire-core-compat",[z3]:"fire-analytics",[j3]:"fire-analytics-compat",[L3]:"fire-app-check",[U3]:"fire-app-check-compat",[P3]:"fire-auth",[B3]:"fire-auth-compat",[k3]:"fire-rtdb",[q3]:"fire-data-connect",[H3]:"fire-rtdb-compat",[F3]:"fire-fn",[G3]:"fire-fn-compat",[Q3]:"fire-iid",[Y3]:"fire-iid-compat",[X3]:"fire-fcm",[K3]:"fire-fcm-compat",[$3]:"fire-perf",[Z3]:"fire-perf-compat",[J3]:"fire-rc",[W3]:"fire-rc-compat",[eE]:"fire-gcs",[tE]:"fire-gcs-compat",[nE]:"fire-fst",[iE]:"fire-fst-compat",[aE]:"fire-vertex","fire-js":"fire-js",[sE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,oE=new Map,Od=new Map;function Ly(i,t){try{i.container.addComponent(t)}catch(a){ti.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,a)}}function Dc(i){const t=i.name;if(Od.has(t))return ti.debug(`There were multiple attempts to register component ${t}.`),!1;Od.set(t,i);for(const a of Nc.values())Ly(a,i);for(const a of oE.values())Ly(a,i);return!0}function uE(i,t){const a=i.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),i.container.getProvider(t)}function cE(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new h2("app","Firebase",fE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,a,r){this._isDeleted=!1,this._options={...t},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=rE;function p2(i,t={}){let a=i;typeof t!="object"&&(t={name:t});const r={name:Id,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw qi.create("bad-app-name",{appName:String(l)});if(a||(a=f2()),!a)throw qi.create("no-options");const u=Nc.get(l);if(u){if(Cc(a,u.options)&&Cc(r,u.config))return u;throw qi.create("duplicate-app",{appName:l})}const h=new p3(l);for(const p of Od.values())h.addComponent(p);const m=new hE(a,r,h);return Nc.set(l,m),m}function mE(i=Id){const t=Nc.get(i);if(!t&&i===Id&&f2())return p2();if(!t)throw qi.create("no-app",{appName:i});return t}function zr(i,t,a){let r=lE[i]??i;a&&(r+=`-${a}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const h=[`Unable to register library "${r}" with version "${t}":`];l&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ti.warn(h.join(" "));return}Dc(new _o(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="firebase-heartbeat-database",pE=1,Eo="firebase-heartbeat-store";let bd=null;function y2(){return bd||(bd=N3(gE,pE,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Eo)}catch(a){console.warn(a)}}}}).catch(i=>{throw qi.create("idb-open",{originalErrorMessage:i.message})})),bd}async function yE(i){try{const a=(await y2()).transaction(Eo),r=await a.objectStore(Eo).get(x2(i));return await a.done,r}catch(t){if(t instanceof $r)ti.warn(t.message);else{const a=qi.create("idb-get",{originalErrorMessage:t?.message});ti.warn(a.message)}}}async function Py(i,t){try{const r=(await y2()).transaction(Eo,"readwrite");await r.objectStore(Eo).put(t,x2(i)),await r.done}catch(a){if(a instanceof $r)ti.warn(a.message);else{const r=qi.create("idb-set",{originalErrorMessage:a?.message});ti.warn(r.message)}}}function x2(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=1024,vE=30;class bE{constructor(t){this.container=t,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new EE(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=By();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:a}),this._heartbeatsCache.heartbeats.length>vE){const l=TE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ti.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=By(),{heartbeatsToSend:a,unsentEntries:r}=_E(this._heartbeatsCache.heartbeats),l=Rc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ti.warn(t),""}}}function By(){return new Date().toISOString().substring(0,10)}function _E(i,t=xE){const a=[];let r=i.slice();for(const l of i){const u=a.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),ky(a)>t){u.dates.pop();break}}else if(a.push({agent:l.agent,dates:[l.date]}),ky(a)>t){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class EE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o3()?u3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await yE(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function ky(i){return Rc(JSON.stringify({version:2,heartbeats:i})).length}function TE(i){if(i.length===0)return-1;let t=0,a=i[0].date;for(let r=1;r<i.length;r++)i[r].date<a&&(a=i[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(i){Dc(new _o("platform-logger",t=>new V3(t),"PRIVATE")),Dc(new _o("heartbeat",t=>new bE(t),"PRIVATE")),zr(Vd,Uy,i),zr(Vd,Uy,"esm2020"),zr("fire-js","")}SE("");var AE="firebase",wE="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(AE,wE,"app");var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hi,v2;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(w,A){function R(){}R.prototype=A.prototype,w.F=A.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(O,V,M){for(var C=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)C[Ce-2]=arguments[Ce];return A.prototype[V].apply(O,C)}}function a(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,a),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,A,R){R||(R=0);const O=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)O[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;V<16;++V)O[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=w.g[0],R=w.g[1],V=w.g[2];let M=w.g[3],C;C=A+(M^R&(V^M))+O[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=M+(V^A&(R^V))+O[1]+3905402710&4294967295,M=A+(C<<12&4294967295|C>>>20),C=V+(R^M&(A^R))+O[2]+606105819&4294967295,V=M+(C<<17&4294967295|C>>>15),C=R+(A^V&(M^A))+O[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(M^R&(V^M))+O[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=M+(V^A&(R^V))+O[5]+1200080426&4294967295,M=A+(C<<12&4294967295|C>>>20),C=V+(R^M&(A^R))+O[6]+2821735955&4294967295,V=M+(C<<17&4294967295|C>>>15),C=R+(A^V&(M^A))+O[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(M^R&(V^M))+O[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=M+(V^A&(R^V))+O[9]+2336552879&4294967295,M=A+(C<<12&4294967295|C>>>20),C=V+(R^M&(A^R))+O[10]+4294925233&4294967295,V=M+(C<<17&4294967295|C>>>15),C=R+(A^V&(M^A))+O[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(M^R&(V^M))+O[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=M+(V^A&(R^V))+O[13]+4254626195&4294967295,M=A+(C<<12&4294967295|C>>>20),C=V+(R^M&(A^R))+O[14]+2792965006&4294967295,V=M+(C<<17&4294967295|C>>>15),C=R+(A^V&(M^A))+O[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=A+(V^M&(R^V))+O[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=M+(R^V&(A^R))+O[6]+3225465664&4294967295,M=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(M^A))+O[11]+643717713&4294967295,V=M+(C<<14&4294967295|C>>>18),C=R+(M^A&(V^M))+O[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^M&(R^V))+O[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=M+(R^V&(A^R))+O[10]+38016083&4294967295,M=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(M^A))+O[15]+3634488961&4294967295,V=M+(C<<14&4294967295|C>>>18),C=R+(M^A&(V^M))+O[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^M&(R^V))+O[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=M+(R^V&(A^R))+O[14]+3275163606&4294967295,M=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(M^A))+O[3]+4107603335&4294967295,V=M+(C<<14&4294967295|C>>>18),C=R+(M^A&(V^M))+O[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(V^M&(R^V))+O[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=M+(R^V&(A^R))+O[2]+4243563512&4294967295,M=A+(C<<9&4294967295|C>>>23),C=V+(A^R&(M^A))+O[7]+1735328473&4294967295,V=M+(C<<14&4294967295|C>>>18),C=R+(M^A&(V^M))+O[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=A+(R^V^M)+O[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=M+(A^R^V)+O[8]+2272392833&4294967295,M=A+(C<<11&4294967295|C>>>21),C=V+(M^A^R)+O[11]+1839030562&4294967295,V=M+(C<<16&4294967295|C>>>16),C=R+(V^M^A)+O[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^M)+O[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=M+(A^R^V)+O[4]+1272893353&4294967295,M=A+(C<<11&4294967295|C>>>21),C=V+(M^A^R)+O[7]+4139469664&4294967295,V=M+(C<<16&4294967295|C>>>16),C=R+(V^M^A)+O[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^M)+O[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=M+(A^R^V)+O[0]+3936430074&4294967295,M=A+(C<<11&4294967295|C>>>21),C=V+(M^A^R)+O[3]+3572445317&4294967295,V=M+(C<<16&4294967295|C>>>16),C=R+(V^M^A)+O[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(R^V^M)+O[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=M+(A^R^V)+O[12]+3873151461&4294967295,M=A+(C<<11&4294967295|C>>>21),C=V+(M^A^R)+O[15]+530742520&4294967295,V=M+(C<<16&4294967295|C>>>16),C=R+(V^M^A)+O[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=A+(V^(R|~M))+O[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=M+(R^(A|~V))+O[7]+1126891415&4294967295,M=A+(C<<10&4294967295|C>>>22),C=V+(A^(M|~R))+O[14]+2878612391&4294967295,V=M+(C<<15&4294967295|C>>>17),C=R+(M^(V|~A))+O[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~M))+O[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=M+(R^(A|~V))+O[3]+2399980690&4294967295,M=A+(C<<10&4294967295|C>>>22),C=V+(A^(M|~R))+O[10]+4293915773&4294967295,V=M+(C<<15&4294967295|C>>>17),C=R+(M^(V|~A))+O[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~M))+O[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=M+(R^(A|~V))+O[15]+4264355552&4294967295,M=A+(C<<10&4294967295|C>>>22),C=V+(A^(M|~R))+O[6]+2734768916&4294967295,V=M+(C<<15&4294967295|C>>>17),C=R+(M^(V|~A))+O[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=A+(V^(R|~M))+O[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=M+(R^(A|~V))+O[11]+3174756917&4294967295,M=A+(C<<10&4294967295|C>>>22),C=V+(A^(M|~R))+O[2]+718787259&4294967295,V=M+(C<<15&4294967295|C>>>17),C=R+(M^(V|~A))+O[9]+3951481745&4294967295,w.g[0]=w.g[0]+A&4294967295,w.g[1]=w.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+V&4294967295,w.g[3]=w.g[3]+M&4294967295}r.prototype.v=function(w,A){A===void 0&&(A=w.length);const R=A-this.blockSize,O=this.C;let V=this.h,M=0;for(;M<A;){if(V==0)for(;M<=R;)l(this,w,M),M+=this.blockSize;if(typeof w=="string"){for(;M<A;)if(O[V++]=w.charCodeAt(M++),V==this.blockSize){l(this,O),V=0;break}}else for(;M<A;)if(O[V++]=w[M++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var A=1;A<w.length-8;++A)w[A]=0;A=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=A&255,A/=256;for(this.v(w),w=Array(16),A=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)w[A++]=this.g[R]>>>O&255;return w};function u(w,A){var R=m;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=A(w)}function h(w,A){this.h=A;const R=[];let O=!0;for(let V=w.length-1;V>=0;V--){const M=w[V]|0;O&&M==A||(R[V]=M,O=!1)}this.g=R}var m={};function p(w){return-128<=w&&w<128?u(w,function(A){return new h([A|0],A<0?-1:0)}):new h([w|0],w<0?-1:0)}function g(w){if(isNaN(w)||!isFinite(w))return T;if(w<0)return B(g(-w));const A=[];let R=1;for(let O=0;w>=R;O++)A[O]=w/R|0,R*=4294967296;return new h(A,0)}function b(w,A){if(w.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(w.charAt(0)=="-")return B(b(w.substring(1),A));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let O=T;for(let M=0;M<w.length;M+=8){var V=Math.min(8,w.length-M);const C=parseInt(w.substring(M,M+V),A);V<8?(V=g(Math.pow(A,V)),O=O.j(V).add(g(C))):(O=O.j(R),O=O.add(g(C)))}return O}var T=p(0),N=p(1),I=p(16777216);i=h.prototype,i.m=function(){if(G(this))return-B(this).m();let w=0,A=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);w+=(O>=0?O:4294967296+O)*A,A*=4294967296}return w},i.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(H(this))return"0";if(G(this))return"-"+B(this).toString(w);const A=g(Math.pow(w,6));var R=this;let O="";for(;;){const V=ve(R,A).g;R=Z(R,V.j(A));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=V,H(R))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},i.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function H(w){if(w.h!=0)return!1;for(let A=0;A<w.g.length;A++)if(w.g[A]!=0)return!1;return!0}function G(w){return w.h==-1}i.l=function(w){return w=Z(this,w),G(w)?-1:H(w)?0:1};function B(w){const A=w.g.length,R=[];for(let O=0;O<A;O++)R[O]=~w.g[O];return new h(R,~w.h).add(N)}i.abs=function(){return G(this)?B(this):this},i.add=function(w){const A=Math.max(this.g.length,w.g.length),R=[];let O=0;for(let V=0;V<=A;V++){let M=O+(this.i(V)&65535)+(w.i(V)&65535),C=(M>>>16)+(this.i(V)>>>16)+(w.i(V)>>>16);O=C>>>16,M&=65535,C&=65535,R[V]=C<<16|M}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Z(w,A){return w.add(B(A))}i.j=function(w){if(H(this)||H(w))return T;if(G(this))return G(w)?B(this).j(B(w)):B(B(this).j(w));if(G(w))return B(this.j(B(w)));if(this.l(I)<0&&w.l(I)<0)return g(this.m()*w.m());const A=this.g.length+w.g.length,R=[];for(var O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<w.g.length;V++){const M=this.i(O)>>>16,C=this.i(O)&65535,Ce=w.i(V)>>>16,Ne=w.i(V)&65535;R[2*O+2*V]+=C*Ne,te(R,2*O+2*V),R[2*O+2*V+1]+=M*Ne,te(R,2*O+2*V+1),R[2*O+2*V+1]+=C*Ce,te(R,2*O+2*V+1),R[2*O+2*V+2]+=M*Ce,te(R,2*O+2*V+2)}for(w=0;w<A;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=A;w<2*A;w++)R[w]=0;return new h(R,0)};function te(w,A){for(;(w[A]&65535)!=w[A];)w[A+1]+=w[A]>>>16,w[A]&=65535,A++}function ie(w,A){this.g=w,this.h=A}function ve(w,A){if(H(A))throw Error("division by zero");if(H(w))return new ie(T,T);if(G(w))return A=ve(B(w),A),new ie(B(A.g),B(A.h));if(G(A))return A=ve(w,B(A)),new ie(B(A.g),A.h);if(w.g.length>30){if(G(w)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var R=N,O=A;O.l(w)<=0;)R=le(R),O=le(O);var V=oe(R,1),M=oe(O,1);for(O=oe(O,2),R=oe(R,2);!H(O);){var C=M.add(O);C.l(w)<=0&&(V=V.add(R),M=C),O=oe(O,1),R=oe(R,1)}return A=Z(w,V.j(A)),new ie(V,A)}for(V=T;w.l(A)>=0;){for(R=Math.max(1,Math.floor(w.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=g(R),C=M.j(A);G(C)||C.l(w)>0;)R-=O,M=g(R),C=M.j(A);H(M)&&(M=N),V=V.add(M),w=Z(w,C)}return new ie(V,w)}i.B=function(w){return ve(this,w).h},i.and=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)&w.i(O);return new h(R,this.h&w.h)},i.or=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)|w.i(O);return new h(R,this.h|w.h)},i.xor=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)^w.i(O);return new h(R,this.h^w.h)};function le(w){const A=w.g.length+1,R=[];for(let O=0;O<A;O++)R[O]=w.i(O)<<1|w.i(O-1)>>>31;return new h(R,w.h)}function oe(w,A){const R=A>>5;A%=32;const O=w.g.length-R,V=[];for(let M=0;M<O;M++)V[M]=A>0?w.i(M+R)>>>A|w.i(M+R+1)<<32-A:w.i(M+R);return new h(V,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,v2=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=b,Hi=h}).apply(typeof qy<"u"?qy:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b2,oo,_2,bc,jd,E2,T2,S2;(function(){var i,t=Object.defineProperty;function a(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=a(this);function l(c,y){if(y)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in v))break e;v=v[P]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function b(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,P,Q){for(var ae=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ae[Se-2]=arguments[Se];return y.prototype[P].apply(S,ae)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function I(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function H(c,y){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const Q=P.length||0;c.length=v+Q;for(let ae=0;ae<Q;ae++)c[v+ae]=P[ae]}else c.push(P)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(c){h.setTimeout(()=>{throw c},0)}function Z(){var c=w;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,v){const S=ie.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new G(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,oe=!1,w=new te,A=()=>{const c=Promise.resolve(void 0);le=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){B(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}oe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Ce(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ce,V),Ce.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,y,v,S,P){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=P,this.key=++X,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Qe(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function z(c){const y={};for(const v in c)y[v]=c[v];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,y){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)c[v]=S[v];for(let Q=0;Q<W.length;Q++)v=W[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,S,P){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ae=we(c,y,S,P);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new se(y,this.src,Q,!!S,P),y.fa=v,c.push(y)),y};function be(c,y){const v=y.type;if(v in c.g){var S=c.g[v],P=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=P>=0)&&Array.prototype.splice.call(S,P,1),Q&&(ge(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function we(c,y,v,S){for(let P=0;P<c.length;++P){const Q=c[P];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==S)return P}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,y,v,S,P){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)st(c,y[Q],v,S,P);return null}return v=al(v),c&&c[Ne]?c.J(y,v,m(S)?!!S.capture:!1,P):Wi(c,y,v,!1,S,P)}function Wi(c,y,v,S,P,Q){if(!y)throw Error("Invalid event type");const ae=m(P)?!!P.capture:!!P;let Se=es(c);if(Se||(c[Ue]=Se=new ce(c)),v=Se.add(y,v,S,ae,Q),v.proxy)return v;if(S=Ls(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)M||(P=ae),P===void 0&&(P=!1),c.addEventListener(y.toString(),S,P);else if(c.attachEvent)c.attachEvent(ta(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ls(){function c(v){return y.call(c.src,c.listener,v)}const y=tl;return c}function Ps(c,y,v,S,P){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Ps(c,y[Q],v,S,P);else S=m(S)?!!S.capture:!!S,v=al(v),c&&c[Ne]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],v=we(y,v,S,P),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=es(c))&&(y=c.g[y.toString()],c=-1,y&&(c=we(y,v,S,P)),(v=c>-1?y[c]:null)&&Bs(v))}function Bs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ne])be(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ta(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=es(y))?(be(v,c),v.h==0&&(v.src=null,y[Ue]=null)):ge(c)}}}function ta(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function tl(c,y){if(c.da)c=!0;else{y=new Ce(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&Bs(c),c=v.call(S,y)}return c}function es(c){return c=c[Ue],c instanceof ce?c:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function al(c){return typeof c=="function"?c:(c[nl]||(c[nl]=function(y){return c.handleEvent(y)}),c[nl])}function xt(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}T(xt,O),xt.prototype[Ne]=!0,xt.prototype.removeEventListener=function(c,y,v,S){Ps(this,c,y,v,S)};function Mt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var P=y;y=new V(S,c),re(y,P)}P=!0;let Q,ae;if(v)for(ae=v.length-1;ae>=0;ae--)Q=y.g=v[ae],P=si(Q,S,!0,y)&&P;if(Q=y.g=c,P=si(Q,S,!0,y)&&P,P=si(Q,S,!1,y)&&P,v)for(ae=0;ae<v.length;ae++)Q=y.g=v[ae],P=si(Q,S,!1,y)&&P}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)ge(v[S]);delete c.g[y],c.h--}}this.G=null},xt.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},xt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function si(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let P=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==v){const Se=ae.listener,dt=ae.ha||ae.src;ae.fa&&be(c.i,ae),P=Se.call(dt,S)!==!1&&P}}return P&&!S.defaultPrevented}function ff(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function zo(c){c.g=ff(()=>{c.g=null,c.i&&(c.i=!1,zo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Jt extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){O.call(this),this.h=c,this.g={}}T(ts,O);var il=[];function sl(c){Be(c.g,function(y,v){this.g.hasOwnProperty(v)&&Bs(y)},c),c.g={}}ts.prototype.N=function(){ts.Z.N.call(this),sl(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=h.JSON.stringify,hf=h.JSON.parse,Uo=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Lo(){}function Po(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){V.call(this,"d")}T(Pt,V);function Sn(){V.call(this,"c")}T(Sn,V);var ht={},Bo=null;function ks(){return Bo=Bo||new xt}ht.Ia="serverreachability";function ko(c){V.call(this,ht.Ia,c)}T(ko,V);function na(c){const y=ks();Mt(y,new ko(y))}ht.STAT_EVENT="statevent";function ns(c,y){V.call(this,ht.STAT_EVENT,c),this.stat=y}T(ns,V);function vt(c){const y=ks();Mt(y,new ns(y,c))}ht.Ja="timingevent";function aa(c,y){V.call(this,ht.Ja,c),this.size=y}T(aa,V);function ia(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function df(c,y,v,S,P,Q){c.info(function(){if(c.g)if(Q){var ae="",Se=Q.split("&");for(let He=0;He<Se.length;He++){var dt=Se[He].split("=");if(dt.length>1){const rt=dt[0];dt=dt[1];const Cn=rt.split("_");ae=Cn.length>=2&&Cn[1]=="type"?ae+(rt+"="+dt+"&"):ae+(rt+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+y+`
`+v+`
`+ae})}function qo(c,y,v,S,P,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+y+`
`+v+`
`+Q+" "+ae})}function sa(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+mf(c,v)+(S?" "+S:"")})}function as(c,y){c.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function mf(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ae=1;ae<S.length;ae++)S[ae]=""}}}}return ri(Q)}catch{return y}}var is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function ss(){}T(ss,Lo),ss.prototype.g=function(){return new XMLHttpRequest},ll=new ss;function Ma(c){return encodeURIComponent(String(c))}function Ho(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Bn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var bt={},jt={};function ra(c,y,v){c.M=1,c.A=rs(Et(y)),c.u=v,c.R=!0,qs(c,null)}function qs(c,y){c.F=Date.now(),la(c),c.B=Et(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Qs(v.i,"t",S),c.C=0,v=c.j.L,c.h=new kn,c.g=iu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new Jt(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(il[0]=P.toString()),P=il);for(let Q=0;Q<P.length;Q++){const ae=st(v,P[Q],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?z(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),na(),df(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Fn(c)==3?y.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Fn(this.g),dt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||dt==7||(dt==8||He<=0?na(3):na(2)),oa(this);var y=this.g.ca();this.X=y;var v=gf(this);if(this.o=y==200,qo(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Q=S;break t}}Q=null}if(c=Q)sa(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ua(this,c);else{this.o=!1,this.m=3,vt(12),fn(this),An(this);break e}}if(this.R){c=!0;let rt;for(;!this.K&&this.C<v.length;)if(rt=Go(this,v),rt==jt){Se==4&&(this.m=4,vt(14),c=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==bt){this.m=4,vt(15),sa(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else sa(this.i,this.l,rt,null),ua(this,rt);if(Fo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)sa(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),El(ae),ae.P=!0,vt(11))}}else sa(this.i,this.l,v,null),ua(this,v);Se==4&&fn(this),this.o&&!this.K&&(Se==4?eu(this.j,this):(this.o=!1,la(this)))}else Ia(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),fn(this),An(this)}}}catch{}finally{}};function gf(c){if(!Fo(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const S=y.length,P=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),An(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,v+=c.h.i.decode(y[Q],{stream:!(P&&Q==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Fo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Go(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?jt:(v=Number(y.substring(v,S)),isNaN(v)?bt:(S+=1,S+v>y.length?jt:(y=y.slice(S,S+v),c.C=S+v,y)))}Bn.prototype.cancel=function(){this.K=!0,fn(this)};function la(c){c.T=Date.now()+c.H,Hs(c,c.H)}function Hs(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ia(g(c.aa,c),y)}function oa(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(as(this.i,this.B),this.M!=2&&(na(),vt(17)),fn(this),this.m=2,An(this)):Hs(this,this.T-c)};function An(c){c.j.I==0||c.K||eu(c.j,c)}function fn(c){oa(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,sl(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function ua(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||fa(v.h,c))){if(!c.L&&fa(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Zs(v),mi(v);else break e;ds(v),vt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ia(g(v.Va,v),6e3));ca(v.h)<=1&&v.ta&&(v.ta=void 0)}else ya(v,11)}else if((c.L||v.g==c)&&Zs(v),!C(y))for(P=v.Ba.g.parse(y),y=0;y<P.length;y++){let He=P[y];const rt=He[0];if(!(rt<=v.K))if(v.K=rt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Cn=He[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const xa=He[4];xa!=null&&(v.za=xa,v.j.info("SVER="+v.za));const Gn=He[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(S=1.5*Gn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Qn=c.g;if(Qn){const ms=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var Q=S.h;Q.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(cl(Q,Q.h),Q.h=null))}if(S.G){const Js=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(S.wa=Js,Ye(S.J,S.G,Js))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ae=c;if(S.na=au(S,S.L?S.ba:null,S.W),ae.L){fl(S.h,ae);var Se=ae,dt=S.O;dt&&(Se.H=dt),Se.D&&(oa(Se),la(Se)),S.g=ae}else Jo(S);v.i.length>0&&pa(v)}else He[0]!="stop"&&He[0]!="close"||ya(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ya(v,7):bl(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}na(4)}catch{}}var _t=class{constructor(c,y){this.g=c,this.map=y}};function ol(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ca(c){return c.h?1:c.g?c.g.size:0}function fa(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function cl(c,y){c.g?c.g.add(y):c.h=y}function fl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ol.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return I(c.i)}var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fs(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let P,Q=null;S>=0?(P=c[v].substring(0,S),Q=c[v].substring(S+1)):P=c[v],y(P,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function hn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof hn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,li(this,c.u),this.h=c.h,dl(this,$o(c.i)),this.m=c.m):c&&(y=String(c).match(Qo))?(this.l=!1,zt(this,y[1]||"",!0),this.o=ha(y[2]||""),this.g=ha(y[3]||"",!0),li(this,y[4]),this.h=ha(y[5]||"",!0),dl(this,y[6]||"",!0),this.m=ha(y[7]||"")):(this.l=!1,this.i=new ui(null,this.l))}hn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ls(y,Gs,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ls(y,Gs,!0),"@"),c.push(Ma(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ls(v,v.charAt(0)=="/"?ml:Yo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ls(v,Xo)),c.join("")},hn.prototype.resolve=function(c){const y=Et(this);let v=!!c.j;v?zt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)li(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=y.h.lastIndexOf("/");P!=-1&&(S=y.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const Q=[];for(let ae=0;ae<P.length;){const Se=P[ae++];Se=="."?S&&ae==P.length&&Q.push(""):Se==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&ae==P.length&&Q.push("")):(Q.push(Se),S=!0)}S=Q.join("/")}else S=P}return v?y.h=S:v=c.i.toString()!=="",v?dl(y,$o(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Et(c){return new hn(c)}function zt(c,y,v){c.j=v?ha(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function dl(c,y,v){y instanceof ui?(c.i=y,Ys(c.i,c.l)):(v||(y=ls(y,oi)),c.i=new ui(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function rs(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ha(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ls(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,tn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Gs=/[#\/\?@]/g,Yo=/[#\?:]/g,ml=/[#\?]/g,oi=/[#\?@]/g,Xo=/#/g;function ui(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Fs(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=ui.prototype,i.add=function(c,y){nn(this),this.i=null,c=ci(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ko(c,y){nn(c),y=ci(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function gl(c,y){return nn(c),y=ci(c,y),c.g.has(y)}i.forEach=function(c,y){nn(this),this.g.forEach(function(v,S){v.forEach(function(P){c.call(y,P,S,this)},this)},this)};function pl(c,y){nn(c);let v=[];if(typeof y=="string")gl(c,y)&&(v=v.concat(c.g.get(ci(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return nn(this),this.i=null,c=ci(this,c),gl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=pl(this,c),c.length>0?String(c[0]):y):y};function Qs(c,y,v){Ko(c,y),v.length>0&&(c.i=null,c.g.set(ci(c,y),I(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const P=Ma(v);v=pl(this,v);for(let Q=0;Q<v.length;Q++){let ae=P;v[Q]!==""&&(ae+="="+Ma(v[Q])),c.push(ae)}}return this.i=c.join("&")};function $o(c){const y=new ui;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function ci(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ys(c,y){y&&!c.j&&(nn(c),c.i=null,c.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(Ko(this,S),Qs(this,P,v))},c)),c.j=y}function qn(c,y){const v=new Pn;if(h.Image){const S=new Image;S.onload=b(wn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=b(wn,v,"TestLoadImage: error",!1,y,S),S.onabort=b(wn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(wn,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function yl(c,y){const v=new Pn,S=new AbortController,P=setTimeout(()=>{S.abort(),wn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(P),Q.ok?wn(v,"TestPingServer: ok",!0,y):wn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(P),wn(v,"TestPingServer: error",!1,y)})}function wn(c,y,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function fi(){this.g=new Uo}function da(c){this.i=c.Sb||null,this.h=c.ab||!1}T(da,Lo),da.prototype.g=function(){return new os(this.i,this.h)};function os(c,y){xt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(os,xt),i=os.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Hn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?hi(this):Hn(this),this.readyState==3&&Xs(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,hi(this))},i.Na=function(c){this.g&&(this.response=c,hi(this))},i.ga=function(){this.g&&hi(this)};function hi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let y="";return Be(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function us(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Rn(v),typeof c=="string"?v!=null&&Ma(v):Ye(c,y,v))}function $e(c){xt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,xt);var ma=/^https?$/i,xl=["POST","PUT"];i=$e.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=N(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){cs(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(xl,y,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){cs(this,Q)}};function cs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,vl(c),Va(c)}function vl(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Va(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),$e.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?fs(this):this.Xa())},i.Xa=function(){fs(this)};function fs(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=Q===0){let ae=String(c.D).match(Qo)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),S=!ma.test(ae?ae.toLowerCase():"")}v=S}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var P=Fn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",vl(c)}}finally{Va(c)}}}}function Va(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),hf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ia(c){const y={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=Ho(c[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[P]||[];y[P]=Q,Q.push(v)}Qe(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function di(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ga("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ga("baseRetryDelayMs",5e3,c),this.Za=ga("retryDelaySeedMs",1e4,c),this.Ta=ga("forwardChannelMaxRetries",2,c),this.va=ga("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ol(c&&c.concurrentRequestLimit),this.Ba=new fi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=di.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,S){vt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=au(this,null,this.W),pa(this)};function bl(c){if(Ks(c),c.I==3){var y=c.V++,v=Et(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),hs(c,v),y=new Bn(c,c.j,y),y.M=2,y.A=rs(Et(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=iu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),la(y)}nu(c)}function mi(c){c.g&&(El(c),c.g.cancel(),c.g=null)}function Ks(c){mi(c),c.v&&(h.clearTimeout(c.v),c.v=null),Zs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function pa(c){if(!ul(c.h)&&!c.m){c.m=!0;var y=c.Ea;le||A(),oe||(le(),oe=!0),w.add(y,c),c.D=0}}function $s(c,y){return ca(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ia(g(c.Ea,c,y),tu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Bn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=z(Q),re(Q,this.U)):Q=this.U),this.u!==null||this.R||(P.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Zo(this,P,y),v=Et(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),hs(this,v),Q&&(this.R?y="headers="+Ma(Rn(Q))+"&"+y:this.u&&us(v,this.u,Q)),cl(this.h,P),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),P.U=!0,ra(P,v,null)):ra(P,v,y),this.I=2}}else this.I==3&&(c?_l(this,c):this.i.length==0||ul(this.h)||_l(this))};function _l(c,y){var v;y?v=y.l:v=c.V++;const S=Et(c.J);Ye(S,"SID",c.M),Ye(S,"RID",v),Ye(S,"AID",c.K),hs(c,S),c.u&&c.o&&us(S,c.u,c.o),v=new Bn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Zo(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),cl(c.h,v),ra(v,S,y)}function hs(c,y){c.H&&Be(c.H,function(v,S){Ye(y,S,v)}),c.l&&Be({},function(v,S){Ye(y,S,v)})}function Zo(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var P=c.i;let Se=-1;for(;;){const dt=["count="+v];Se==-1?v>0?(Se=P[0].g,dt.push("ofs="+Se)):Se=0:dt.push("ofs="+Se);let He=!0;for(let rt=0;rt<v;rt++){var Q=P[rt].g;const Cn=P[rt].map;if(Q-=Se,Q<0)Se=Math.max(0,P[rt].g-100),He=!1;else try{Q="req"+Q+"_"||"";try{var ae=Cn instanceof Map?Cn:Object.entries(Cn);for(const[xa,Gn]of ae){let Qn=Gn;m(Gn)&&(Qn=ri(Gn)),dt.push(Q+xa+"="+encodeURIComponent(Qn))}}catch(xa){throw dt.push(Q+"type="+encodeURIComponent("_badmap")),xa}}catch{S&&S(Cn)}}if(He){ae=dt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function Jo(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;le||A(),oe||(le(),oe=!0),w.add(y,c),c.A=0}}function ds(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ia(g(c.Da,c),tu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Wo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ia(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),mi(this),Wo(this))};function El(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Wo(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Et(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),hs(c,y),c.u&&c.o&&us(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=rs(Et(y)),v.u=null,v.R=!0,qs(v,c)}i.Va=function(){this.C!=null&&(this.C=null,mi(this),ds(this),vt(19))};function Zs(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function eu(c,y){var v=null;if(c.g==y){Zs(c),El(c),c.g=null;var S=2}else if(fa(c.h,y))v=y.G,fl(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var P=c.D;S=ks(),Mt(S,new aa(S,v)),pa(c)}else Jo(c);else if(P=y.m,P==3||P==0&&y.X>0||!(S==1&&$s(c,y)||S==2&&ds(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),P){case 1:ya(c,5);break;case 4:ya(c,10);break;case 3:ya(c,6);break;default:ya(c,2)}}}function tu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function ya(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const P=!S;S=new hn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(S,"https"),rs(S),P?qn(S.toString(),v):yl(S.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(y),nu(c),Ks(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function nu(c){if(c.I=0,c.ja=[],c.l){const y=hl(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.oa()}}function au(c,y,v){var S=v instanceof hn?Et(v):new hn(v);if(S.g!="")y&&(S.g=y+"."+S.g),li(S,S.u);else{var P=h.location;S=P.protocol,y=y?y+"."+P.hostname:P.hostname,P=+P.port;const Q=new hn(null);S&&zt(Q,S),y&&(Q.g=y),P&&li(Q,P),v&&(Q.h=v),S=Q}return v=c.G,y=c.wa,v&&y&&Ye(S,v,y),Ye(S,"VER",c.ka),hs(c,S),S}function iu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new da({ab:v})):new $e(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}i=su.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function gi(){}gi.prototype.g=function(c,y){return new Wt(c,y)};function Wt(c,y){xt.call(this),this.g=new di(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Oa(this)}T(Wt,xt),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){bl(this.g)},Wt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ri(c),c=v);y.i.push(new _t(y.Ya++,c)),y.I==3&&pa(y)},Wt.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,Wt.Z.N.call(this)};function ru(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(ru,Pt);function lu(){Sn.call(this),this.status=1}T(lu,Sn);function Oa(c){this.g=c}T(Oa,su),Oa.prototype.ra=function(){Mt(this.g,"a")},Oa.prototype.qa=function(c){Mt(this.g,new ru(c))},Oa.prototype.pa=function(c){Mt(this.g,new lu)},Oa.prototype.oa=function(){Mt(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,S2=function(){return new gi},T2=function(){return ks()},E2=ht,jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,bc=is,rl.COMPLETE="complete",_2=rl,Po.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",xt.prototype.listen=xt.prototype.J,oo=Po,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,b2=$e}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const Hy="@firebase/firestore",Fy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new d2("@firebase/firestore");function Mr(){return Os.logLevel}function ue(i,...t){if(Os.logLevel<=Pe.DEBUG){const a=t.map(fm);Os.debug(`Firestore (${Zr}): ${i}`,...a)}}function ni(i,...t){if(Os.logLevel<=Pe.ERROR){const a=t.map(fm);Os.error(`Firestore (${Zr}): ${i}`,...a)}}function Pr(i,...t){if(Os.logLevel<=Pe.WARN){const a=t.map(fm);Os.warn(`Firestore (${Zr}): ${i}`,...a)}}function fm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i,t,a){let r="Unexpected state";typeof t=="string"?r=t:a=t,A2(i,r,a)}function A2(i,t,a){let r=`FIRESTORE (${Zr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(a!==void 0)try{r+=" CONTEXT: "+JSON.stringify(a)}catch{r+=" CONTEXT: "+a}throw ni(r),new Error(r)}function Ge(i,t,a,r){let l="Unexpected state";typeof a=="string"?l=a:r=a,i||A2(t,l,r)}function Te(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends $r{constructor(t,a){super(t,a),this.code=t,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((t,a)=>{this.resolve=t,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,a){t.enqueueRetryable((()=>a($t.UNAUTHENTICATED)))}shutdown(){}}class CE{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,a){this.changeListener=a,t.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class NE{constructor(t){this.t=t,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,a){Ge(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,a(p)):Promise.resolve();let u=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vs,t.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vs)}}),0),h()}getToken(){const t=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((r=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new w2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ge(t===null||typeof t=="string",2055,{h:t}),new $t(t)}}class DE{constructor(t,a,r){this.P=t,this.T=a,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ME{constructor(t,a,r){this.P=t,this.T=a,this.I=r}getToken(){return Promise.resolve(new DE(this.P,this.T,this.I))}start(t,a){t.enqueueRetryable((()=>a($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VE{constructor(t,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cE(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,a){Ge(this.o===void 0,3512);const r=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?a(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((a=>a?(Ge(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new Gy(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(a);else for(let r=0;r<i;r++)a[r]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=IE(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<a&&(r+=t.charAt(l[u]%62))}return r}}function Oe(i,t){return i<t?-1:i>t?1:0}function zd(i,t){const a=Math.min(i.length,t.length);for(let r=0;r<a;r++){const l=i.charAt(r),u=t.charAt(r);if(l!==u)return _d(l)===_d(u)?Oe(l,u):_d(l)?1:-1}return Oe(i.length,t.length)}const OE=55296,jE=57343;function _d(i){const t=i.charCodeAt(0);return t>=OE&&t<=jE}function Br(i,t,a){return i.length===t.length&&i.every(((r,l)=>a(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="__name__";class Sa{constructor(t,a,r){a===void 0?a=0:a>t.length&&xe(637,{offset:a,range:t.length}),r===void 0?r=t.length-a:r>t.length-a&&xe(1746,{length:r,range:t.length-a}),this.segments=t,this.offset=a,this.len=r}get length(){return this.len}isEqual(t){return Sa.comparator(this,t)===0}child(t){const a=this.segments.slice(this.offset,this.limit());return t instanceof Sa?t.forEach((r=>{a.push(r)})):a.push(t),this.construct(a)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}forEach(t){for(let a=this.offset,r=this.limit();a<r;a++)t(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,a){const r=Math.min(t.length,a.length);for(let l=0;l<r;l++){const u=Sa.compareSegments(t.get(l),a.get(l));if(u!==0)return u}return Oe(t.length,a.length)}static compareSegments(t,a){const r=Sa.isNumericId(t),l=Sa.isNumericId(a);return r&&!l?-1:!r&&l?1:r&&l?Sa.extractNumericId(t).compare(Sa.extractNumericId(a)):zd(t,a)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hi.fromString(t.substring(4,t.length-2))}}class at extends Sa{construct(t,a,r){return new at(t,a,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const a=[];for(const r of t){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);a.push(...r.split("/").filter((l=>l.length>0)))}return new at(a)}static emptyPath(){return new at([])}}const zE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Sa{construct(t,a,r){return new Qt(t,a,r)}static isValidIdentifier(t){return zE.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qy}static keyField(){return new Qt([Qy])}static fromServerFormat(t){const a=[];let r="",l=0;const u=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(r),r=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(r+=m,l++):(u(),l++)}if(u(),h)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qt(a)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.path=t}static fromPath(t){return new pe(at.fromString(t))}static fromName(t){return new pe(at.fromString(t).popFirst(5))}static empty(){return new pe(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&at.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,a){return at.comparator(t.path,a.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pe(new at(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i,t,a){if(!a)throw new de(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function UE(i,t,a,r){if(t===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${i} and ${a} cannot be used together.`)}function Yy(i){if(!pe.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Xy(i){if(pe.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function C2(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function dm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function Ja(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=dm(i);throw new de(ne.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${a}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(i,t){const a={typeString:i};return t&&(a.value=t),a}function Mo(i,t){if(!C2(i))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let a;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){a=`JSON missing required field: '${r}'`;break}const h=i[r];if(l&&typeof h!==l){a=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){a=`Expected '${r}' field to equal '${u.value}'`;break}}if(a)throw new de(ne.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-62135596800,$y=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(t){return it.fromMillis(t.getTime())}static fromMillis(t){const a=Math.floor(t/1e3),r=Math.floor((t-1e3*a)*$y);return new it(a,r)}constructor(t,a){if(this.seconds=t,this.nanoseconds=a,a<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(t<Ky)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(t){return this.seconds===t.seconds?Oe(this.nanoseconds,t.nanoseconds):Oe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Mo(t,it._jsonSchema))return new it(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ky;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ct("string",it._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(t){return new _e(t)}static min(){return new _e(new it(0,0))}static max(){return new _e(new it(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=-1;function LE(i,t){const a=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=_e.fromTimestamp(r===1e9?new it(a+1,0):new it(a,r));return new Gi(l,pe.empty(),t)}function PE(i){return new Gi(i.readTime,i.key,To)}class Gi{constructor(t,a,r){this.readTime=t,this.documentKey=a,this.largestBatchId=r}static min(){return new Gi(_e.min(),pe.empty(),To)}static max(){return new Gi(_e.max(),pe.empty(),To)}}function BE(i,t){let a=i.readTime.compareTo(t.readTime);return a!==0?a:(a=pe.comparator(i.documentKey,t.documentKey),a!==0?a:Oe(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jr(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==kE)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(t){return this.next(void 0,t)}next(t,a){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(t,this.result):new ee(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(a,u).next(r,l)}}))}toPromise(){return new Promise(((t,a)=>{this.next(t,a)}))}wrapUserFunction(t){try{const a=t();return a instanceof ee?a:ee.resolve(a)}catch(a){return ee.reject(a)}}wrapSuccess(t,a){return t?this.wrapUserFunction((()=>t(a))):ee.resolve(a)}wrapFailure(t,a){return t?this.wrapUserFunction((()=>t(a))):ee.reject(a)}static resolve(t){return new ee(((a,r)=>{a(t)}))}static reject(t){return new ee(((a,r)=>{r(t)}))}static waitFor(t){return new ee(((a,r)=>{let l=0,u=0,h=!1;t.forEach((m=>{++l,m.next((()=>{++u,h&&u===l&&a()}),(p=>r(p)))})),h=!0,u===l&&a()}))}static or(t){let a=ee.resolve(!1);for(const r of t)a=a.next((l=>l?ee.resolve(l):r()));return a}static forEach(t,a){const r=[];return t.forEach(((l,u)=>{r.push(a.call(this,l,u))})),this.waitFor(r)}static mapArray(t,a){return new ee(((r,l)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;a(t[g]).next((b=>{h[g]=b,++m,m===u&&r(h)}),(b=>l(b)))}}))}static doWhile(t,a){return new ee(((r,l)=>{const u=()=>{t()===!0?a().next((()=>{u()}),l):r()};u()}))}}function HE(i){const t=i.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function Wr(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>a.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Yc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=-1;function Xc(i){return i==null}function Mc(i){return i===0&&1/i==-1/0}function FE(i){return typeof i=="number"&&Number.isInteger(i)&&!Mc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="";function GE(i){let t="";for(let a=0;a<i.length;a++)t.length>0&&(t=Zy(t)),t=QE(i.get(a),t);return Zy(t)}function QE(i,t){let a=t;const r=i.length;for(let l=0;l<r;l++){const u=i.charAt(l);switch(u){case"\0":a+="";break;case N2:a+="";break;default:a+=u}}return a}function Zy(i){return i+N2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(i){let t=0;for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&t++;return t}function Zi(i,t){for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&t(a,i[a])}function D2(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t,a){this.comparator=t,this.root=a||Gt.EMPTY}insert(t,a){return new ut(this.comparator,this.root.insert(t,a,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(t){return new ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(t){let a=this.root;for(;!a.isEmpty();){const r=this.comparator(t,a.key);if(r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}indexOf(t){let a=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return a+r.left.size;l<0?r=r.left:(a+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((a,r)=>(t(a,r),!1)))}toString(){const t=[];return this.inorderTraversal(((a,r)=>(t.push(`${a}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dc(this.root,t,this.comparator,!0)}}class dc{constructor(t,a,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=a?r(t.key,a):1,a&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const a={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Gt{constructor(t,a,r,l,u){this.key=t,this.value=a,this.color=r??Gt.RED,this.left=l??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,a,r,l,u){return new Gt(t??this.key,a??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,a,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,a,r),null):u===0?l.copy(null,a,null,null,null):l.copy(null,null,null,null,l.right.insert(t,a,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,a){let r,l=this;if(a(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,a),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),a(t,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,a))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,a)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xe(27949);return t+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(t,a,r,l,u){return this}insert(t,a,r){return new Gt(t,a)}remove(t,a){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.comparator=t,this.data=new ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((a,r)=>(t(a),!1)))}forEachInRange(t,a){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;a(l.key)}}forEachWhile(t,a){let r;for(r=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const a=this.data.getIteratorFrom(t);return a.hasNext()?a.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(t){return new Wy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let a=this;return a.size<t.size&&(a=t,t=this),t.forEach((r=>{a=a.add(r)})),a}isEqual(t){if(!(t instanceof Ot)||this.size!==t.size)return!1;const a=this.data.getIterator(),r=t.data.getIterator();for(;a.hasNext();){const l=a.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((a=>{t.push(a)})),t}toString(){const t=[];return this.forEach((a=>t.push(a))),"SortedSet("+t.toString()+")"}copy(t){const a=new Ot(this.comparator);return a.data=t,a}}class Wy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.fields=t,t.sort(Qt.comparator)}static empty(){return new En([])}unionWith(t){let a=new Ot(Qt.comparator);for(const r of this.fields)a=a.add(r);for(const r of t)a=a.add(r);return new En(a.toArray())}covers(t){for(const a of this.fields)if(a.isPrefixOf(t))return!0;return!1}isEqual(t){return Br(this.fields,t.fields,((a,r)=>a.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.binaryString=t}static fromBase64String(t){const a=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new M2("Invalid base64 string: "+u):u}})(t);return new Yt(a)}static fromUint8Array(t){const a=(function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u})(t);return new Yt(a)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const r=new Uint8Array(a.length);for(let l=0;l<a.length;l++)r[l]=a.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Oe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const YE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(i){if(Ge(!!i,39018),typeof i=="string"){let t=0;const a=YE.exec(i);if(Ge(!!a,46558,{timestamp:i}),a[1]){let l=a[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pt(i.seconds),nanos:pt(i.nanos)}}function pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Yi(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="server_timestamp",I2="__type__",O2="__previous_value__",j2="__local_write_time__";function gm(i){return(i?.mapValue?.fields||{})[I2]?.stringValue===V2}function Kc(i){const t=i.mapValue.fields[O2];return gm(t)?Kc(t):t}function So(i){const t=Qi(i.mapValue.fields[j2].timestampValue);return new it(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,a,r,l,u,h,m,p,g,b){this.databaseId=t,this.appId=a,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Vc="(default)";class Ao{constructor(t,a){this.projectId=t,this.database=a||Vc}static empty(){return new Ao("","")}get isDefaultDatabase(){return this.database===Vc}isEqual(t){return t instanceof Ao&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="__type__",KE="__max__",mc={mapValue:{}},U2="__vector__",Ic="value";function Xi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gm(i)?4:ZE(i)?9007199254740991:$E(i)?10:11:xe(28295,{value:i})}function Na(i,t){if(i===t)return!0;const a=Xi(i);if(a!==Xi(t))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return So(i).isEqual(So(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=Qi(l.timestampValue),m=Qi(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(l,u){return Yi(l.bytesValue).isEqual(Yi(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(l,u){return pt(l.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(l.geoPointValue.longitude)===pt(u.geoPointValue.longitude)})(i,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return pt(l.integerValue)===pt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=pt(l.doubleValue),m=pt(u.doubleValue);return h===m?Mc(h)===Mc(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return Br(i.arrayValue.values||[],t.arrayValue.values||[],Na);case 10:case 11:return(function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Jy(h)!==Jy(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Na(h[p],m[p])))return!1;return!0})(i,t);default:return xe(52216,{left:i})}}function wo(i,t){return(i.values||[]).find((a=>Na(a,t)))!==void 0}function kr(i,t){if(i===t)return 0;const a=Xi(i),r=Xi(t);if(a!==r)return Oe(a,r);switch(a){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=pt(u.integerValue||u.doubleValue),p=pt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return e1(i.timestampValue,t.timestampValue);case 4:return e1(So(i),So(t));case 5:return zd(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=Yi(u),p=Yi(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Oe(m[g],p[g]);if(b!==0)return b}return Oe(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Oe(pt(u.latitude),pt(h.latitude));return m!==0?m:Oe(pt(u.longitude),pt(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return t1(i.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Ic]?.arrayValue,b=p[Ic]?.arrayValue,T=Oe(g?.values?.length||0,b?.values?.length||0);return T!==0?T:t1(g,b)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===mc.mapValue&&h===mc.mapValue)return 0;if(u===mc.mapValue)return 1;if(h===mc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const N=zd(p[T],b[T]);if(N!==0)return N;const I=kr(m[p[T]],g[b[T]]);if(I!==0)return I}return Oe(p.length,b.length)})(i.mapValue,t.mapValue);default:throw xe(23264,{he:a})}}function e1(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Oe(i,t);const a=Qi(i),r=Qi(t),l=Oe(a.seconds,r.seconds);return l!==0?l:Oe(a.nanos,r.nanos)}function t1(i,t){const a=i.values||[],r=t.values||[];for(let l=0;l<a.length&&l<r.length;++l){const u=kr(a[l],r[l]);if(u)return u}return Oe(a.length,r.length)}function qr(i){return Ud(i)}function Ud(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(a){const r=Qi(a);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(a){return Yi(a).toBase64()})(i.bytesValue):"referenceValue"in i?(function(a){return pe.fromName(a).toString()})(i.referenceValue):"geoPointValue"in i?(function(a){return`geo(${a.latitude},${a.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(a){let r="[",l=!0;for(const u of a.values||[])l?l=!1:r+=",",r+=Ud(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(a){const r=Object.keys(a.fields||{}).sort();let l="{",u=!0;for(const h of r)u?u=!1:l+=",",l+=`${h}:${Ud(a.fields[h])}`;return l+"}"})(i.mapValue):xe(61005,{value:i})}function _c(i){switch(Xi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kc(i);return t?16+_c(t):16;case 5:return 2*i.stringValue.length;case 6:return Yi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+_c(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return Zi(r.fields,((u,h)=>{l+=u.length+_c(h)})),l})(i.mapValue);default:throw xe(13486,{value:i})}}function Ld(i){return!!i&&"integerValue"in i}function pm(i){return!!i&&"arrayValue"in i}function n1(i){return!!i&&"nullValue"in i}function a1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ec(i){return!!i&&"mapValue"in i}function $E(i){return(i?.mapValue?.fields||{})[z2]?.stringValue===U2}function mo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Zi(i.mapValue.fields,((a,r)=>t.mapValue.fields[a]=mo(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let a=0;a<(i.arrayValue.values||[]).length;++a)t.arrayValue.values[a]=mo(i.arrayValue.values[a]);return t}return{...i}}function ZE(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===KE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let a=this.value;for(let r=0;r<t.length-1;++r)if(a=(a.mapValue.fields||{})[t.get(r)],!Ec(a))return null;return a=(a.mapValue.fields||{})[t.lastSegment()],a||null}}set(t,a){this.getFieldsMap(t.popLast())[t.lastSegment()]=mo(a)}setAll(t){let a=Qt.emptyPath(),r={},l=[];t.forEach(((h,m)=>{if(!a.isImmediateParentOf(m)){const p=this.getFieldsMap(a);this.applyChanges(p,r,l),r={},l=[],a=m.popLast()}h?r[m.lastSegment()]=mo(h):l.push(m.lastSegment())}));const u=this.getFieldsMap(a);this.applyChanges(u,r,l)}delete(t){const a=this.field(t.popLast());Ec(a)&&a.mapValue.fields&&delete a.mapValue.fields[t.lastSegment()]}isEqual(t){return Na(this.value,t.value)}getFieldsMap(t){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=a.mapValue.fields[t.get(r)];Ec(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},a.mapValue.fields[t.get(r)]=l),a=l}return a.mapValue.fields}applyChanges(t,a,r){Zi(a,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new cn(mo(this.value))}}function L2(i){const t=[];return Zi(i.fields,((a,r)=>{const l=new Qt([a]);if(Ec(r)){const u=L2(r.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)})),new En(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t,a,r,l,u,h,m){this.key=t,this.documentType=a,this.version=r,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Zt(t,0,_e.min(),_e.min(),_e.min(),cn.empty(),0)}static newFoundDocument(t,a,r,l){return new Zt(t,1,a,_e.min(),r,l,0)}static newNoDocument(t,a){return new Zt(t,2,a,_e.min(),_e.min(),cn.empty(),0)}static newUnknownDocument(t,a){return new Zt(t,3,a,_e.min(),_e.min(),cn.empty(),2)}convertToFoundDocument(t,a){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Zt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,a){this.position=t,this.inclusive=a}}function i1(i,t,a){let r=0;for(let l=0;l<i.position.length;l++){const u=t[l],h=i.position[l];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(h.referenceValue),a.key):r=kr(h,a.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function s1(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let a=0;a<i.position.length;a++)if(!Na(i.position[a],t.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,a="asc"){this.field=t,this.dir=a}}function JE(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{}class It extends P2{constructor(t,a,r){super(),this.field=t,this.op=a,this.value=r}static create(t,a,r){return t.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(t,a,r):new e6(t,a,r):a==="array-contains"?new a6(t,r):a==="in"?new i6(t,r):a==="not-in"?new s6(t,r):a==="array-contains-any"?new r6(t,r):new It(t,a,r)}static createKeyFieldInFilter(t,a,r){return a==="in"?new t6(t,r):new n6(t,r)}matches(t){const a=t.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(kr(a,this.value)):a!==null&&Xi(this.value)===Xi(a)&&this.matchesComparison(kr(a,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Da extends P2{constructor(t,a){super(),this.filters=t,this.op=a,this.Pe=null}static create(t,a){return new Da(t,a)}matches(t){return B2(this)?this.filters.find((a=>!a.matches(t)))===void 0:this.filters.find((a=>a.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,a)=>t.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B2(i){return i.op==="and"}function k2(i){return WE(i)&&B2(i)}function WE(i){for(const t of i.filters)if(t instanceof Da)return!1;return!0}function Pd(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+qr(i.value);if(k2(i))return i.filters.map((t=>Pd(t))).join(",");{const t=i.filters.map((a=>Pd(a))).join(",");return`${i.op}(${t})`}}function q2(i,t){return i instanceof It?(function(r,l){return l instanceof It&&r.op===l.op&&r.field.isEqual(l.field)&&Na(r.value,l.value)})(i,t):i instanceof Da?(function(r,l){return l instanceof Da&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,h,m)=>u&&q2(h,l.filters[m])),!0):!1})(i,t):void xe(19439)}function H2(i){return i instanceof It?(function(a){return`${a.field.canonicalString()} ${a.op} ${qr(a.value)}`})(i):i instanceof Da?(function(a){return a.op.toString()+" {"+a.getFilters().map(H2).join(" ,")+"}"})(i):"Filter"}class e6 extends It{constructor(t,a,r){super(t,a,r),this.key=pe.fromName(r.referenceValue)}matches(t){const a=pe.comparator(t.key,this.key);return this.matchesComparison(a)}}class t6 extends It{constructor(t,a){super(t,"in",a),this.keys=F2("in",a)}matches(t){return this.keys.some((a=>a.isEqual(t.key)))}}class n6 extends It{constructor(t,a){super(t,"not-in",a),this.keys=F2("not-in",a)}matches(t){return!this.keys.some((a=>a.isEqual(t.key)))}}function F2(i,t){return(t.arrayValue?.values||[]).map((a=>pe.fromName(a.referenceValue)))}class a6 extends It{constructor(t,a){super(t,"array-contains",a)}matches(t){const a=t.data.field(this.field);return pm(a)&&wo(a.arrayValue,this.value)}}class i6 extends It{constructor(t,a){super(t,"in",a)}matches(t){const a=t.data.field(this.field);return a!==null&&wo(this.value.arrayValue,a)}}class s6 extends It{constructor(t,a){super(t,"not-in",a)}matches(t){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=t.data.field(this.field);return a!==null&&a.nullValue===void 0&&!wo(this.value.arrayValue,a)}}class r6 extends It{constructor(t,a){super(t,"array-contains-any",a)}matches(t){const a=t.data.field(this.field);return!(!pm(a)||!a.arrayValue.values)&&a.arrayValue.values.some((r=>wo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(t,a=null,r=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=a,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function r1(i,t=null,a=[],r=[],l=null,u=null,h=null){return new l6(i,t,a,r,l,u,h)}function ym(i){const t=Te(i);if(t.Te===null){let a=t.path.canonicalString();t.collectionGroup!==null&&(a+="|cg:"+t.collectionGroup),a+="|f:",a+=t.filters.map((r=>Pd(r))).join(","),a+="|ob:",a+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Xc(t.limit)||(a+="|l:",a+=t.limit),t.startAt&&(a+="|lb:",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((r=>qr(r))).join(",")),t.endAt&&(a+="|ub:",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((r=>qr(r))).join(",")),t.Te=a}return t.Te}function xm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<i.orderBy.length;a++)if(!JE(i.orderBy[a],t.orderBy[a]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let a=0;a<i.filters.length;a++)if(!q2(i.filters[a],t.filters[a]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!s1(i.startAt,t.startAt)&&s1(i.endAt,t.endAt)}function Bd(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,a=null,r=[],l=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=a,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function o6(i,t,a,r,l,u,h,m){return new $c(i,t,a,r,l,u,h,m)}function vm(i){return new $c(i)}function l1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function u6(i){return i.collectionGroup!==null}function go(i){const t=Te(i);if(t.Ie===null){t.Ie=[];const a=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),a.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ot(Qt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{a.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new jc(u,r))})),a.has(Qt.keyField().canonicalString())||t.Ie.push(new jc(Qt.keyField(),r))}return t.Ie}function Aa(i){const t=Te(i);return t.Ee||(t.Ee=c6(t,go(i))),t.Ee}function c6(i,t){if(i.limitType==="F")return r1(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new jc(l.field,u)}));const a=i.endAt?new Oc(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Oc(i.startAt.position,i.startAt.inclusive):null;return r1(i.path,i.collectionGroup,t,i.filters,i.limit,a,r)}}function kd(i,t,a){return new $c(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,a,i.startAt,i.endAt)}function Zc(i,t){return xm(Aa(i),Aa(t))&&i.limitType===t.limitType}function G2(i){return`${ym(Aa(i))}|lt:${i.limitType}`}function Vr(i){return`Query(target=${(function(a){let r=a.path.canonicalString();return a.collectionGroup!==null&&(r+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(r+=`, filters: [${a.filters.map((l=>H2(l))).join(", ")}]`),Xc(a.limit)||(r+=", limit: "+a.limit),a.orderBy.length>0&&(r+=`, orderBy: [${a.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),a.startAt&&(r+=", startAt: ",r+=a.startAt.inclusive?"b:":"a:",r+=a.startAt.position.map((l=>qr(l))).join(",")),a.endAt&&(r+=", endAt: ",r+=a.endAt.inclusive?"a:":"b:",r+=a.endAt.position.map((l=>qr(l))).join(",")),`Target(${r})`})(Aa(i))}; limitType=${i.limitType})`}function Jc(i,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,t)&&(function(r,l){for(const u of go(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(i,t)&&(function(r,l){return!(r.startAt&&!(function(h,m,p){const g=i1(h,m,p);return h.inclusive?g<=0:g<0})(r.startAt,go(r),l)||r.endAt&&!(function(h,m,p){const g=i1(h,m,p);return h.inclusive?g>=0:g>0})(r.endAt,go(r),l))})(i,t)}function f6(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Q2(i){return(t,a)=>{let r=!1;for(const l of go(i)){const u=h6(l,t,a);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function h6(i,t,a){const r=i.field.isKeyField()?pe.comparator(t.key,a.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?kr(p,g):xe(42886)})(i.field,t,a);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,a){this.mapKeyFn=t,this.equalsFn=a,this.inner={},this.innerSize=0}get(t){const a=this.mapKeyFn(t),r=this.inner[a];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,a){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,a]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,a]);l.push([t,a]),this.innerSize++}delete(t){const a=this.mapKeyFn(t),r=this.inner[a];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[a]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Zi(this.inner,((a,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return D2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=new ut(pe.comparator);function ai(){return d6}const Y2=new ut(pe.comparator);function uo(...i){let t=Y2;for(const a of i)t=t.insert(a.key,a);return t}function X2(i){let t=Y2;return i.forEach(((a,r)=>t=t.insert(a,r.overlayedDocument))),t}function Ms(){return po()}function K2(){return po()}function po(){return new zs((i=>i.toString()),((i,t)=>i.isEqual(t)))}const m6=new ut(pe.comparator),g6=new Ot(pe.comparator);function je(...i){let t=g6;for(const a of i)t=t.add(a);return t}const p6=new Ot(Oe);function y6(){return p6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function $2(i){return{integerValue:""+i}}function x6(i,t){return FE(t)?$2(t):bm(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this._=void 0}}function v6(i,t,a){return i instanceof zc?(function(l,u){const h={fields:{[I2]:{stringValue:V2},[j2]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&gm(u)&&(u=Kc(u)),u&&(h.fields[O2]=u),{mapValue:h}})(a,t):i instanceof Ro?J2(i,t):i instanceof Co?W2(i,t):(function(l,u){const h=Z2(l,u),m=o1(h)+o1(l.Ae);return Ld(h)&&Ld(l.Ae)?$2(m):bm(l.serializer,m)})(i,t)}function b6(i,t,a){return i instanceof Ro?J2(i,t):i instanceof Co?W2(i,t):a}function Z2(i,t){return i instanceof Uc?(function(r){return Ld(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class zc extends Wc{}class Ro extends Wc{constructor(t){super(),this.elements=t}}function J2(i,t){const a=ex(t);for(const r of i.elements)a.some((l=>Na(l,r)))||a.push(r);return{arrayValue:{values:a}}}class Co extends Wc{constructor(t){super(),this.elements=t}}function W2(i,t){let a=ex(t);for(const r of i.elements)a=a.filter((l=>!Na(l,r)));return{arrayValue:{values:a}}}class Uc extends Wc{constructor(t,a){super(),this.serializer=t,this.Ae=a}}function o1(i){return pt(i.integerValue||i.doubleValue)}function ex(i){return pm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function _6(i,t){return i.field.isEqual(t.field)&&(function(r,l){return r instanceof Ro&&l instanceof Ro||r instanceof Co&&l instanceof Co?Br(r.elements,l.elements,Na):r instanceof Uc&&l instanceof Uc?Na(r.Ae,l.Ae):r instanceof zc&&l instanceof zc})(i.transform,t.transform)}class E6{constructor(t,a){this.version=t,this.transformResults=a}}class Zn{constructor(t,a){this.updateTime=t,this.exists=a}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class ef{}function tx(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new _m(i.key,Zn.none()):new Vo(i.key,i.data,Zn.none());{const a=i.data,r=cn.empty();let l=new Ot(Qt.comparator);for(let u of t.fields)if(!l.has(u)){let h=a.field(u);h===null&&u.length>1&&(u=u.popLast(),h=a.field(u)),h===null?r.delete(u):r.set(u,h),l=l.add(u)}return new Ji(i.key,r,new En(l.toArray()),Zn.none())}}function T6(i,t,a){i instanceof Vo?(function(l,u,h){const m=l.value.clone(),p=c1(l.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,a):i instanceof Ji?(function(l,u,h){if(!Tc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=c1(l.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(nx(l)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,a):(function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,a)}function yo(i,t,a,r){return i instanceof Vo?(function(u,h,m,p){if(!Tc(u.precondition,h))return m;const g=u.value.clone(),b=f1(u.fieldTransforms,p,h);return g.setAll(b),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,t,a,r):i instanceof Ji?(function(u,h,m,p){if(!Tc(u.precondition,h))return m;const g=f1(u.fieldTransforms,p,h),b=h.data;return b.setAll(nx(u)),b.setAll(g),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,a,r):(function(u,h,m){return Tc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,a)}function S6(i,t){let a=null;for(const r of i.fieldTransforms){const l=t.data.field(r.field),u=Z2(r.transform,l||null);u!=null&&(a===null&&(a=cn.empty()),a.set(r.field,u))}return a||null}function u1(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Br(r,l,((u,h)=>_6(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Vo extends ef{constructor(t,a,r,l=[]){super(),this.key=t,this.value=a,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ji extends ef{constructor(t,a,r,l,u=[]){super(),this.key=t,this.data=a,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nx(i){const t=new Map;return i.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const r=i.data.field(a);t.set(a,r)}})),t}function c1(i,t,a){const r=new Map;Ge(i.length===a.length,32656,{Re:a.length,Ve:i.length});for(let l=0;l<a.length;l++){const u=i[l],h=u.transform,m=t.data.field(u.field);r.set(u.field,b6(h,m,a[l]))}return r}function f1(i,t,a){const r=new Map;for(const l of i){const u=l.transform,h=a.data.field(l.field);r.set(l.field,v6(u,h,t))}return r}class _m extends ef{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A6 extends ef{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t,a,r,l){this.batchId=t,this.localWriteTime=a,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,a){const r=a.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&T6(u,t,r[l])}}applyToLocalView(t,a){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(a=yo(r,t,a,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(a=yo(r,t,a,this.localWriteTime));return a}applyToLocalDocumentSet(t,a){const r=K2();return this.mutations.forEach((l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=a.has(l.key)?null:m;const p=tx(h,m);p!==null&&r.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(_e.min())})),r}keys(){return this.mutations.reduce(((t,a)=>t.add(a.key)),je())}isEqual(t){return this.batchId===t.batchId&&Br(this.mutations,t.mutations,((a,r)=>u1(a,r)))&&Br(this.baseMutations,t.baseMutations,((a,r)=>u1(a,r)))}}class Em{constructor(t,a,r,l){this.batch=t,this.commitVersion=a,this.mutationResults=r,this.docVersions=l}static from(t,a,r){Ge(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return m6})();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,r[h].version);return new Em(t,a,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(t,a){this.largestBatchId=t,this.mutation=a}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(t,a){this.count=t,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Le;function N6(i){switch(i){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:i})}}function ax(i){if(i===void 0)return ni("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:i})}}(Le=Rt||(Rt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Hi([4294967295,4294967295],0);function h1(i){const t=D6().encode(i),a=new v2;return a.update(t),new Uint8Array(a.digest())}function d1(i){const t=new DataView(i.buffer),a=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Hi([a,r],0),new Hi([l,u],0)]}class Tm{constructor(t,a,r){if(this.bitmap=t,this.padding=a,this.hashCount=r,a<0||a>=8)throw new co(`Invalid padding: ${a}`);if(r<0)throw new co(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${r}`);if(t.length===0&&a!==0)throw new co(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*t.length-a,this.pe=Hi.fromNumber(this.ge)}ye(t,a,r){let l=t.add(a.multiply(Hi.fromNumber(r)));return l.compare(M6)===1&&(l=new Hi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const a=h1(t),[r,l]=d1(a);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,l,u);if(!this.we(h))return!1}return!0}static create(t,a,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Tm(u,l,a);return r.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const a=h1(t),[r,l]=d1(a);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,l,u);this.Se(h)}}Se(t){const a=Math.floor(t/8),r=t%8;this.bitmap[a]|=1<<r}}class co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,a,r,l,u){this.snapshotVersion=t,this.targetChanges=a,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,a,r){const l=new Map;return l.set(t,Io.createSynthesizedTargetChangeForCurrentChange(t,a,r)),new tf(_e.min(),l,new ut(Oe),ai(),je())}}class Io{constructor(t,a,r,l,u){this.resumeToken=t,this.current=a,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,a,r){return new Io(r,a,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,a,r,l){this.be=t,this.removedTargetIds=a,this.key=r,this.De=l}}class ix{constructor(t,a){this.targetId=t,this.Ce=a}}class sx{constructor(t,a,r=Yt.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=a,this.resumeToken=r,this.cause=l}}class m1{constructor(){this.ve=0,this.Fe=g1(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=je(),a=je(),r=je();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:a=a.add(l);break;case 1:r=r.add(l);break;default:xe(38017,{changeType:u})}})),new Io(this.Me,this.xe,t,a,r)}qe(){this.Oe=!1,this.Fe=g1()}Qe(t,a){this.Oe=!0,this.Fe=this.Fe.insert(t,a)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V6{constructor(t){this.Ge=t,this.ze=new Map,this.je=ai(),this.Je=gc(),this.He=gc(),this.Ye=new ut(Oe)}Ze(t){for(const a of t.be)t.De&&t.De.isFoundDocument()?this.Xe(a,t.De):this.et(a,t.key,t.De);for(const a of t.removedTargetIds)this.et(a,t.key,t.De)}tt(t){this.forEachTarget(t,(a=>{const r=this.nt(a);switch(t.state){case 0:this.rt(a)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(a)&&(this.it(a),r.Le(t.resumeToken));break;default:xe(56790,{state:t.state})}}))}forEachTarget(t,a){t.targetIds.length>0?t.targetIds.forEach(a):this.ze.forEach(((r,l)=>{this.rt(l)&&a(l)}))}st(t){const a=t.targetId,r=t.Ce.count,l=this.ot(a);if(l){const u=l.target;if(Bd(u))if(r===0){const h=new pe(u.path);this.et(a,h,Zt.newNoDocument(h,_e.min()))}else Ge(r===1,20013,{expectedCount:r});else{const h=this._t(a);if(h!==r){const m=this.ut(t),p=m?this.ct(m,t,h):1;if(p!==0){this.it(a);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,g)}}}}}ut(t){const a=t.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=a;let h,m;try{h=Yi(r).toUint8Array()}catch(p){if(p instanceof M2)return Pr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Tm(h,l,u)}catch(p){return Pr(p instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,a,r){return a.Ce.count===r-this.Pt(t,a.targetId)?0:2}Pt(t,a){const r=this.Ge.getRemoteKeysForTarget(a);let l=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(a,u,null),l++)})),l}Tt(t){const a=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Bd(m.target)){const p=new pe(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Zt.newNoDocument(p,t))}u.Be&&(a.set(h,u.ke()),u.qe())}}));let r=je();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const l=new tf(t,a,this.Ye,this.je,r);return this.je=ai(),this.Je=gc(),this.He=gc(),this.Ye=new ut(Oe),l}Xe(t,a){if(!this.rt(t))return;const r=this.Et(t,a.key)?2:0;this.nt(t).Qe(a.key,r),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(t)),this.He=this.He.insert(a.key,this.dt(a.key).add(t))}et(t,a,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,a)?l.Qe(a,1):l.$e(a),this.He=this.He.insert(a,this.dt(a).delete(t)),this.He=this.He.insert(a,this.dt(a).add(t)),r&&(this.je=this.je.insert(a,r))}removeTarget(t){this.ze.delete(t)}_t(t){const a=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+a.addedDocuments.size-a.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let a=this.ze.get(t);return a||(a=new m1,this.ze.set(t,a)),a}dt(t){let a=this.He.get(t);return a||(a=new Ot(Oe),this.He=this.He.insert(t,a)),a}It(t){let a=this.Je.get(t);return a||(a=new Ot(Oe),this.Je=this.Je.insert(t,a)),a}rt(t){const a=this.ot(t)!==null;return a||ue("WatchChangeAggregator","Detected inactive target",t),a}ot(t){const a=this.ze.get(t);return a&&a.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new m1),this.Ge.getRemoteKeysForTarget(t).forEach((a=>{this.et(t,a,null)}))}Et(t,a){return this.Ge.getRemoteKeysForTarget(t).has(a)}}function gc(){return new ut(pe.comparator)}function g1(){return new ut(pe.comparator)}const I6={asc:"ASCENDING",desc:"DESCENDING"},O6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j6={and:"AND",or:"OR"};class z6{constructor(t,a){this.databaseId=t,this.useProto3Json=a}}function qd(i,t){return i.useProto3Json||Xc(t)?t:{value:t}}function Lc(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rx(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function U6(i,t){return Lc(i,t.toTimestamp())}function wa(i){return Ge(!!i,49232),_e.fromTimestamp((function(a){const r=Qi(a);return new it(r.seconds,r.nanos)})(i))}function Sm(i,t){return Hd(i,t).canonicalString()}function Hd(i,t){const a=(function(l){return new at(["projects",l.projectId,"databases",l.database])})(i).child("documents");return t===void 0?a:a.child(t)}function lx(i){const t=at.fromString(i);return Ge(hx(t),10190,{key:t.toString()}),t}function Fd(i,t){return Sm(i.databaseId,t.path)}function Ed(i,t){const a=lx(t);if(a.get(1)!==i.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+i.databaseId.projectId);if(a.get(3)!==i.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+i.databaseId.database);return new pe(ux(a))}function ox(i,t){return Sm(i.databaseId,t)}function L6(i){const t=lx(i);return t.length===4?at.emptyPath():ux(t)}function Gd(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ux(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function p1(i,t,a){return{name:Fd(i,t),fields:a.value.mapValue.fields}}function P6(i,t){let a;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Ge(b===void 0||typeof b=="string",58123),Yt.fromBase64String(b||"")):(Ge(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Yt.fromUint8Array(b||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const b=g.code===void 0?ne.UNKNOWN:ax(g.code);return new de(b,g.message||"")})(h);a=new sx(r,l,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Ed(i,r.document.name),u=wa(r.document.updateTime),h=r.document.createTime?wa(r.document.createTime):_e.min(),m=new cn({mapValue:{fields:r.document.fields}}),p=Zt.newFoundDocument(l,u,h,m),g=r.targetIds||[],b=r.removedTargetIds||[];a=new Sc(g,b,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Ed(i,r.document),u=r.readTime?wa(r.readTime):_e.min(),h=Zt.newNoDocument(l,u),m=r.removedTargetIds||[];a=new Sc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Ed(i,r.document),u=r.removedTargetIds||[];a=new Sc([],u,l,null)}else{if(!("filter"in t))return xe(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,h=new C6(l,u),m=r.targetId;a=new ix(m,h)}}return a}function B6(i,t){let a;if(t instanceof Vo)a={update:p1(i,t.key,t.value)};else if(t instanceof _m)a={delete:Fd(i,t.key)};else if(t instanceof Ji)a={update:p1(i,t.key,t.data),updateMask:K6(t.fieldMask)};else{if(!(t instanceof A6))return xe(16599,{Vt:t.type});a={verify:Fd(i,t.key)}}return t.fieldTransforms.length>0&&(a.updateTransforms=t.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof zc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ro)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Co)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw xe(20930,{transform:h.transform})})(0,r)))),t.precondition.isNone||(a.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:U6(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(i,t.precondition)),a}function k6(i,t){return i&&i.length>0?(Ge(t!==void 0,14353),i.map((a=>(function(l,u){let h=l.updateTime?wa(l.updateTime):wa(u);return h.isEqual(_e.min())&&(h=wa(u)),new E6(h,l.transformResults||[])})(a,t)))):[]}function q6(i,t){return{documents:[ox(i,t.path)]}}function H6(i,t){const a={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),a.structuredQuery.from=[{collectionId:r.lastSegment()}]),a.parent=ox(i,l);const u=(function(g){if(g.length!==0)return fx(Da.create(g,"and"))})(t.filters);u&&(a.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((b=>(function(N){return{field:Ir(N.field),direction:Q6(N.dir)}})(b)))})(t.orderBy);h&&(a.structuredQuery.orderBy=h);const m=qd(i,t.limit);return m!==null&&(a.structuredQuery.limit=m),t.startAt&&(a.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(a.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:a,parent:l}}function F6(i){let t=L6(i.parent);const a=i.structuredQuery,r=a.from?a.from.length:0;let l=null;if(r>0){Ge(r===1,65062);const b=a.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let u=[];a.where&&(u=(function(T){const N=cx(T);return N instanceof Da&&k2(N)?N.getFilters():[N]})(a.where));let h=[];a.orderBy&&(h=(function(T){return T.map((N=>(function(H){return new jc(Or(H.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(N)))})(a.orderBy));let m=null;a.limit&&(m=(function(T){let N;return N=typeof T=="object"?T.value:T,Xc(N)?null:N})(a.limit));let p=null;a.startAt&&(p=(function(T){const N=!!T.before,I=T.values||[];return new Oc(I,N)})(a.startAt));let g=null;return a.endAt&&(g=(function(T){const N=!T.before,I=T.values||[];return new Oc(I,N)})(a.endAt)),o6(t,l,h,u,m,"F",p,g)}function G6(i,t){const a=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:l})}})(t.purpose);return a==null?null:{"goog-listen-tags":a}}function cx(i){return i.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const r=Or(a.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Or(a.unaryFilter.field);return It.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Or(a.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Or(a.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(i):i.fieldFilter!==void 0?(function(a){return It.create(Or(a.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(a){return Da.create(a.compositeFilter.filters.map((r=>cx(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(a.compositeFilter.op))})(i):xe(30097,{filter:i})}function Q6(i){return I6[i]}function Y6(i){return O6[i]}function X6(i){return j6[i]}function Ir(i){return{fieldPath:i.canonicalString()}}function Or(i){return Qt.fromServerFormat(i.fieldPath)}function fx(i){return i instanceof It?(function(a){if(a.op==="=="){if(a1(a.value))return{unaryFilter:{field:Ir(a.field),op:"IS_NAN"}};if(n1(a.value))return{unaryFilter:{field:Ir(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(a1(a.value))return{unaryFilter:{field:Ir(a.field),op:"IS_NOT_NAN"}};if(n1(a.value))return{unaryFilter:{field:Ir(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ir(a.field),op:Y6(a.op),value:a.value}}})(i):i instanceof Da?(function(a){const r=a.getFilters().map((l=>fx(l)));return r.length===1?r[0]:{compositeFilter:{op:X6(a.op),filters:r}}})(i):xe(54877,{filter:i})}function K6(i){const t=[];return i.fields.forEach((a=>t.push(a.canonicalString()))),{fieldPaths:t}}function hx(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,a,r,l,u=_e.min(),h=_e.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=a,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Pi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,a){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(t){this.yt=t}}function Z6(i){const t=F6({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?kd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.Cn=new W6}addToCollectionParentIndex(t,a){return this.Cn.add(a),ee.resolve()}getCollectionParents(t,a){return ee.resolve(this.Cn.getEntries(a))}addFieldIndex(t,a){return ee.resolve()}deleteFieldIndex(t,a){return ee.resolve()}deleteAllFieldIndexes(t){return ee.resolve()}createTargetIndexes(t,a){return ee.resolve()}getDocumentsMatchingTarget(t,a){return ee.resolve(null)}getIndexType(t,a){return ee.resolve(0)}getFieldIndexes(t,a){return ee.resolve([])}getNextCollectionGroupToUpdate(t){return ee.resolve(null)}getMinOffset(t,a){return ee.resolve(Gi.min())}getMinOffsetFromCollectionGroup(t,a){return ee.resolve(Gi.min())}updateCollectionGroup(t,a,r){return ee.resolve()}updateIndexEntries(t,a){return ee.resolve()}}class W6{constructor(){this.index={}}add(t){const a=t.lastSegment(),r=t.popLast(),l=this.index[a]||new Ot(at.comparator),u=!l.has(r);return this.index[a]=l.add(r),u}has(t){const a=t.lastSegment(),r=t.popLast(),l=this.index[a];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ot(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dx=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,a,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(dx,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Hr(0)}static cr(){return new Hr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="LruGarbageCollector",e5=1048576;function v1([i,t],[a,r]){const l=Oe(i,a);return l===0?Oe(t,r):l}class t5{constructor(t){this.Ir=t,this.buffer=new Ot(v1),this.Er=0}dr(){return++this.Er}Ar(t){const a=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const r=this.buffer.last();v1(a,r)<0&&(this.buffer=this.buffer.delete(r).add(a))}}get maxValue(){return this.buffer.last()[0]}}class n5{constructor(t,a,r){this.garbageCollector=t,this.asyncQueue=a,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ue(x1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){Wr(a)?ue(x1,"Ignoring IndexedDB error during garbage collection: ",a):await Jr(a)}await this.Vr(3e5)}))}}class a5{constructor(t,a){this.mr=t,this.params=a}calculateTargetCount(t,a){return this.mr.gr(t).next((r=>Math.floor(a/100*r)))}nthSequenceNumber(t,a){if(a===0)return ee.resolve(Yc.ce);const r=new t5(a);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,a,r){return this.mr.removeTargets(t,a,r)}removeOrphanedDocuments(t,a){return this.mr.removeOrphanedDocuments(t,a)}collect(t,a){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(y1)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y1):this.yr(t,a)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,a){let r,l,u,h,m,p,g;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,h=Date.now(),this.nthSequenceNumber(t,l)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,a)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),Mr()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:T}))))}}function i5(i,t){return new a5(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.changes=new zs((t=>t.toString()),((t,a)=>t.isEqual(a))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,a){this.assertNotApplied(),this.changes.set(t,Zt.newInvalidDocument(t).setReadTime(a))}getEntry(t,a){this.assertNotApplied();const r=this.changes.get(a);return r!==void 0?ee.resolve(r):this.getFromCache(t,a)}getEntries(t,a){return this.getAllFromCache(t,a)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(t,a){this.overlayedDocument=t,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(t,a,r,l){this.remoteDocumentCache=t,this.mutationQueue=a,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,a){let r=null;return this.documentOverlayCache.getOverlay(t,a).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,a)))).next((l=>(r!==null&&yo(r.mutation,l,En.empty(),it.now()),l)))}getDocuments(t,a){return this.remoteDocumentCache.getEntries(t,a).next((r=>this.getLocalViewOfDocuments(t,r,je()).next((()=>r))))}getLocalViewOfDocuments(t,a,r=je()){const l=Ms();return this.populateOverlays(t,l,a).next((()=>this.computeViews(t,a,l,r).next((u=>{let h=uo();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,a){const r=Ms();return this.populateOverlays(t,r,a).next((()=>this.computeViews(t,a,r,je())))}populateOverlays(t,a,r){const l=[];return r.forEach((u=>{a.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((h,m)=>{a.set(h,m)}))}))}computeViews(t,a,r,l){let u=ai();const h=po(),m=(function(){return po()})();return a.forEach(((p,g)=>{const b=r.get(g.key);l.has(g.key)&&(b===void 0||b.mutation instanceof Ji)?u=u.insert(g.key,g):b!==void 0?(h.set(g.key,b.mutation.getFieldMask()),yo(b.mutation,g,b.mutation.getFieldMask(),it.now())):h.set(g.key,En.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,b)=>h.set(g,b))),a.forEach(((g,b)=>m.set(g,new r5(b,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,a){const r=po();let l=new ut(((h,m)=>h-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,a).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=a.get(p);if(g===null)return;let b=r.get(p)||En.empty();b=m.applyToLocalView(g,b),r.set(p,b);const T=(l.get(m.batchId)||je()).add(p);l=l.insert(m.batchId,T)}))})).next((()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,T=K2();b.forEach((N=>{if(!u.has(N)){const I=tx(a.get(N),r.get(N));I!==null&&T.set(N,I),u=u.add(N)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return ee.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,a){return this.remoteDocumentCache.getEntries(t,a).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,a,r,l){return(function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(t,a.path):u6(a)?this.getDocumentsMatchingCollectionGroupQuery(t,a,r,l):this.getDocumentsMatchingCollectionQuery(t,a,r,l)}getNextDocuments(t,a,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,a,r,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,a,r.largestBatchId,l-u.size):ee.resolve(Ms());let m=To,p=u;return h.next((g=>ee.forEach(g,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?ee.resolve():this.remoteDocumentCache.getEntry(t,b).next((N=>{p=p.insert(b,N)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,je()))).next((b=>({batchId:m,changes:X2(b)})))))}))}getDocumentsMatchingDocumentQuery(t,a){return this.getDocument(t,new pe(a)).next((r=>{let l=uo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,a,r,l){const u=a.collectionGroup;let h=uo();return this.indexManager.getCollectionParents(t,u).next((m=>ee.forEach(m,(p=>{const g=(function(T,N){return new $c(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(a,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,l).next((b=>{b.forEach(((T,N)=>{h=h.insert(T,N)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,a,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,a.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,a,r,u,l)))).next((h=>{u.forEach(((p,g)=>{const b=g.getKey();h.get(b)===null&&(h=h.insert(b,Zt.newInvalidDocument(b)))}));let m=uo();return h.forEach(((p,g)=>{const b=u.get(p);b!==void 0&&yo(b.mutation,g,En.empty(),it.now()),Jc(a,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,a){return ee.resolve(this.Lr.get(a))}saveBundleMetadata(t,a){return this.Lr.set(a.id,(function(l){return{id:l.id,version:l.version,createTime:wa(l.createTime)}})(a)),ee.resolve()}getNamedQuery(t,a){return ee.resolve(this.kr.get(a))}saveNamedQuery(t,a){return this.kr.set(a.name,(function(l){return{name:l.name,query:Z6(l.bundledQuery),readTime:wa(l.readTime)}})(a)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(t,a){return ee.resolve(this.overlays.get(a))}getOverlays(t,a){const r=Ms();return ee.forEach(a,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,a,r){return r.forEach(((l,u)=>{this.St(t,a,u)})),ee.resolve()}removeOverlaysForBatchId(t,a,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(t,a,r){const l=Ms(),u=a.length+1,h=new pe(a.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!a.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&l.set(p.getKey(),p)}return ee.resolve(l)}getOverlaysForCollectionGroup(t,a,r,l){let u=new ut(((g,b)=>g-b));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===a&&g.largestBatchId>r){let b=u.get(g.largestBatchId);b===null&&(b=Ms(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Ms(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=l)););return ee.resolve(m)}St(t,a,r){const l=this.overlays.get(r.key);if(l!==null){const h=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new R6(a,r));let u=this.qr.get(a);u===void 0&&(u=je(),this.qr.set(a,u)),this.qr.set(a,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(t){return ee.resolve(this.sessionToken)}setSessionToken(t,a){return this.sessionToken=a,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.Qr=new Ot(Lt.$r),this.Ur=new Ot(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,a){const r=new Lt(t,a);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,a){t.forEach((r=>this.addReference(r,a)))}removeReference(t,a){this.Gr(new Lt(t,a))}zr(t,a){t.forEach((r=>this.removeReference(r,a)))}jr(t){const a=new pe(new at([])),r=new Lt(a,t),l=new Lt(a,t+1),u=[];return this.Ur.forEachInRange([r,l],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const a=new pe(new at([])),r=new Lt(a,t),l=new Lt(a,t+1);let u=je();return this.Ur.forEachInRange([r,l],(h=>{u=u.add(h.key)})),u}containsKey(t){const a=new Lt(t,0),r=this.Qr.firstAfterOrEqual(a);return r!==null&&t.isEqual(r.key)}}class Lt{constructor(t,a){this.key=t,this.Yr=a}static $r(t,a){return pe.comparator(t.key,a.key)||Oe(t.Yr,a.Yr)}static Kr(t,a){return Oe(t.Yr,a.Yr)||pe.comparator(t.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(t,a){this.indexManager=t,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Lt.$r)}checkEmpty(t){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(t,a,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new w6(u,a,r,l);this.mutationQueue.push(h);for(const m of l)this.Zr=this.Zr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(t,a){return ee.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(t,a){const r=a+1,l=this.ei(r),u=l<0?0:l;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?mm:this.tr-1)}getAllMutationBatches(t){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,a){const r=new Lt(a,0),l=new Lt(a,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,a){let r=new Ot(Oe);return a.forEach((l=>{const u=new Lt(l,0),h=new Lt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{r=r.add(m.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,a){const r=a.path,l=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new pe(u),0);let m=new Ot(Oe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(m=m.add(p.Yr)),!0)}),h),ee.resolve(this.ti(m))}ti(t){const a=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&a.push(l)})),a}removeMutationBatch(t,a){Ge(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(a.mutations,(l=>{const u=new Lt(l.key,a.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,a){const r=new Lt(a,0),l=this.Zr.firstAfterOrEqual(r);return ee.resolve(a.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ee.resolve()}ni(t,a){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const a=this.ei(t);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(t){this.ri=t,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,a){const r=a.key,l=this.docs.get(r),u=l?l.size:0,h=this.ri(a);return this.docs=this.docs.insert(r,{document:a.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const a=this.docs.get(t);a&&(this.docs=this.docs.remove(t),this.size-=a.size)}getEntry(t,a){const r=this.docs.get(a);return ee.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(a))}getEntries(t,a){let r=ai();return a.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Zt.newInvalidDocument(l))})),ee.resolve(r)}getDocumentsMatchingQuery(t,a,r,l){let u=ai();const h=a.path,m=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||BE(PE(b),r)<=0||(l.has(b.key)||Jc(a,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(t,a,r,l){xe(9500)}ii(t,a){return ee.forEach(this.docs,(r=>a(r)))}newChangeBuffer(t){return new d5(this)}getSize(t){return ee.resolve(this.size)}}class d5 extends s5{constructor(t){super(),this.Nr=t}applyChanges(t){const a=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?a.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),ee.waitFor(a)}getFromCache(t,a){return this.Nr.getEntry(t,a)}getAllFromCache(t,a){return this.Nr.getEntries(t,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(t){this.persistence=t,this.si=new zs((a=>ym(a)),xm),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new Am,this.targetCount=0,this.ai=Hr.ur()}forEachTarget(t,a){return this.si.forEach(((r,l)=>a(l))),ee.resolve()}getLastRemoteSnapshotVersion(t){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ee.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(t,a,r){return r&&(this.lastRemoteSnapshotVersion=r),a>this.oi&&(this.oi=a),ee.resolve()}Pr(t){this.si.set(t.target,t);const a=t.targetId;a>this.highestTargetId&&(this.ai=new Hr(a),this.highestTargetId=a),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,a){return this.Pr(a),this.targetCount+=1,ee.resolve()}updateTargetData(t,a){return this.Pr(a),ee.resolve()}removeTargetData(t,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,ee.resolve()}removeTargets(t,a,r){let l=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=a&&r.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)})),ee.waitFor(u).next((()=>l))}getTargetCount(t){return ee.resolve(this.targetCount)}getTargetData(t,a){const r=this.si.get(a)||null;return ee.resolve(r)}addMatchingKeys(t,a,r){return this._i.Wr(a,r),ee.resolve()}removeMatchingKeys(t,a,r){this._i.zr(a,r);const l=this.persistence.referenceDelegate,u=[];return l&&a.forEach((h=>{u.push(l.markPotentiallyOrphaned(t,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(t,a){return this._i.jr(a),ee.resolve()}getMatchingKeysForTargetId(t,a){const r=this._i.Hr(a);return ee.resolve(r)}containsKey(t,a){return ee.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t,a){this.ui={},this.overlays={},this.ci=new Yc(0),this.li=!1,this.li=!0,this.hi=new c5,this.referenceDelegate=t(this),this.Pi=new m5(this),this.indexManager=new J6,this.remoteDocumentCache=(function(l){return new h5(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $6(a),this.Ii=new o5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let a=this.overlays[t.toKey()];return a||(a=new u5,this.overlays[t.toKey()]=a),a}getMutationQueue(t,a){let r=this.ui[t.toKey()];return r||(r=new f5(a,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,a,r){ue("MemoryPersistence","Starting transaction:",t);const l=new g5(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,a){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,a))))}}class g5 extends qE{constructor(t){super(),this.currentSequenceNumber=t}}class wm{constructor(t){this.persistence=t,this.Ri=new Am,this.Vi=null}static mi(t){return new wm(t)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(t,a,r){return this.Ri.addReference(r,a),this.fi.delete(r.toString()),ee.resolve()}removeReference(t,a,r){return this.Ri.removeReference(r,a),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(t,a){return this.fi.add(a.toString()),ee.resolve()}removeTarget(t,a){this.Ri.jr(a.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,a.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,a)))}Ei(){this.Vi=new Set}di(t){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const l=pe.fromPath(r);return this.gi(t,l).next((u=>{u||a.removeEntry(l,_e.min())}))})).next((()=>(this.Vi=null,a.apply(t))))}updateLimboDocument(t,a){return this.gi(t,a).next((r=>{r?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(t){return 0}gi(t,a){return ee.or([()=>ee.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(t,a),()=>this.persistence.Ai(t,a)])}}class Pc{constructor(t,a){this.persistence=t,this.pi=new zs((r=>GE(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=i5(this,a)}static mi(t,a){return new Pc(t,a)}Ei(){}di(t){return ee.resolve()}forEachTarget(t,a){return this.persistence.getTargetCache().forEachTarget(t,a)}gr(t){const a=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>a.next((l=>r+l))))}wr(t){let a=0;return this.pr(t,(r=>{a++})).next((()=>a))}pr(t,a){return ee.forEach(this.pi,((r,l)=>this.br(t,r,l).next((u=>u?ee.resolve():a(l)))))}removeTargets(t,a,r){return this.persistence.getTargetCache().removeTargets(t,a,r)}removeOrphanedDocuments(t,a){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(h=>this.br(t,h,a).next((m=>{m||(r++,u.removeEntry(h,_e.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,a){return this.pi.set(a,t.currentSequenceNumber),ee.resolve()}removeTarget(t,a){const r=a.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,a,r){return this.pi.set(r,t.currentSequenceNumber),ee.resolve()}removeReference(t,a,r){return this.pi.set(r,t.currentSequenceNumber),ee.resolve()}updateLimboDocument(t,a){return this.pi.set(a,t.currentSequenceNumber),ee.resolve()}Ti(t){let a=t.key.toString().length;return t.isFoundDocument()&&(a+=_c(t.data.value)),a}br(t,a,r){return ee.or([()=>this.persistence.Ai(t,a),()=>this.persistence.getTargetCache().containsKey(t,a),()=>{const l=this.pi.get(a);return ee.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,a,r,l){this.targetId=t,this.fromCache=a,this.Es=r,this.ds=l}static As(t,a){let r=je(),l=je();for(const u of a.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Rm(t,a.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return l3()?8:HE(s3())>0?6:4})()}initialize(t,a){this.ps=t,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(t,a,r,l){const u={result:null};return this.ys(t,a).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(t,a,l,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new p5;return this.Ss(t,a,h).next((m=>{if(u.result=m,this.Vs)return this.bs(t,a,h,m.size)}))})).next((()=>u.result))}bs(t,a,r,l){return r.documentReadCount<this.fs?(Mr()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Vr(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Mr()<=Pe.DEBUG&&ue("QueryEngine","Query:",Vr(a),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Mr()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Vr(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Aa(a))):ee.resolve())}ys(t,a){if(l1(a))return ee.resolve(null);let r=Aa(a);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(a.limit!==null&&l===1&&(a=kd(a,null,"F"),r=Aa(a)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const h=je(...u);return this.ps.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(a,m);return this.Cs(a,g,h,p.readTime)?this.ys(t,kd(a,null,"F")):this.vs(t,g,a,p)}))))})))))}ws(t,a,r,l){return l1(a)||l.isEqual(_e.min())?ee.resolve(null):this.ps.getDocuments(t,r).next((u=>{const h=this.Ds(a,u);return this.Cs(a,h,r,l)?ee.resolve(null):(Mr()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Vr(a)),this.vs(t,h,a,LE(l,To)).next((m=>m)))}))}Ds(t,a){let r=new Ot(Q2(t));return a.forEach(((l,u)=>{Jc(t,u)&&(r=r.add(u))})),r}Cs(t,a,r,l){if(t.limit===null)return!1;if(r.size!==a.size)return!0;const u=t.limitType==="F"?a.last():a.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,a,r){return Mr()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Vr(a)),this.ps.getDocumentsMatchingQuery(t,a,Gi.min(),r)}vs(t,a,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((u=>(a.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="LocalStore",x5=3e8;class v5{constructor(t,a,r,l){this.persistence=t,this.Fs=a,this.serializer=l,this.Ms=new ut(Oe),this.xs=new zs((u=>ym(u)),xm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new l5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>t.collect(a,this.Ms)))}}function b5(i,t,a,r){return new v5(i,t,a,r)}async function gx(i,t){const a=Te(i);return await a.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return a.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,a.Bs(t),a.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let p=je();for(const g of l){h.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return a.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function _5(i,t){const a=Te(i);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const T=g.batch,N=T.keys();let I=ee.resolve();return N.forEach((H=>{I=I.next((()=>b.getEntry(p,H))).next((G=>{const B=g.docVersions.get(H);Ge(B!==null,48541),G.version.compareTo(B)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),b.addEntry(G)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(a,r,t,u).next((()=>u.apply(r))).next((()=>a.mutationQueue.performConsistencyCheck(r))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>a.localDocuments.getDocuments(r,l)))}))}function px(i){const t=Te(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>t.Pi.getLastRemoteSnapshotVersion(a)))}function E5(i,t){const a=Te(i),r=t.snapshotVersion;let l=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=a.Ns.newChangeBuffer({trackRemovals:!0});l=a.Ms;const m=[];t.targetChanges.forEach(((b,T)=>{const N=l.get(T);if(!N)return;m.push(a.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>a.Pi.addMatchingKeys(u,b.addedDocuments,T))));let I=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?I=I.withResumeToken(Yt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):b.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(b.resumeToken,r)),l=l.insert(T,I),(function(G,B,Z){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=x5?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(N,I,b)&&m.push(a.Pi.updateTargetData(u,I))}));let p=ai(),g=je();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&m.push(a.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(T5(u,h,t.documentUpdates).next((b=>{p=b.ks,g=b.qs}))),!r.isEqual(_e.min())){const b=a.Pi.getLastRemoteSnapshotVersion(u).next((T=>a.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>a.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(a.Ms=l,u)))}function T5(i,t,a){let r=je(),l=je();return a.forEach((u=>r=r.add(u))),t.getEntries(i,r).next((u=>{let h=ai();return a.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(_e.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ue(Cm,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:l}}))}function S5(i,t){const a=Te(i);return a.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=mm),a.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function A5(i,t){const a=Te(i);return a.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return a.Pi.getTargetData(r,t).next((u=>u?(l=u,ee.resolve(l)):a.Pi.allocateTargetId(r).next((h=>(l=new Pi(t,h,"TargetPurposeListen",r.currentSequenceNumber),a.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=a.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(r.targetId,r),a.xs.set(t,r.targetId)),r}))}async function Qd(i,t,a){const r=Te(i),l=r.Ms.get(t),u=a?"readwrite":"readwrite-primary";try{a||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!Wr(h))throw h;ue(Cm,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function b1(i,t,a){const r=Te(i);let l=_e.min(),u=je();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,b){const T=Te(p),N=T.xs.get(b);return N!==void 0?ee.resolve(T.Ms.get(N)):T.Pi.getTargetData(g,b)})(r,h,Aa(t)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,t,a?l:_e.min(),a?u:je()))).next((m=>(w5(r,f6(t),m),{documents:m,Qs:u})))))}function w5(i,t,a){let r=i.Os.get(t)||_e.min();a.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(t,r)}class _1{constructor(){this.activeTargetIds=y6()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class R5{constructor(){this.Mo=new _1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,a,r){}addLocalQueryTarget(t,a=!0){return a&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,a,r){this.xo[t]=a}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new _1,Promise.resolve()}handleUserChange(t,a,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="ConnectivityMonitor";class T1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(E1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ue(E1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function Yd(){return pc===null?pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="RestConnection",N5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D5{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const a=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Vc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,a,r,l,u){const h=Yd(),m=this.zo(t,a.toUriEncodedString());ue(Td,`Sending RPC '${t}' ${h}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:g}=new URL(m),b=um(g);return this.Jo(t,m,p,r,b).then((T=>(ue(Td,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw Pr(Td,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(t,a,r,l,u,h){return this.Go(t,a,r,l,u)}jo(t,a,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zr})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}zo(t,a){const r=N5[t];return`${this.Uo}/v1/${a}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class V5 extends D5{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,a,r,l,u){const h=Yd();return new Promise(((m,p)=>{const g=new b2;g.setWithCredentials(!0),g.listenOnce(_2.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case bc.NO_ERROR:const T=g.getResponseJson();ue(Kt,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case bc.TIMEOUT:ue(Kt,`RPC '${t}' ${h} timed out`),p(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const N=g.getStatus();if(ue(Kt,`RPC '${t}' ${h} failed with status:`,N,"response text:",g.getResponseText()),N>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const H=I?.error;if(H&&H.status&&H.message){const G=(function(Z){const te=Z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(te)>=0?te:ne.UNKNOWN})(H.status);p(new de(G,H.message))}else p(new de(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Kt,`RPC '${t}' ${h} completed.`)}}));const b=JSON.stringify(l);ue(Kt,`RPC '${t}' ${h} sending request:`,l),g.send(a,"POST",b,r,15)}))}T_(t,a,r){const l=Yd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=S2(),m=T2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,a,r),p.encodeInitMessageHeaders=!0;const b=u.join("");ue(Kt,`Creating RPC '${t}' stream ${l}: ${b}`,p);const T=h.createWebChannel(b,p);this.I_(T);let N=!1,I=!1;const H=new M5({Yo:B=>{I?ue(Kt,`Not sending because RPC '${t}' stream ${l} is closed:`,B):(N||(ue(Kt,`Opening RPC '${t}' stream ${l} transport.`),T.open(),N=!0),ue(Kt,`RPC '${t}' stream ${l} sending:`,B),T.send(B))},Zo:()=>T.close()}),G=(B,Z,te)=>{B.listen(Z,(ie=>{try{te(ie)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return G(T,oo.EventType.OPEN,(()=>{I||(ue(Kt,`RPC '${t}' stream ${l} transport opened.`),H.o_())})),G(T,oo.EventType.CLOSE,(()=>{I||(I=!0,ue(Kt,`RPC '${t}' stream ${l} transport closed`),H.a_(),this.E_(T))})),G(T,oo.EventType.ERROR,(B=>{I||(I=!0,Pr(Kt,`RPC '${t}' stream ${l} transport errored. Name:`,B.name,"Message:",B.message),H.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),G(T,oo.EventType.MESSAGE,(B=>{if(!I){const Z=B.data[0];Ge(!!Z,16349);const te=Z,ie=te?.error||te[0]?.error;if(ie){ue(Kt,`RPC '${t}' stream ${l} received error:`,ie);const ve=ie.status;let le=(function(A){const R=Rt[A];if(R!==void 0)return ax(R)})(ve),oe=ie.message;le===void 0&&(le=ne.INTERNAL,oe="Unknown error status: "+ve+" with message "+ie.message),I=!0,H.a_(new de(le,oe)),T.close()}else ue(Kt,`RPC '${t}' stream ${l} received:`,Z),H.u_(Z)}})),G(m,E2.STAT_EVENT,(B=>{B.stat===jd.PROXY?ue(Kt,`RPC '${t}' stream ${l} detected buffering proxy`):B.stat===jd.NOPROXY&&ue(Kt,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((a=>a===t))}}function Sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(i){return new z6(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,a,r=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=a,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const a=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,a-r);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="PersistentStream";class xx{constructor(t,a,r,l,u,h,m,p){this.Mi=t,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yx(t,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():a&&a.code===ne.RESOURCE_EXHAUSTED?(ni(a.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(a)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===a&&this.G_(r,l)}),(r=>{t((()=>{const l=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,a){const r=this.W_(this.D_);this.stream=this.j_(t,a),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ue(S1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return a=>{this.Mi.enqueueAndForget((()=>this.D_===t?a():(ue(S1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class I5 extends xx{constructor(t,a,r,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,r,l,h),this.serializer=u}j_(t,a){return this.connection.T_("Listen",t,a)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const a=P6(this.serializer,t),r=(function(u){if(!("targetChange"in u))return _e.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?_e.min():h.readTime?wa(h.readTime):_e.min()})(t);return this.listener.H_(a,r)}Y_(t){const a={};a.database=Gd(this.serializer),a.addTarget=(function(u,h){let m;const p=h.target;if(m=Bd(p)?{documents:q6(u,p)}:{query:H6(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=rx(u,h.resumeToken);const g=qd(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(_e.min())>0){m.readTime=Lc(u,h.snapshotVersion.toTimestamp());const g=qd(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=G6(this.serializer,t);r&&(a.labels=r),this.q_(a)}Z_(t){const a={};a.database=Gd(this.serializer),a.removeTarget=t,this.q_(a)}}class O5 extends xx{constructor(t,a,r,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,r,l,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,a){return this.connection.T_("Write",t,a)}J_(t){return Ge(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ge(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ge(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const a=k6(t.writeResults,t.commitTime),r=wa(t.commitTime);return this.listener.na(r,a)}ra(){const t={};t.database=Gd(this.serializer),this.q_(t)}ea(t){const a={streamToken:this.lastStreamToken,writes:t.map((r=>B6(this.serializer,r)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{}class z5 extends j5{constructor(t,a,r,l){super(),this.authCredentials=t,this.appCheckCredentials=a,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,a,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(t,Hd(a,r),l,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())}))}Ho(t,a,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(t,Hd(a,r),l,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class U5{constructor(t,a){this.asyncQueue=t,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const a=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ni(a),this.aa=!1):ue("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="RemoteStore";class L5{constructor(t,a,r,l,u){this.localStore=t,this.datastore=a,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{Us(this)&&(ue(js,"Restarting streams for network reachability change."),await(async function(p){const g=Te(p);g.Ea.add(4),await Oo(g),g.Ra.set("Unknown"),g.Ea.delete(4),await af(g)})(this))}))})),this.Ra=new U5(r,l)}}async function af(i){if(Us(i))for(const t of i.da)await t(!0)}async function Oo(i){for(const t of i.da)await t(!1)}function vx(i,t){const a=Te(i);a.Ia.has(t.targetId)||(a.Ia.set(t.targetId,t),Vm(a)?Mm(a):el(a).O_()&&Dm(a,t))}function Nm(i,t){const a=Te(i),r=el(a);a.Ia.delete(t),r.O_()&&bx(a,t),a.Ia.size===0&&(r.O_()?r.L_():Us(a)&&a.Ra.set("Unknown"))}function Dm(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_e.min())>0){const a=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(a)}el(i).Y_(t)}function bx(i,t){i.Va.Ue(t),el(i).Z_(t)}function Mm(i){i.Va=new V6({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),el(i).start(),i.Ra.ua()}function Vm(i){return Us(i)&&!el(i).x_()&&i.Ia.size>0}function Us(i){return Te(i).Ea.size===0}function _x(i){i.Va=void 0}async function P5(i){i.Ra.set("Online")}async function B5(i){i.Ia.forEach(((t,a)=>{Dm(i,t)}))}async function k5(i,t){_x(i),Vm(i)?(i.Ra.ha(t),Mm(i)):i.Ra.set("Unknown")}async function q5(i,t,a){if(i.Ra.set("Online"),t instanceof sx&&t.state===2&&t.cause)try{await(async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.Va.removeTarget(m))})(i,t)}catch(r){ue(js,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Bc(i,r)}else if(t instanceof Sc?i.Va.Ze(t):t instanceof ix?i.Va.st(t):i.Va.tt(t),!a.isEqual(_e.min()))try{const r=await px(i.localStore);a.compareTo(r)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Yt.EMPTY_BYTE_STRING,b.snapshotVersion)),bx(u,p);const T=new Pi(b.target,p,g,b.sequenceNumber);Dm(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,a)}catch(r){ue(js,"Failed to raise snapshot:",r),await Bc(i,r)}}async function Bc(i,t,a){if(!Wr(t))throw t;i.Ea.add(1),await Oo(i),i.Ra.set("Offline"),a||(a=()=>px(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(js,"Retrying IndexedDB access"),await a(),i.Ea.delete(1),await af(i)}))}function Ex(i,t){return t().catch((a=>Bc(i,a,t)))}async function sf(i){const t=Te(i),a=Ki(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mm;for(;H5(t);)try{const l=await S5(t.localStore,r);if(l===null){t.Ta.length===0&&a.L_();break}r=l.batchId,F5(t,l)}catch(l){await Bc(t,l)}Tx(t)&&Sx(t)}function H5(i){return Us(i)&&i.Ta.length<10}function F5(i,t){i.Ta.push(t);const a=Ki(i);a.O_()&&a.X_&&a.ea(t.mutations)}function Tx(i){return Us(i)&&!Ki(i).x_()&&i.Ta.length>0}function Sx(i){Ki(i).start()}async function G5(i){Ki(i).ra()}async function Q5(i){const t=Ki(i);for(const a of i.Ta)t.ea(a.mutations)}async function Y5(i,t,a){const r=i.Ta.shift(),l=Em.from(r,t,a);await Ex(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await sf(i)}async function X5(i,t){t&&Ki(i).X_&&await(async function(r,l){if((function(h){return N6(h)&&h!==ne.ABORTED})(l.code)){const u=r.Ta.shift();Ki(r).B_(),await Ex(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await sf(r)}})(i,t),Tx(i)&&Sx(i)}async function A1(i,t){const a=Te(i);a.asyncQueue.verifyOperationInProgress(),ue(js,"RemoteStore received new credentials");const r=Us(a);a.Ea.add(3),await Oo(a),r&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(t),a.Ea.delete(3),await af(a)}async function K5(i,t){const a=Te(i);t?(a.Ea.delete(2),await af(a)):t||(a.Ea.add(2),await Oo(a),a.Ra.set("Unknown"))}function el(i){return i.ma||(i.ma=(function(a,r,l){const u=Te(a);return u.sa(),new I5(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:P5.bind(null,i),t_:B5.bind(null,i),r_:k5.bind(null,i),H_:q5.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Vm(i)?Mm(i):i.Ra.set("Unknown")):(await i.ma.stop(),_x(i))}))),i.ma}function Ki(i){return i.fa||(i.fa=(function(a,r,l){const u=Te(a);return u.sa(),new O5(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:G5.bind(null,i),r_:X5.bind(null,i),ta:Q5.bind(null,i),na:Y5.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await sf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(js,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,a,r,l,u){this.asyncQueue=t,this.timerId=a,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,a,r,l,u){const h=Date.now()+r,m=new Im(t,a,h,l,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(i,t){if(ni("AsyncQueue",`${t}: ${i}`),Wr(i))return new de(ne.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{static emptySet(t){return new Ur(t.comparator)}constructor(t){this.comparator=t?(a,r)=>t(a,r)||pe.comparator(a.key,r.key):(a,r)=>pe.comparator(a.key,r.key),this.keyedMap=uo(),this.sortedSet=new ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const a=this.keyedMap.get(t);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((a,r)=>(t(a),!1)))}add(t){const a=this.delete(t.key);return a.copy(a.keyedMap.insert(t.key,t),a.sortedSet.insert(t,null))}delete(t){const a=this.get(t);return a?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(a)):this}isEqual(t){if(!(t instanceof Ur)||this.size!==t.size)return!1;const a=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;a.hasNext();){const l=a.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((a=>{t.push(a.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,a){const r=new Ur;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=a,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.ga=new ut(pe.comparator)}track(t){const a=t.doc.key,r=this.ga.get(a);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(a,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(a,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(a,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(a):t.type===1&&r.type===2?this.ga=this.ga.insert(a,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):xe(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(a,t)}ya(){const t=[];return this.ga.inorderTraversal(((a,r)=>{t.push(r)})),t}}class Fr{constructor(t,a,r,l,u,h,m,p,g){this.query=t,this.docs=a,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,a,r,l,u){const h=[];return a.forEach((m=>{h.push({type:0,doc:m})})),new Fr(t,a,Ur.emptySet(a),h,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const a=this.docChanges,r=t.docChanges;if(a.length!==r.length)return!1;for(let l=0;l<a.length;l++)if(a[l].type!==r[l].type||!a[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Z5{constructor(){this.queries=R1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,r){const l=Te(a),u=l.queries;l.queries=R1(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function R1(){return new zs((i=>G2(i)),Zc)}async function J5(i,t){const a=Te(i);let r=3;const l=t.query;let u=a.queries.get(l);u?!u.ba()&&t.Da()&&(r=2):(u=new $5,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await a.onListen(l,!0);break;case 1:u.wa=await a.onListen(l,!1);break;case 2:await a.onFirstRemoteStoreListen(l)}}catch(h){const m=Om(h,`Initialization of query '${Vr(t.query)}' failed`);return void t.onError(m)}a.queries.set(l,u),u.Sa.push(t),t.va(a.onlineState),u.wa&&t.Fa(u.wa)&&jm(a)}async function W5(i,t){const a=Te(i),r=t.query;let l=3;const u=a.queries.get(r);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return a.queries.delete(r),a.onUnlisten(r,!0);case 1:return a.queries.delete(r),a.onUnlisten(r,!1);case 2:return a.onLastRemoteStoreUnlisten(r);default:return}}function eT(i,t){const a=Te(i);let r=!1;for(const l of t){const u=l.query,h=a.queries.get(u);if(h){for(const m of h.Sa)m.Fa(l)&&(r=!0);h.wa=l}}r&&jm(a)}function tT(i,t,a){const r=Te(i),l=r.queries.get(t);if(l)for(const u of l.Sa)u.onError(a);r.queries.delete(t)}function jm(i){i.Ca.forEach((t=>{t.next()}))}var Xd,C1;(C1=Xd||(Xd={})).Ma="default",C1.Cache="cache";class nT{constructor(t,a,r){this.query=t,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Fr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let a=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),a=!0):this.La(t,this.onlineState)&&(this.ka(t),a=!0),this.Na=t,a}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),a=!0),a}La(t,a){if(!t.fromCache||!this.Da())return!0;const r=a!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||a==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(t){t=Fr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t){this.key=t}}class wx{constructor(t){this.key=t}}class aT{constructor(t,a){this.query=t,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=Q2(t),this.tu=new Ur(this.eu)}get nu(){return this.Ya}ru(t,a){const r=a?a.iu:new w1,l=a?a.tu:this.tu;let u=a?a.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,T)=>{const N=l.get(b),I=Jc(this.query,T)?T:null,H=!!N&&this.mutatedKeys.has(N.key),G=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let B=!1;N&&I?N.data.isEqual(I.data)?H!==G&&(r.track({type:3,doc:I}),B=!0):this.su(N,I)||(r.track({type:2,doc:I}),B=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(m=!0)):!N&&I?(r.track({type:0,doc:I}),B=!0):N&&!I&&(r.track({type:1,doc:N}),B=!0,(p||g)&&(m=!0)),B&&(I?(h=h.add(I),u=G?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:h,iu:r,Cs:m,mutatedKeys:u}}su(t,a){return t.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(t,a,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((b,T)=>(function(I,H){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:B})}};return G(I)-G(H)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(r),l=l??!1;const m=a&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Fr(this.query,t.tu,u,h,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),t.modifiedDocuments.forEach((a=>{})),t.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const a=[];return t.forEach((r=>{this.Xa.has(r)||a.push(new wx(r))})),this.Xa.forEach((r=>{t.has(r)||a.push(new Ax(r))})),a}cu(t){this.Ya=t.Qs,this.Xa=je();const a=this.ru(t.documents);return this.applyChanges(a,!0)}lu(){return Fr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zm="SyncEngine";class iT{constructor(t,a,r){this.query=t,this.targetId=a,this.view=r}}class sT{constructor(t){this.key=t,this.hu=!1}}class rT{constructor(t,a,r,l,u,h){this.localStore=t,this.remoteStore=a,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new zs((m=>G2(m)),Zc),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new Am,this.Vu={},this.mu=new Map,this.fu=Hr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lT(i,t,a=!0){const r=Vx(i);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Rx(r,t,a,!0),l}async function oT(i,t){const a=Vx(i);await Rx(a,t,!0,!1)}async function Rx(i,t,a,r){const l=await A5(i.localStore,Aa(t)),u=l.targetId,h=i.sharedClientState.addLocalQueryTarget(u,a);let m;return r&&(m=await uT(i,t,u,h==="current",l.resumeToken)),i.isPrimaryClient&&a&&vx(i.remoteStore,l),m}async function uT(i,t,a,r,l){i.pu=(T,N,I)=>(async function(G,B,Z,te){let ie=B.view.ru(Z);ie.Cs&&(ie=await b1(G.localStore,B.query,!1).then((({documents:w})=>B.view.ru(w,ie))));const ve=te&&te.targetChanges.get(B.targetId),le=te&&te.targetMismatches.get(B.targetId)!=null,oe=B.view.applyChanges(ie,G.isPrimaryClient,ve,le);return D1(G,B.targetId,oe.au),oe.snapshot})(i,T,N,I);const u=await b1(i.localStore,t,!0),h=new aT(t,u.Qs),m=h.ru(u.documents),p=Io.createSynthesizedTargetChangeForCurrentChange(a,r&&i.onlineState!=="Offline",l),g=h.applyChanges(m,i.isPrimaryClient,p);D1(i,a,g.au);const b=new iT(t,a,h);return i.Tu.set(t,b),i.Iu.has(a)?i.Iu.get(a).push(t):i.Iu.set(a,[t]),g.snapshot}async function cT(i,t,a){const r=Te(i),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((h=>!Zc(h,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Qd(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),a&&Nm(r.remoteStore,l.targetId),Kd(r,l.targetId)})).catch(Jr)):(Kd(r,l.targetId),await Qd(r.localStore,l.targetId,!0))}async function fT(i,t){const a=Te(i),r=a.Tu.get(t),l=a.Iu.get(r.targetId);a.isPrimaryClient&&l.length===1&&(a.sharedClientState.removeLocalQueryTarget(r.targetId),Nm(a.remoteStore,r.targetId))}async function hT(i,t,a){const r=vT(i);try{const l=await(function(h,m){const p=Te(h),g=it.now(),b=m.reduce(((I,H)=>I.add(H.key)),je());let T,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let H=ai(),G=je();return p.Ns.getEntries(I,b).next((B=>{H=B,H.forEach(((Z,te)=>{te.isValidDocument()||(G=G.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,H))).next((B=>{T=B;const Z=[];for(const te of m){const ie=S6(te,T.get(te.key).overlayedDocument);ie!=null&&Z.push(new Ji(te.key,ie,L2(ie.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,Z,m)})).next((B=>{N=B;const Z=B.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(I,B.batchId,Z)}))})).then((()=>({batchId:N.batchId,changes:X2(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(Oe)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(r,l.batchId,a),await jo(r,l.changes),await sf(r.remoteStore)}catch(l){const u=Om(l,"Failed to persist write");a.reject(u)}}async function Cx(i,t){const a=Te(i);try{const r=await E5(a.localStore,t);t.targetChanges.forEach(((l,u)=>{const h=a.Au.get(u);h&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Ge(h.hu,14607):l.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await jo(a,r,t)}catch(r){await Jr(r)}}function N1(i,t,a){const r=Te(i);if(r.isPrimaryClient&&a===0||!r.isPrimaryClient&&a===1){const l=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&l.push(m.snapshot)})),(function(h,m){const p=Te(h);p.onlineState=m;let g=!1;p.queries.forEach(((b,T)=>{for(const N of T.Sa)N.va(m)&&(g=!0)})),g&&jm(p)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function dT(i,t,a){const r=Te(i);r.sharedClientState.updateQueryState(t,"rejected",a);const l=r.Au.get(t),u=l&&l.key;if(u){let h=new ut(pe.comparator);h=h.insert(u,Zt.newNoDocument(u,_e.min()));const m=je().add(u),p=new tf(_e.min(),new Map,new ut(Oe),h,m);await Cx(r,p),r.du=r.du.remove(u),r.Au.delete(t),Um(r)}else await Qd(r.localStore,t,!1).then((()=>Kd(r,t,a))).catch(Jr)}async function mT(i,t){const a=Te(i),r=t.batch.batchId;try{const l=await _5(a.localStore,t);Dx(a,r,null),Nx(a,r),a.sharedClientState.updateMutationState(r,"acknowledged"),await jo(a,l)}catch(l){await Jr(l)}}async function gT(i,t,a){const r=Te(i);try{const l=await(function(h,m){const p=Te(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ge(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(r.localStore,t);Dx(r,t,a),Nx(r,t),r.sharedClientState.updateMutationState(t,"rejected",a),await jo(r,l)}catch(l){await Jr(l)}}function Nx(i,t){(i.mu.get(t)||[]).forEach((a=>{a.resolve()})),i.mu.delete(t)}function Dx(i,t,a){const r=Te(i);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(a?u.reject(a):u.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Kd(i,t,a=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),a&&i.Pu.yu(r,a);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||Mx(i,r)}))}function Mx(i,t){i.Eu.delete(t.path.canonicalString());const a=i.du.get(t);a!==null&&(Nm(i.remoteStore,a),i.du=i.du.remove(t),i.Au.delete(a),Um(i))}function D1(i,t,a){for(const r of a)r instanceof Ax?(i.Ru.addReference(r.key,t),pT(i,r)):r instanceof wx?(ue(zm,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||Mx(i,r.key)):xe(19791,{wu:r})}function pT(i,t){const a=t.key,r=a.path.canonicalString();i.du.get(a)||i.Eu.has(r)||(ue(zm,"New document in limbo: "+a),i.Eu.add(r),Um(i))}function Um(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const a=new pe(at.fromString(t)),r=i.fu.next();i.Au.set(r,new sT(a)),i.du=i.du.insert(a,r),vx(i.remoteStore,new Pi(Aa(vm(a.path)),r,"TargetPurposeLimboResolution",Yc.ce))}}async function jo(i,t,a){const r=Te(i),l=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{h.push(r.pu(p,t,a).then((g=>{if((g||a)&&r.isPrimaryClient){const b=g?!g.fromCache:a?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){l.push(g);const b=Rm.As(p.targetId,g);u.push(b)}})))})),await Promise.all(h),r.Pu.H_(l),await(async function(p,g){const b=Te(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(g,(N=>ee.forEach(N.Es,(I=>b.persistence.referenceDelegate.addReference(T,N.targetId,I))).next((()=>ee.forEach(N.ds,(I=>b.persistence.referenceDelegate.removeReference(T,N.targetId,I)))))))))}catch(T){if(!Wr(T))throw T;ue(Cm,"Failed to update sequence numbers: "+T)}for(const T of g){const N=T.targetId;if(!T.fromCache){const I=b.Ms.get(N),H=I.snapshotVersion,G=I.withLastLimboFreeSnapshotVersion(H);b.Ms=b.Ms.insert(N,G)}}})(r.localStore,u))}async function yT(i,t){const a=Te(i);if(!a.currentUser.isEqual(t)){ue(zm,"User change. New user:",t.toKey());const r=await gx(a.localStore,t);a.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new de(ne.CANCELLED,h))}))})),u.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await jo(a,r.Ls)}}function xT(i,t){const a=Te(i),r=a.Au.get(t);if(r&&r.hu)return je().add(r.key);{let l=je();const u=a.Iu.get(t);if(!u)return l;for(const h of u){const m=a.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function Vx(i){const t=Te(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dT.bind(null,t),t.Pu.H_=eT.bind(null,t.eventManager),t.Pu.yu=tT.bind(null,t.eventManager),t}function vT(i){const t=Te(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gT.bind(null,t),t}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=nf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,a){return null}Mu(t,a){return null}vu(t){return b5(this.persistence,new y5,t.initialUser,this.serializer)}Cu(t){return new mx(wm.mi,this.serializer)}Du(t){return new R5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class bT extends kc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,a){Ge(this.persistence.referenceDelegate instanceof Pc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new n5(r,t.asyncQueue,a)}Cu(t){const a=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new mx((r=>Pc.mi(r,a)),this.serializer)}}class $d{async initialize(t,a){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yT.bind(null,this.syncEngine),await K5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Z5})()}createDatastore(t){const a=nf(t.databaseInfo.databaseId),r=(function(u){return new V5(u)})(t.databaseInfo);return(function(u,h,m,p){return new z5(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,r,a)}createRemoteStore(t){return(function(r,l,u,h,m){return new L5(r,l,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(a=>N1(this.syncEngine,a,0)),(function(){return T1.v()?new T1:new C5})())}createSyncEngine(t,a){return(function(l,u,h,m,p,g,b){const T=new rT(l,u,h,m,p,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,a)}async terminate(){await(async function(a){const r=Te(a);ue(js,"RemoteStore shutting down."),r.Ea.add(5),await Oo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$d.provider={build:()=>new $d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ni("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,a){setTimeout((()=>{this.muted||t(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="FirestoreClient";class ET{constructor(t,a,r,l,u){this.authCredentials=t,this.appCheckCredentials=a,this.asyncQueue=r,this.databaseInfo=l,this.user=$t.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{ue($i,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(ue($i,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(a){const r=Om(a,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ad(i,t){i.asyncQueue.verifyOperationInProgress(),ue($i,"Initializing OfflineComponentProvider");const a=i.configuration;await t.initialize(a);let r=a.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await gx(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function M1(i,t){i.asyncQueue.verifyOperationInProgress();const a=await TT(i);ue($i,"Initializing OnlineComponentProvider"),await t.initialize(a,i.configuration),i.setCredentialChangeListener((r=>A1(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>A1(t.remoteStore,l))),i._onlineComponents=t}async function TT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue($i,"Using user provided OfflineComponentProvider");try{await Ad(i,i._uninitializedComponentsProvider._offline)}catch(t){const a=t;if(!(function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(a))throw a;Pr("Error using user provided cache. Falling back to memory cache: "+a),await Ad(i,new kc)}}else ue($i,"Using default OfflineComponentProvider"),await Ad(i,new bT(void 0));return i._offlineComponents}async function Ix(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue($i,"Using user provided OnlineComponentProvider"),await M1(i,i._uninitializedComponentsProvider._online)):(ue($i,"Using default OnlineComponentProvider"),await M1(i,new $d))),i._onlineComponents}function ST(i){return Ix(i).then((t=>t.syncEngine))}async function V1(i){const t=await Ix(i),a=t.eventManager;return a.onListen=lT.bind(null,t.syncEngine),a.onUnlisten=cT.bind(null,t.syncEngine),a.onFirstRemoteStoreListen=oT.bind(null,t.syncEngine),a.onLastRemoteStoreUnlisten=fT.bind(null,t.syncEngine),a}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="firestore.googleapis.com",O1=!0;class j1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jx,this.ssl=O1}else this.host=t.host,this.ssl=t.ssl??O1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<e5)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}UE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ox(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rf{constructor(t,a,r,l){this._authCredentials=t,this._appCheckCredentials=a,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new RE;switch(r.type){case"firstParty":return new ME(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const r=I1.get(a);r&&(ue("ComponentProvider","Removing Datastore"),I1.delete(a),r.terminate())})(this),Promise.resolve()}}function AT(i,t,a,r={}){i=Ja(i,rf);const l=um(t),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${a}`;l&&(e3(`https://${m}`),i3("Firestore",!0)),u.host!==jx&&u.host!==m&&Pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:l,emulatorOptions:r};if(!Cc(p,h)&&(i._setSettings(p),r.mockUserToken)){let g,b;if(typeof r.mockUserToken=="string")g=r.mockUserToken,b=$t.MOCK_USER;else{g=t3(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $t(T)}i._authCredentials=new CE(new w2(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,a,r){this.converter=a,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new lf(this.firestore,t,this._query)}}class Nt{constructor(t,a,r){this.converter=a,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Nt(this.firestore,t,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,a,r){if(Mo(a,Nt._jsonSchema))return new Nt(t,r||null,new pe(at.fromString(a.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Ct("string",Nt._jsonSchemaVersion),referencePath:Ct("string")};class Fi extends lf{constructor(t,a,r){super(t,a,vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Nt(this.firestore,null,new pe(t))}withConverter(t){return new Fi(this.firestore,t,this._path)}}function zx(i,t,...a){if(i=ei(i),R2("collection","path",t),i instanceof rf){const r=at.fromString(t,...a);return Xy(r),new Fi(i,null,r)}{if(!(i instanceof Nt||i instanceof Fi))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(at.fromString(t,...a));return Xy(r),new Fi(i.firestore,null,r)}}function $a(i,t,...a){if(i=ei(i),arguments.length===1&&(t=hm.newId()),R2("doc","path",t),i instanceof rf){const r=at.fromString(t,...a);return Yy(r),new Nt(i,null,new pe(r))}{if(!(i instanceof Nt||i instanceof Fi))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(at.fromString(t,...a));return Yy(r),new Nt(i.firestore,i instanceof Fi?i.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="AsyncQueue";class U1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yx(this,"async_queue_retry"),this._c=()=>{const r=Sd();r&&ue(z1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const a=Sd();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const a=Sd();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Wr(t))throw t;ue(z1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const a=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ni("INTERNAL UNHANDLED ERROR: ",L1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=a,a}enqueueAfterDelay(t,a,r){this.uc(),this.oc.indexOf(t)>-1&&(a=0);const l=Im.createAndSchedule(this,t,a,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&xe(47125,{Pc:L1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const a of this.tc)if(a.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((a,r)=>a.targetTimeMs-r.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),t!=="all"&&a.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const a=this.tc.indexOf(t);this.tc.splice(a,1)}}function L1(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(i){return(function(a,r){if(typeof a!="object"||a===null)return!1;const l=a;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Gr extends rf{constructor(t,a,r,l){super(t,a,r,l),this.type="firestore",this._queue=new U1,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new U1(t),this._firestoreClient=void 0,await t}}}function wT(i,t){const a=typeof i=="object"?i:mE(),r=typeof i=="string"?i:Vc,l=uE(a,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=J4("firestore");u&&AT(l,...u)}return l}function Ux(i){if(i._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||RT(i),i._firestoreClient}function RT(i){const t=i._freezeSettings(),a=(function(l,u,h,m){return new XE(l,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ox(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new ET(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Yt.fromBase64String(t))}catch(a){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(t){return new Un(Yt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Mo(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ct("string",Un._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(...t){for(let a=0;a<t.length;++a)if(t[a].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t,a){if(!isFinite(t)||t<-90||t>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(a)||a<-180||a>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=t,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Oe(this._lat,t._lat)||Oe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ra._jsonSchemaVersion}}static fromJSON(t){if(Mo(t,Ra._jsonSchema))return new Ra(t.latitude,t.longitude)}}Ra._jsonSchemaVersion="firestore/geoPoint/1.0",Ra._jsonSchema={type:Ct("string",Ra._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t){this._values=(t||[]).map((a=>a))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ca._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Mo(t,Ca._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((a=>typeof a=="number")))return new Ca(t.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ca._jsonSchemaVersion="firestore/vectorValue/1.0",Ca._jsonSchema={type:Ct("string",Ca._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=/^__.*__$/;class NT{constructor(t,a,r){this.data=t,this.fieldMask=a,this.fieldTransforms=r}toMutation(t,a){return this.fieldMask!==null?new Ji(t,this.data,this.fieldMask,a,this.fieldTransforms):new Vo(t,this.data,a,this.fieldTransforms)}}class Lx{constructor(t,a,r){this.data=t,this.fieldMask=a,this.fieldTransforms=r}toMutation(t,a){return new Ji(t,this.data,this.fieldMask,a,this.fieldTransforms)}}function Px(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:i})}}class Pm{constructor(t,a,r,l,u,h){this.settings=t,this.databaseId=a,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Pm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const a=this.path?.child(t),r=this.Vc({path:a,fc:!1});return r.gc(t),r}yc(t){const a=this.path?.child(t),r=this.Vc({path:a,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((a=>t.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>t.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Px(this.Ac)&&CT.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class DT{constructor(t,a,r){this.databaseId=t,this.ignoreUndefinedProperties=a,this.serializer=r||nf(t)}Cc(t,a,r,l=!1){return new Pm({Ac:t,methodName:a,Dc:r,path:Qt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bx(i){const t=i._freezeSettings(),a=nf(i._databaseId);return new DT(i._databaseId,!!t.ignoreUndefinedProperties,a)}function MT(i,t,a,r,l,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,t,a,l);Bm("Data must be an object, but it was:",h,r);const m=kx(r,h);let p,g;if(u.merge)p=new En(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const N=Zd(t,T,a);if(!h.contains(N))throw new de(ne.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Hx(b,N)||b.push(N)}p=new En(b),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new NT(new cn(m),p,g)}class uf extends Lm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof uf}}function VT(i,t,a,r){const l=i.Cc(1,t,a);Bm("Data must be an object, but it was:",l,r);const u=[],h=cn.empty();Zi(r,((p,g)=>{const b=km(t,p,a);g=ei(g);const T=l.yc(b);if(g instanceof uf)u.push(b);else{const N=cf(g,T);N!=null&&(u.push(b),h.set(b,N))}}));const m=new En(u);return new Lx(h,m,l.fieldTransforms)}function IT(i,t,a,r,l,u){const h=i.Cc(1,t,a),m=[Zd(t,r,a)],p=[l];if(u.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)m.push(Zd(t,u[N])),p.push(u[N+1]);const g=[],b=cn.empty();for(let N=m.length-1;N>=0;--N)if(!Hx(g,m[N])){const I=m[N];let H=p[N];H=ei(H);const G=h.yc(I);if(H instanceof uf)g.push(I);else{const B=cf(H,G);B!=null&&(g.push(I),b.set(I,B))}}const T=new En(g);return new Lx(b,T,h.fieldTransforms)}function cf(i,t){if(qx(i=ei(i)))return Bm("Unsupported field value:",t,i),kx(i,t);if(i instanceof Lm)return(function(r,l){if(!Px(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let h=0;for(const m of r){let p=cf(m,l.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(r,l){if((r=ei(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return x6(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=it.fromDate(r);return{timestampValue:Lc(l.serializer,u)}}if(r instanceof it){const u=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lc(l.serializer,u)}}if(r instanceof Ra)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:rx(l.serializer,r._byteString)};if(r instanceof Nt){const u=l.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw l.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ca)return(function(h,m){return{mapValue:{fields:{[z2]:{stringValue:U2},[Ic]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return bm(m.serializer,g)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${dm(r)}`)})(i,t)}function kx(i,t){const a={};return D2(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zi(i,((r,l)=>{const u=cf(l,t.mc(r));u!=null&&(a[r]=u)})),{mapValue:{fields:a}}}function qx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Ra||i instanceof Un||i instanceof Nt||i instanceof Lm||i instanceof Ca)}function Bm(i,t,a){if(!qx(a)||!C2(a)){const r=dm(a);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function Zd(i,t,a){if((t=ei(t))instanceof of)return t._internalPath;if(typeof t=="string")return km(i,t);throw qc("Field path arguments must be of type string or ",i,!1,void 0,a)}const OT=new RegExp("[~\\*/\\[\\]]");function km(i,t,a){if(t.search(OT)>=0)throw qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,a);try{return new of(...t.split("."))._internalPath}catch{throw qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,a)}}function qc(i,t,a,r,l){const u=r&&!r.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;a&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${l}`),p+=")"),new de(ne.INVALID_ARGUMENT,m+i+p)}function Hx(i,t){return i.some((a=>a.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,a,r,l,u){this._firestore=t,this._userDataWriter=a,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const a=this._document.data.field(Gx("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a)}}}class jT extends Fx{data(){return super.data()}}function Gx(i,t){return typeof t=="string"?km(i,t):t instanceof of?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UT{convertValue(t,a="none"){switch(Xi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,a);case 5:return t.stringValue;case 6:return this.convertBytes(Yi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,a);case 11:return this.convertObject(t.mapValue,a);case 10:return this.convertVectorValue(t.mapValue);default:throw xe(62114,{value:t})}}convertObject(t,a){return this.convertObjectMap(t.fields,a)}convertObjectMap(t,a="none"){const r={};return Zi(t,((l,u)=>{r[l]=this.convertValue(u,a)})),r}convertVectorValue(t){const a=t.fields?.[Ic].arrayValue?.values?.map((r=>pt(r.doubleValue)));return new Ca(a)}convertGeoPoint(t){return new Ra(pt(t.latitude),pt(t.longitude))}convertArray(t,a){return(t.values||[]).map((r=>this.convertValue(r,a)))}convertServerTimestamp(t,a){switch(a){case"previous":const r=Kc(t);return r==null?null:this.convertValue(r,a);case"estimate":return this.convertTimestamp(So(t));default:return null}}convertTimestamp(t){const a=Qi(t);return new it(a.seconds,a.nanos)}convertDocumentKey(t,a){const r=at.fromString(t);Ge(hx(r),9688,{name:t});const l=new Ao(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return l.isEqual(a)||ni(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(i,t,a){let r;return r=i?i.toFirestore(t):t,r}class fo{constructor(t,a){this.hasPendingWrites=t,this.fromCache=a}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Is extends Fx{constructor(t,a,r,l,u,h){super(t,a,r,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const a=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,a={}){if(this._document){const r=this._document.data.field(Gx("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,a={};return a.type=Is._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Is._jsonSchemaVersion="firestore/documentSnapshot/1.0",Is._jsonSchema={type:Ct("string",Is._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Ac extends Is{data(t={}){return super.data(t)}}class Lr{constructor(t,a,r,l){this._firestore=t,this._userDataWriter=a,this._snapshot=l,this.metadata=new fo(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((a=>t.push(a))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,a){this._snapshot.docs.forEach((r=>{t.call(a,new Ac(this._firestore,this._userDataWriter,r.key,r,new fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const a=!!t.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((m=>{const p=new Ac(l._firestore,l._userDataWriter,m.doc.key,m.doc,new fo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ac(l._firestore,l._userDataWriter,m.doc.key,m.doc,new fo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,b=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:PT(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Lr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(a.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}Lr._jsonSchemaVersion="firestore/querySnapshot/1.0",Lr._jsonSchema={type:Ct("string",Lr._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Qx extends UT{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const a=this.convertDocumentKey(t,this.firestore._databaseId);return new Nt(this.firestore,null,a)}}function B1(i,t,a){i=Ja(i,Nt);const r=Ja(i.firestore,Gr),l=LT(i.converter,t);return qm(r,[MT(Bx(r),"setDoc",i._key,l,i.converter!==null,a).toMutation(i._key,Zn.none())])}function Nr(i,t,a,...r){i=Ja(i,Nt);const l=Ja(i.firestore,Gr),u=Bx(l);let h;return h=typeof(t=ei(t))=="string"||t instanceof of?IT(u,"updateDoc",i._key,t,a,r):VT(u,"updateDoc",i._key,t),qm(l,[h.toMutation(i._key,Zn.exists(!0))])}function BT(i){return qm(Ja(i.firestore,Gr),[new _m(i._key,Zn.none())])}function k1(i,...t){i=ei(i);let a={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||P1(t[r])||(a=t[r++]);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(P1(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof Nt)h=Ja(i.firestore,Gr),m=vm(i._key.path),u={next:p=>{t[r]&&t[r](kT(h,i,p))},error:t[r+1],complete:t[r+2]};else{const p=Ja(i,lf);h=Ja(p.firestore,Gr),m=p._query;const g=new Qx(h);u={next:b=>{t[r]&&t[r](new Lr(h,g,p,b))},error:t[r+1],complete:t[r+2]},zT(i._query)}return(function(g,b,T,N){const I=new _T(N),H=new nT(b,I,T);return g.asyncQueue.enqueueAndForget((async()=>J5(await V1(g),H))),()=>{I.Nu(),g.asyncQueue.enqueueAndForget((async()=>W5(await V1(g),H)))}})(Ux(h),m,l,u)}function qm(i,t){return(function(r,l){const u=new Vs;return r.asyncQueue.enqueueAndForget((async()=>hT(await ST(r),l,u))),u.promise})(Ux(i),t)}function kT(i,t,a){const r=a.docs.get(t._key),l=new Qx(i);return new Is(i,l,t._key,r,new fo(a.hasPendingWrites,a.fromCache),t.converter)}(function(t,a=!0){(function(l){Zr=l})(dE),Dc(new _o("firestore",((r,{instanceIdentifier:l,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new Gr(new NE(r.getProvider("auth-internal")),new VE(h,r.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(g.options.projectId,b)})(h,l),h);return u={useFetchStreams:a,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),zr(Hy,Fy,t),zr(Hy,Fy,"esm2020")})();const qT={apiKey:"AIzaSyCG0ogFYqNhUrYs5ffm7ATC7KLowmOkes8",authDomain:"fezeaix-commission.firebaseapp.com",projectId:"fezeaix-commission",storageBucket:"fezeaix-commission.firebasestorage.app",messagingSenderId:"277309240523",appId:"1:277309240523:web:280f97eed392384256574e",measurementId:"G-PQY9EZ3JV9"},HT=p2(qT),Ta=wT(HT),Yx=L.createContext(null),Tn=()=>L.useContext(Yx),FT=zx(Ta,"users"),q1=zx(Ta,"commissions"),GT=()=>{"Notification"in window?Notification.permission!=="denied"&&Notification.requestPermission().then(i=>{i==="granted"&&console.log("Notification permission granted.")}):console.warn("This browser does not support desktop notification")},H1=(i,t)=>{Notification.permission==="granted"&&new Notification(i,{body:t,icon:"/pwa-192x192-v2.png"})},QT=({children:i})=>{const[t,a]=L.useState(null),[r,l]=L.useState(!0),[u,h]=L.useState([]),[m,p]=L.useState([]),g=L.useRef([]);L.useEffect(()=>{const le=localStorage.getItem("currentUser");if(le){const oe=JSON.parse(le),{password:w,...A}=oe;a(A)}l(!1)},[]),L.useEffect(()=>{const le=k1(FT,oe=>{const w=oe.docs.map(A=>({...A.data(),id:A.id}));p(w)},oe=>{console.error("Error fetching users:",oe)});return()=>le()},[]),L.useEffect(()=>{const le=k1(q1,oe=>{const w=oe.docs.map(A=>({...A.data(),id:A.id}));if(t&&g.current.length>0&&w.length>0){let A=!1,R=!1,O="",V="";w.forEach(M=>{const C=g.current.find(X=>X.id===M.id),Ce=!C,Ne=C&&(M.messages?.length||0)>(C.messages?.length||0);if(Ce&&t.role==="admin"){A=!0,O="New Commission Request!",V=`${M.requesterUsername} requested ${M.commissionType}.`;return}if(Ne){const X=M.messages[M.messages.length-1];if(t.role==="admin"&&M.requesterUsername!==X.sender){R=!0,O=`New Message from ${M.requesterUsername}`,V=`${M.commissionType}: ${X.text}`;return}if(t.role!=="admin"&&M.requesterUsername===t.username&&X.sender==="fezeaix"){R=!0,O="Message from Artist (Fezeaix)",V=`${M.commissionType}: ${X.text}`;return}}}),A?(new Audio("/notification_request.mp3").play().catch(C=>console.log("New Request Audio playback blocked",C)),H1(O,V)):R&&(new Audio("/notification.mp3").play().catch(C=>console.log("New Message Audio playback blocked",C)),H1(O,V))}g.current=w,h(w)},oe=>{console.error("Error fetching commissions:",oe)});return()=>le()},[t]);const b=async(le,oe)=>{try{if(m.some(O=>O.username===le))return{success:!1,message:"Username already exists."};const A=await vc(oe,10),R={username:le,password:A,role:le.toLowerCase()==="fezeaix"?"admin":"user"};return await B1($a(Ta,"users",le),R),{success:!0,message:"Registration successful! Please login."}}catch(w){return console.error("Registration error:",w),{success:!1,message:"Registration failed due to server error."}}},T=async(le,oe)=>{try{const w=m.find(A=>A.username===le);if(w){const A=w.password;let R=!1,O=!1;if(A?.startsWith("$2a$")||A?.startsWith("$2b$")||A?.startsWith("$2y$")||(A?.length||0)>50)try{R=await Ay(oe,A)}catch(M){console.warn("Bcrypt compare failed, trying plain text match.",M)}if(R||oe===A&&(R=!0,O=!0),R){if(O){console.warn(`User ${le} logged in with plain text password. Upgrading to hash...`);const Ce=await vc(oe,10),Ne=$a(Ta,"users",le);await Nr(Ne,{password:Ce}),w.password=Ce}const{password:M,...C}=w;return a(C),localStorage.setItem("currentUser",JSON.stringify(C)),{success:!0,message:"Login successful!"}}}return{success:!1,message:"Invalid username or password."}}catch(w){return console.error("Login error:",w),{success:!1,message:"Login failed due to server error."}}},N=()=>{a(null),localStorage.removeItem("currentUser")},I=async(le,oe)=>{if(!t)return{success:!1,message:"User not logged in."};try{const w=m.find(X=>X.username===t.username);if(!w)return{success:!1,message:"User data not found."};const A=w.password;let R=!1;if(A?.startsWith("$2a$")||A?.startsWith("$2b$")||A?.startsWith("$2y$")||(A?.length||0)>50?R=await Ay(le,A):R=le===A,!R)return{success:!1,message:"Current password is incorrect."};const V=await vc(oe,10),M=$a(Ta,"users",t.username);await Nr(M,{password:V});const C={...t,password:V},{password:Ce,...Ne}=C;return a(Ne),localStorage.setItem("currentUser",JSON.stringify(Ne)),{success:!0,message:"Password updated successfully!"}}catch(w){return console.error("Change password error:",w),{success:!1,message:"Failed to change password."}}},H=async le=>{try{const oe={id:Date.now().toString(),...le,status:"New Request",timestamp:new Date().toISOString(),messages:[{id:Date.now()+1,sender:"System",text:`New Commission Request for ${le.commissionType} received. Price: $${le.price}. The artist will contact you via this chat to confirm details.`,timestamp:new Date().toISOString()}]};return await B1($a(q1),oe),{success:!0,message:"Commission request submitted successfully! Please check your Messages for updates from the artist."}}catch(oe){return console.error("Add commission error:",oe),{success:!1,message:"Failed to submit commission request."}}},G=async le=>{try{return await BT($a(Ta,"commissions",le)),{success:!0,message:"Commission request deleted."}}catch(oe){return console.error("Delete commission error:",oe),{success:!1,message:"Failed to delete commission request."}}},B=async(le,oe)=>{try{const w=$a(Ta,"commissions",le);return await Nr(w,{status:oe,timestamp:new Date().toISOString()}),{success:!0,message:"Commission status updated."}}catch(w){return console.error("Update status error:",w),{success:!1,message:"Failed to update commission status."}}},Z=async(le,oe,w)=>{if(w.trim())try{const A=$a(Ta,"commissions",le),R=u.find(M=>M.id===le);if(!R)return{success:!1};const O={id:Date.now()+Math.random(),sender:oe,text:w,timestamp:new Date().toISOString()},V=R.status==="New Request"?"Pending Payment":R.status;return await Nr(A,{messages:[...R.messages||[],O],status:V}),{success:!0}}catch(A){return console.error("Add message error:",A),{success:!1}}},te=async(le,oe)=>{try{const w=$a(Ta,"commissions",le),A=u.find(O=>O.id===le);if(!A)return{success:!1,message:"Request not found."};const R=A.messages.filter(O=>O.id!==oe);return await Nr(w,{messages:R}),{success:!0}}catch(w){return console.error("Delete message error:",w),{success:!1,message:"Failed to delete message."}}},ie=async(le,oe)=>{if(!(!t||t.role==="admin"))try{const w=$a(Ta,"commissions",le);await Nr(w,{[`lastViewedByClient.${t.username}`]:oe})}catch(w){console.error("Error setting client viewed timestamp:",w)}},ve={user:t,loading:r,register:b,login:T,logout:N,isAuthenticated:!!t,isAdmin:t&&t.role==="admin",commissionRequests:u,addCommissionRequest:H,deleteCommissionRequest:G,addMessageToCommissionRequest:Z,deleteMessageFromCommissionRequest:te,updateCommissionStatus:B,changePassword:I,setClientMessagesViewed:ie,requestNotificationPermission:GT};return _.jsx(Yx.Provider,{value:ve,children:i})};function YT(){const[i,t]=L.useState(""),[a,r]=L.useState(""),[l,u]=L.useState(""),{login:h}=Tn(),m=Kr(),p=async g=>{if(g.preventDefault(),u(""),!i||!a){u("Please enter both username and password.");return}const b=await h(i,a);b.success?m("/dashboard/gallery"):u(b.message)};return _.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-800",children:_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[_.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Login to Fezeaix Commission"}),_.jsxs("form",{onSubmit:p,children:[" ",_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Username"}),_.jsx("input",{type:"text",id:"username",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username",value:i,onChange:g=>t(g.target.value)})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Password"}),_.jsx("input",{type:"password",id:"password",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"********",value:a,onChange:g=>r(g.target.value)})]}),l&&_.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:l}),_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-full transition-colors duration-200",children:"Sign In"})}),_.jsxs("p",{className:"text-center text-gray-600 text-sm mt-4",children:["Don't have an account? ",_.jsx(_n,{to:"/register",className:"text-blue-600 hover:text-blue-800 font-bold transition-colors duration-200",children:"Register here"})]})]})]})})}const XT=i=>i.length<8||i.length>16?"Password must be between 8 and 16 characters long.":/[A-Z]/.test(i)?/[a-z]/.test(i)?/[0-9]/.test(i)?null:"Password must contain at least one number (0-9).":"Password must contain at least one lowercase letter (a-z).":"Password must contain at least one uppercase letter (A-Z).";function KT(){const[i,t]=L.useState(""),[a,r]=L.useState(""),[l,u]=L.useState(""),[h,m]=L.useState(""),[p,g]=L.useState(""),[b,T]=L.useState(""),{register:N}=Tn(),I=Kr(),H=async G=>{if(G.preventDefault(),g(""),T(""),!a||!l||!i||!h){g("Please fill in all fields.");return}if(l!==h){g("Passwords do not match.");return}const B=XT(l);if(B){g(B);return}const Z=await N(a,l);Z.success?(T(Z.message),setTimeout(()=>{I("/login")},2e3)):g(Z.message)};return _.jsx("div",{className:"flex items-center justify-center min-h-screen bg-blue-800",children:_.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md",children:[_.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Create your Fezeaix Account"}),_.jsxs("form",{onSubmit:H,children:[" ",_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"displayname",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Display Name"}),_.jsx("input",{type:"text",id:"displayname",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your display name",value:i,onChange:G=>t(G.target.value)})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"username",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Username"}),_.jsx("input",{type:"text",id:"username",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Choose a username",value:a,onChange:G=>r(G.target.value)})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Password"}),_.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Min 8-16 chars, include A-Z, a-z, 0-9."}),_.jsx("input",{type:"password",id:"password",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",value:l,onChange:G=>u(G.target.value)})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{htmlFor:"confirmPassword",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Confirm Password"}),_.jsx("input",{type:"password",id:"confirmPassword",className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",value:h,onChange:G=>m(G.target.value)})]}),p&&_.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:p}),b&&_.jsx("p",{className:"text-green-500 text-sm mb-4 text-center",children:b}),_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-full transition-colors duration-200",children:"Register"})}),_.jsxs("p",{className:"text-center text-gray-600 text-sm mt-4",children:["Already have an account?",_.jsx(_n,{to:"/login",className:"text-blue-600 hover:text-blue-800 font-bold transition-colors duration-200",children:"Login here"})]})]})]})})}var Xx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F1=Bi.createContext&&Bi.createContext(Xx),$T=["attr","size","title"];function ZT(i,t){if(i==null)return{};var a=JT(i,t),r,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(l=0;l<u.length;l++)r=u[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(a[r]=i[r])}return a}function JT(i,t){if(i==null)return{};var a={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;a[r]=i[r]}return a}function Hc(){return Hc=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}return i},Hc.apply(this,arguments)}function G1(i,t){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),a.push.apply(a,r)}return a}function Fc(i){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(a),!0).forEach(function(r){WT(i,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):G1(Object(a)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(a,r))})}return i}function WT(i,t,a){return t=e9(t),t in i?Object.defineProperty(i,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[t]=a,i}function e9(i){var t=t9(i,"string");return typeof t=="symbol"?t:t+""}function t9(i,t){if(typeof i!="object"||!i)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var r=a.call(i,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function Kx(i){return i&&i.map((t,a)=>Bi.createElement(t.tag,Fc({key:a},t.attr),Kx(t.child)))}function yt(i){return t=>Bi.createElement(n9,Hc({attr:Fc({},i.attr)},t),Kx(i.child))}function n9(i){var t=a=>{var{attr:r,size:l,title:u}=i,h=ZT(i,$T),m=l||a.size||"1em",p;return a.className&&(p=a.className),i.className&&(p=(p?p+" ":"")+i.className),Bi.createElement("svg",Hc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,h,{className:p,style:Fc(Fc({color:i.color||a.color},a.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Bi.createElement("title",null,u),i.children)};return F1!==void 0?Bi.createElement(F1.Consumer,null,a=>t(a)):t(Xx)}function a9(i){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(i)}function i9(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(i)}function s9(i){return yt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(i)}function r9(i){return yt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(i)}function l9(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(i)}function o9(i){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(i)}function u9(i){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(i)}function c9(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(i)}function $x(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(i)}function f9(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(i)}function h9(i){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(i)}function d9(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(i)}function Jd(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"},child:[]}]})(i)}function Zx(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(i)}function m9(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},child:[]}]})(i)}function g9(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(i)}function p9(i){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(i)}function y9(i){return yt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function Hm(i){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(i)}function x9(i){return yt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(i)}function v9(i){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"},child:[]}]})(i)}function b9({requests:i,messageAlerts:t,handleClose:a}){const r=[...i.map(l=>({...l,type:"REQUEST",title:`${l.requesterUsername} requested ${l.commissionType}`,subtitle:"Status: New Request"})),...t.map(l=>({...l,type:"MESSAGE",title:`New Message from ${l.requesterUsername}`,subtitle:`${l.commissionType}: ${l.messages[l.messages.length-1].text}`}))].sort((l,u)=>new Date(u.timestamp)-new Date(l.timestamp));return _.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-xl overflow-hidden animate-fade-in z-50 border border-gray-200",children:[_.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Notifications"}),_.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[r.length," New"]})]}),r.length===0?_.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."}):_.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[r.map(l=>_.jsxs(_n,{to:"/dashboard/inbox",onClick:a,className:"flex flex-col p-3 hover:bg-gray-50 border-b border-gray-100 transition-colors",children:[_.jsxs("p",{className:"text-sm font-semibold text-blue-600 truncate",children:[" ",l.type==="REQUEST"?"New Request":"New Message"]}),_.jsx("p",{className:"text-xs text-gray-500 mt-1 font-medium",children:l.title}),_.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:l.subtitle}),_.jsx("span",{className:"text-xs text-gray-400 mt-1 self-end",children:new Date(l.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},l.id)),_.jsx(_n,{to:"/dashboard/inbox",onClick:a,className:"block py-2 text-center text-sm font-semibold text-blue-600 hover:bg-blue-50 transition-colors",children:"View All in Inbox"})]})]})}function _9(){const{user:i,logout:t,commissionRequests:a,isAdmin:r,requestNotificationPermission:l}=Tn(),u=Kr(),h=ii(),[m,p]=L.useState(!1),g=L.useRef(null),[b,T]=L.useState(()=>{const M=localStorage.getItem("viewedRequests");return M?JSON.parse(M):[]}),[N,I]=L.useState(()=>{const M=localStorage.getItem("adminLastViewedMessages");return M?JSON.parse(M):{}}),[H,G]=L.useState(Notification.permission);L.useEffect(()=>{localStorage.setItem("viewedRequests",JSON.stringify(b))},[b]),L.useEffect(()=>{localStorage.setItem("adminLastViewedMessages",JSON.stringify(N))},[N]);const B=()=>{l(),G(Notification.permission)},Z=a.reduce((M,C)=>{if(C.requesterUsername!==i?.username)return M;const Ce=C.messages&&C.messages.length>0?C.messages[C.messages.length-1]:null;if(!Ce||Ce.sender!=="fezeaix")return M;const Ne=C.lastViewedByClient?.[i.username]||new Date(0).toISOString();return new Date(Ce.timestamp).getTime()>new Date(Ne).getTime()?M+1:M},0),te=a.filter(M=>M.status==="New Request"&&!b.includes(M.id)),ie=te.length,ve=a.filter(M=>{const C=M.messages&&M.messages.length>0?M.messages[M.messages.length-1]:null;if(!C||M.status==="New Request"||!(C.sender!=="fezeaix"&&C.sender!=="System"))return!1;const Ne=N[M.id]||new Date(0).toISOString();return new Date(C.timestamp).getTime()>new Date(Ne).getTime()}),le=ve.length,oe=ie+le,w=r?oe:Z,A=()=>{t(),u("/login")},R=()=>{r?p(M=>{if(!M){const C=te.map(X=>X.id);T(X=>[...new Set([...X,...C])]);const Ce=new Date().toISOString(),Ne={...N};ve.forEach(X=>{Ne[X.id]=Ce}),I(Ne)}return!M}):u("/dashboard/messages")},O=()=>{p(!1);const M=new Date().toISOString(),C=te.map(Ne=>Ne.id);T(Ne=>[...new Set([...Ne,...C])]);const Ce={...N};ve.forEach(Ne=>{Ce[Ne.id]=M}),I(Ce)};L.useEffect(()=>{function M(C){g.current&&!g.current.contains(C.target)&&O()}return r&&document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[g,r,ie,le]);const V=M=>`flex items-center p-3 rounded-lg transition-colors duration-200 ${h.pathname.startsWith(`/dashboard/${M}`)?"bg-blue-700 text-white font-bold shadow-md":"text-blue-200 hover:bg-blue-700 hover:text-white"}`;return _.jsxs("div",{className:"flex h-screen bg-gray-100",children:[_.jsxs("aside",{className:"w-72 bg-blue-900 text-blue-100 flex flex-col shadow-lg",children:[_.jsxs("div",{className:"p-5 text-2xl font-bold border-b border-blue-800 flex items-center",children:[_.jsx(Jd,{className:"mr-3 text-blue-300"}),"Fezeaix Commission"]}),_.jsx("nav",{className:"flex-1 p-5 overflow-y-auto",children:_.jsxs("ul",{children:[_.jsx("li",{className:"mb-2",children:_.jsxs(_n,{to:"/dashboard/gallery",className:V("gallery"),children:[_.jsx(f9,{className:"mr-3 text-blue-300"})," Gallery"]})}),_.jsx("li",{className:"mb-2",children:_.jsxs(_n,{to:"/dashboard/commission",className:V("commission"),children:[_.jsx(Jd,{className:"mr-3 text-blue-300"})," Commission"]})}),!r&&_.jsx("li",{className:"mb-2",children:_.jsxs(_n,{to:"/dashboard/messages",className:V("messages"),children:[_.jsx(o9,{className:`mr-3 ${Z>0?"text-yellow-400":"text-blue-300"}`}),"Messages",Z>0&&_.jsxs("span",{className:"ml-auto relative flex h-3 w-3",children:[_.jsx("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),_.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})}),!r&&_.jsx("li",{className:"mb-2",children:_.jsxs(_n,{to:"/dashboard/history",className:V("history"),children:[_.jsx($x,{className:"mr-3 text-blue-300"})," History"]})}),r&&_.jsx("li",{className:"mb-2",children:_.jsxs(_n,{to:"/dashboard/inbox",className:V("inbox"),children:[_.jsx(h9,{className:`mr-3 ${oe>0?"text-yellow-400":"text-blue-300"}`}),"Inbox",oe>0&&_.jsxs("span",{className:"ml-auto relative flex h-3 w-3",children:[_.jsx("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),_.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})}),_.jsx("li",{className:"mb-2",children:_.jsxs(_n,{to:"/dashboard/queue",className:V("queue"),children:[_.jsx(d9,{className:"mr-3 text-blue-300"})," Queue"]})}),_.jsx("li",{className:"mb-2",children:_.jsxs(_n,{to:"/dashboard/settings",className:V("settings"),children:[_.jsx(l9,{className:"mr-3 text-blue-300"})," Settings"]})})]})}),_.jsxs("div",{className:"p-5 border-t border-blue-800",children:[H!=="granted"&&_.jsxs("button",{onClick:B,className:"flex items-center p-3 text-yellow-200 bg-yellow-700 hover:bg-yellow-800 rounded-lg transition-colors duration-200 w-full mb-3",title:"Click to enable sound and desktop notifications for the chat.",children:[_.jsx(v9,{className:"mr-3"}),"Enable Notifications"]}),_.jsxs("button",{onClick:A,className:"flex items-center p-3 text-blue-200 hover:bg-blue-700 hover:text-white rounded-lg transition-colors duration-200 w-full",children:[_.jsx(g9,{className:"mr-3 text-blue-300"})," Logout"]})]})]}),_.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[_.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-white border-b border-gray-200 shadow-sm z-10",children:[_.jsxs("h1",{className:"text-xl font-semibold text-gray-800",children:["Welcome, ",i?i.username:"Guest","!"]}),_.jsx("div",{className:"flex items-center space-x-4",children:_.jsxs("div",{className:"relative",ref:g,children:[_.jsxs("button",{onClick:R,className:`relative p-2 rounded-full transition-colors ${w>0?"text-red-500 hover:text-red-600 bg-red-50 animate-pulse":"text-gray-500 hover:text-blue-600 hover:bg-gray-100"}`,title:w>0?`${w} New Notification(s)`:"No new notifications",children:[_.jsx(a9,{className:"text-xl"}),w>0&&_.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-4 h-4 flex items-center justify-center rounded-full",children:w})]}),r&&m&&_.jsx(b9,{requests:te,messageAlerts:ve,handleClose:O})]})})]}),_.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:_.jsx($_,{})})]})]})}const Jx="/fezeaix-commission/assets/art1.1-DCuravIE.png",E9="/fezeaix-commission/assets/art1.2-B6Iqhhz4.png",T9="/fezeaix-commission/assets/art1-CbDPtxvT.png",Wx="/fezeaix-commission/assets/art2-jkhjJiZ0.png",ev="/fezeaix-commission/assets/art3-DdDvzTdT.png",S9="/fezeaix-commission/assets/art4.1-B-a3XYda.png",A9="/fezeaix-commission/assets/art4.2-Cahwdkl3.png",w9="/fezeaix-commission/assets/art4-YQIqTJVT.png",R9="/fezeaix-commission/assets/art5.1-CZZstCHB.png",C9="/fezeaix-commission/assets/art5-CLPO2HS7.png",tv="/fezeaix-commission/assets/art6.1-B4EZmlFS.png",nv="/fezeaix-commission/assets/art6-CERsBu3s.png",N9="/fezeaix-commission/assets/art7.1-BxocYA7A.png",av="/fezeaix-commission/assets/art7.2-xicbCdwj.png",iv="/fezeaix-commission/assets/art7-BRizx3x5.png",sv="/fezeaix-commission/assets/art8-DBQB1TcH.png",rv="/fezeaix-commission/assets/art9-nhgN9dYk.jpg",lv="/fezeaix-commission/assets/art10.1-CB4g4l2r.png",ov="/fezeaix-commission/assets/art10.2-DI9XsGn7.png",uv="/fezeaix-commission/assets/art10.3-CMaG_Xy2.jpg",D9="/fezeaix-commission/assets/art10.4-CAFhE7ty.jpg",M9="/fezeaix-commission/assets/art10-D610wGHz.png",cv="/fezeaix-commission/assets/art11-ywWSusCC.png",fv="/fezeaix-commission/assets/art12-5rWRyq-n.png",hv="/fezeaix-commission/assets/art13-Dp52JEvp.png",dv="/fezeaix-commission/assets/art14-sgDQDkxG.jpg",mv="/fezeaix-commission/assets/art15-CdNGEzqJ.png",gv="/fezeaix-commission/assets/art16.1-DkyAzIus.png",pv="/fezeaix-commission/assets/art16-D5dKL5Qr.png",yv="/fezeaix-commission/assets/art17-Ch4aJ19n.png",xv="/fezeaix-commission/assets/art18-2c9wammY.PNG";function V9(){const i=[{id:"1.1",src:Jx,title:"Mystical Forest"},{id:"1.2",src:E9,title:"Mystical Forest"},{id:"1",src:T9,title:"Dragon Rider"},{id:"2",src:Wx,title:"Starry Night Wanderer"},{id:"3",src:ev,title:"Ancient Guardian"},{id:"4.1",src:S9,title:"Mystical Forest"},{id:"4.2",src:A9,title:"Mystical Forest"},{id:"4",src:w9,title:"Desert Oasis"},{id:"5.1",src:R9,title:"Mystical Forest"},{id:"5",src:C9,title:"Frozen Peaks"},{id:"6.1",src:tv,title:"Mystical Forest"},{id:"6",src:nv,title:"City at Dusk"},{id:"7.1",src:N9,title:"Mystical Forest"},{id:"7.2",src:av,title:"Mystical Forest"},{id:"7",src:iv,title:"Oceanic Depths"},{id:"8",src:sv,title:"Floating Islands"},{id:"9",src:rv,title:"Mystical Forest"},{id:"10.1",src:lv,title:"Mystical Forest"},{id:"10.2",src:ov,title:"Mystical Forest"},{id:"10.3",src:uv,title:"Mystical Forest"},{id:"10.4",src:D9,title:"Mystical Forest"},{id:"10",src:M9,title:"Mystical Forest"},{id:"11",src:cv,title:"Mystical Forest"},{id:"12",src:fv,title:"Mystical Forest"},{id:"13",src:hv,title:"Mystical Forest"},{id:"14",src:dv,title:"Mystical Forest"},{id:"15",src:mv,title:"Mystical Forest"},{id:"16.1",src:gv,title:"Mystical Forest"},{id:"16",src:pv,title:"Mystical Forest"},{id:"17",src:yv,title:"Mystical Forest"},{id:"18",src:xv,title:"Mystical Forest"}],[t,a]=L.useState(null),r=u=>{a(u)},l=()=>{a(null)};return _.jsxs("div",{className:"bg-white rounded-xl shadow-lg min-h-full p-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Art Gallery"}),_.jsx("p",{className:"text-gray-600 mb-6",children:"This is where all your amazing artworks will be displayed!"}),_.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mt-4",children:i.map(u=>_.jsxs("div",{className:"relative group cursor-pointer overflow-hidden rounded-lg shadow-md aspect-square",onClick:()=>r(u),children:[_.jsx("img",{src:u.src,alt:u.title,className:"w-full h-full object-cover transform transition-transform duration-500 group-hover:scale-110"}),_.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:_.jsx("p",{className:"text-white text-base font-semibold text-center p-2",children:u.title})})]},u.id))}),t&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80 p-4 animate-fade-in",onClick:l,children:_.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl max-w-5xl lg:max-w-6xl max-h-[95vh] overflow-hidden animate-scale-up",onClick:u=>u.stopPropagation(),children:[_.jsx("button",{className:"absolute top-4 right-4 text-white text-3xl font-bold bg-gray-800 bg-opacity-70 hover:bg-opacity-100 rounded-full w-10 h-10 flex items-center justify-center z-10 transition-colors",onClick:l,children:""}),_.jsx("img",{src:t.src,alt:t.title,className:"max-w-full max-h-[85vh] object-contain mx-auto"}),_.jsx("div",{className:"p-3 text-center bg-gray-100 border-t border-gray-200",children:_.jsx("p",{className:"text-xl font-bold text-center text-gray-800",children:t.title})})]})})]})}const I9=[{id:"full-color",title:"[ Full Color ] PFP/OC/Fanart/Illustration",description:"!   ",price:25,priceBaht:"800+",buttonColor:"purple",images:[Wx,iv,sv,rv,lv,ov,uv,xv]},{id:"rough-color",title:"[ Rough Color ] PFP/OC/Fanart/Illustration",description:"!   ",price:17,priceBaht:"550+",buttonColor:"blue",images:[Jx,ev,nv,cv,hv,yv]},{id:"full-color-bust-up",title:"[ Full Color Bust Up ] PhotoID/OC/Cannon",description:"!   ",price:14,priceBaht:"450+",buttonColor:"purple",images:[tv,av,fv,dv,mv,gv,pv]}],O9=`

  
 
  / 
  


 4-7 

////
 (+15)
.

////
gmail
google drive
 


 1  3 
 
 
  
  x2.5
  //
  2 +20
     (reference)
**DM**
`;function j9({commission:i,onClose:t,onSubmit:a,requesterUsername:r}){const[l,u]=L.useState(0),[h,m]=L.useState(!1),[p,g]=L.useState(!1),[b,T]=L.useState(""),[N,I]=L.useState(""),H=B=>{const Z=i.images.length;let te=l+B;te<0&&(te=Z-1),te>=Z&&(te=0),u(te)},G=async()=>{if(!h){T("You must accept the Terms of Service to proceed.");return}g(!0),T(""),I("");const B={commissionType:i.title,price:i.price,requesterUsername:r},Z=await a(B);g(!1),Z.success?(I(Z.message),setTimeout(t,2e3)):T(Z.message||"Failed to submit request.")};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4 animate-fade-in",onClick:t,children:_.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[95vh] overflow-hidden flex flex-col animate-scale-up",onClick:B=>B.stopPropagation(),children:[_.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Request: ",i.title,_.jsxs("span",{className:"text-xl text-purple-600 ml-2",children:["($",i.price," / ",i.priceBaht," Baht)"]})]}),_.jsx("button",{className:"text-gray-400 hover:text-gray-700 transition-colors",onClick:t,children:_.jsx(y9,{size:24})})]}),_.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 overflow-hidden",children:[_.jsxs("div",{className:"relative flex items-center justify-center bg-gray-100 p-4",children:[_.jsx("img",{src:i.images[l],alt:`${i.title} Example ${l+1}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-md"}),i.images.length>1&&_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>H(-1),className:"absolute left-4 p-3 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75 transition-colors",children:_.jsx(s9,{})}),_.jsx("button",{onClick:()=>H(1),className:"absolute right-4 p-3 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75 transition-colors",children:_.jsx(r9,{})})]}),_.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2",children:i.images.map((B,Z)=>_.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${Z===l?"bg-white scale-125":"bg-gray-400"}`},Z))})]}),_.jsxs("div",{className:"p-6 flex flex-col overflow-y-auto custom-scroll",children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Commission Details"}),_.jsx("p",{className:"text-gray-600 mb-2",children:i.description}),_.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",i.price,_.jsxs("span",{className:"text-base text-gray-500 font-normal ml-2",children:["(",i.priceBaht," Baht)"]})]})]}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 border-t pt-4",children:"Terms of Service"}),_.jsx("div",{className:"bg-gray-50 p-4 rounded-lg text-sm text-gray-700 max-h-80 overflow-y-auto custom-scroll mb-4",children:O9.split(`
`).filter(B=>B.trim()!=="").map((B,Z)=>_.jsx("p",{className:"mb-1",children:B},Z))}),b&&_.jsx("p",{className:"text-red-500 text-sm mb-3",children:b}),N&&_.jsx("p",{className:"text-green-500 text-sm mb-3",children:N})]})]}),_.jsxs("div",{className:"p-5 border-t border-gray-200 flex flex-col space-y-3",children:[_.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-300 rounded-lg",children:[_.jsx("input",{type:"checkbox",id:"accept-terms",checked:h,onChange:B=>m(B.target.checked),className:"h-5 w-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer"}),_.jsxs("label",{htmlFor:"accept-terms",className:"text-gray-500 font-semibold cursor-pointer select-none",children:["I accept Fezeaix ",_.jsx(c9,{className:"inline text-purple-500 mx-1"}),"'s Terms of Service"]})]}),_.jsx("button",{onClick:G,disabled:!h||p,className:`py-3 rounded-xl font-bold text-white transition-all duration-300 shadow-lg ${!h||p?"bg-gray-500 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"}`,children:p?"Submitting Request...":"Accept terms to start request"})]})]})})}function z9(){const{addCommissionRequest:i,user:t}=Tn(),[a,r]=L.useState(!1),[l,u]=L.useState(null),h=g=>{r(!0),u(g)},m=()=>{u(null),r(!1)},p=g=>i({...g,description:`[Commission request for ${g.commissionType}. Client will contact artist via inbox for details.]`});return _.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Information"}),_.jsx("p",{className:"text-gray-600 mb-6",children:"      "}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I9.map(g=>_.jsxs("div",{className:`bg-${g.buttonColor==="blue"?"blue":"purple"}-50 p-6 rounded-xl shadow-md border ${g.buttonColor==="blue"?"border-blue-200":"border-purple-200"} flex flex-col`,children:[_.jsx("h3",{className:`font-bold ${g.buttonColor==="blue"?"text-blue-800":"text-purple-800"} text-xl mb-2`,children:g.title}),_.jsx("p",{className:`${g.buttonColor==="blue"?"text-blue-700":"text-purple-700"} text-sm mb-4 flex-grow`,children:g.description}),_.jsxs("div",{className:`relative w-full h-40 mb-4 rounded-lg overflow-hidden ${g.buttonColor==="blue"?"bg-blue-100":"bg-purple-100"} flex items-center justify-center`,children:[_.jsx("img",{src:g.images[0],alt:`${g.title} Example`,className:"w-full h-full object-cover"}),_.jsx("span",{className:`absolute bottom-2 right-2 ${g.buttonColor==="blue"?"bg-blue-600":"bg-purple-600"} text-white text-xs px-2 py-1 rounded-full`,children:g.title.toUpperCase()})]}),_.jsxs("p",{className:`${g.buttonColor==="blue"?"text-blue-900":"text-purple-900"} font-bold text-xl mb-4`,children:["Price: $",g.price,_.jsxs("span",{className:"text-base text-gray-500 font-normal ml-2",children:["(",g.priceBaht," Baht)"]})]}),_.jsx("button",{onClick:()=>h(g),className:`mt-auto ${g.buttonColor==="blue"?"bg-blue-600 hover:bg-blue-700":"bg-purple-600 hover:bg-purple-700"} text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 shadow-md`,children:"Start Request"})]},g.id))}),a&&l&&_.jsx(j9,{commission:l,onClose:m,onSubmit:p,requesterUsername:t?.username})]})}const U9=["New Request","Pending Payment","In Progress","Sketch Sent","Completed","Canceled","On Hold"],Wd=i=>{switch(i){case"New Request":return"bg-red-100 text-red-800 border-red-300";case"Pending Payment":return"bg-orange-100 text-orange-800 border-orange-300";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-300";case"Sketch Sent":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"Completed":return"bg-green-100 text-green-800 border-green-300";case"On Hold":return"bg-gray-100 text-gray-800 border-gray-300";case"Canceled":return"bg-gray-200 text-gray-500 border-gray-400";default:return"bg-gray-50 text-gray-700 border-gray-300"}};function L9({request:i,updateStatus:t,deleteRequest:a}){const[r,l]=L.useState(!1),[u,h]=L.useState(!1),[m,p]=L.useState(i.status),g=async()=>{h(!0),await t(i.id,m),h(!1),l(!1)};return u?_.jsx("div",{className:"flex items-center justify-center",children:_.jsx(p9,{className:"animate-spin text-blue-500",size:16,title:"Updating..."})}):r?_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("select",{value:m,onChange:b=>p(b.target.value),className:`p-1 text-sm border rounded ${Wd(m)} focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:U9.map(b=>_.jsx("option",{value:b,children:b},b))}),_.jsx("button",{onClick:g,className:"p-1 bg-green-500 hover:bg-green-600 text-white rounded transition-colors",title:"Save Status",children:_.jsx(i9,{size:14})}),_.jsx("button",{onClick:()=>l(!1),className:"p-1 bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors",title:"Cancel",children:""})]}):_.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[_.jsx("button",{onClick:()=>l(!0),className:"p-1 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",title:"Edit Status",children:_.jsx(u9,{size:14})}),_.jsx("button",{onClick:a,className:"p-1 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Delete Request",children:_.jsx(Hm,{size:14})})]})}function P9(){const{commissionRequests:i,isAdmin:t,updateCommissionStatus:a,deleteCommissionRequest:r}=Tn(),l=i.slice().sort((h,m)=>new Date(h.timestamp)-new Date(m.timestamp)),u=(h,m)=>{window.confirm(`Are you sure you want to permanently delete the commission from ${m}?`)&&r(h)};return _.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg min-h-full",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Queue"}),_.jsx("p",{className:"text-gray-600 mb-6",children:t?"As the artist, you can manage the status and priority of all client commissions here.":"View the current queue and the status of your commission requests here."}),l.length===0?_.jsx("p",{className:"text-gray-500 text-center py-8",children:"The commission queue is currently empty."}):_.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg border border-gray-200",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[_.jsx("thead",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requester"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission Type"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t&&_.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((h,m)=>_.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:m+1}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.requesterUsername}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:h.commissionType}),_.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold",children:["$",h.price]}),_.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[!t&&_.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${Wd(h.status)}`,children:h.status}),t&&h.status!=="Editing"&&_.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${Wd(h.status)}`,children:h.status})]}),t&&_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:_.jsx(L9,{request:h,updateStatus:a,deleteRequest:()=>u(h.id,h.requesterUsername)})})]},h.id))})]})})]})}const B9=i=>i.length<8||i.length>16?"Password must be between 8 and 16 characters long.":/[A-Z]/.test(i)?/[a-z]/.test(i)?/[0-9]/.test(i)?null:"Password must contain at least one number (0-9).":"Password must contain at least one lowercase letter (a-z).":"Password must contain at least one uppercase letter (A-Z).";function k9(){const[i,t]=L.useState(""),[a,r]=L.useState(""),[l,u]=L.useState(""),[h,m]=L.useState(""),[p,g]=L.useState(""),{changePassword:b}=Tn(),T=async N=>{if(N.preventDefault(),m(""),g(""),!i||!a||!l){m("Please fill in all fields.");return}if(a!==l){m("New password and confirmation do not match.");return}const I=B9(a);if(I){m(I);return}if(a===i){m("New password must be different from the current password.");return}const H=await b(i,a);H.success?(g(H.message),t(""),r(""),u("")):m(H.message)};return _.jsxs("div",{className:"mt-4 border p-6 rounded-lg shadow-sm",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Change Password"}),_.jsxs("form",{onSubmit:T,className:"space-y-4 max-w-lg",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),_.jsx("input",{type:"password",id:"currentPassword",value:i,onChange:N=>t(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),_.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Min 8-16 chars, include A-Z, a-z, 0-9."}),_.jsx("input",{type:"password",id:"newPassword",value:a,onChange:N=>r(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),_.jsx("input",{type:"password",id:"confirmNewPassword",value:l,onChange:N=>u(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),h&&_.jsx("p",{className:"text-red-500 text-sm",children:h}),p&&_.jsx("p",{className:"text-green-500 text-sm",children:p}),_.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-colors duration-200 disabled:bg-gray-400",children:"Change Password"})]})]})}function q9(){const{user:i,isAdmin:t}=Tn();return _.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Account Settings"}),_.jsxs("div",{className:"mb-6",children:[_.jsx("p",{className:"text-gray-600 mb-2",children:"Manage your account details and security settings here."}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Username: ",_.jsx("span",{className:"font-bold text-blue-600",children:i?.username})]}),_.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Role: ",_.jsx("span",{className:`font-bold ${t?"text-red-600":"text-green-600"}`,children:t?"Artist (Admin)":"Client (User)"})]})]})]}),_.jsx(k9,{}),t&&_.jsxs("div",{className:"mt-8 border-t pt-6",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Artist/Commission Settings"}),_.jsx("p",{className:"text-gray-600",children:"This area is for managing commission terms, pricing, and other artist-specific settings."})]})]})}function H9({request:i,currentUser:t,addMessage:a,deleteMessage:r}){const l=L.useRef(null);L.useEffect(()=>{l.current?.scrollIntoView({behavior:"smooth"})},[i.messages]);const u=async m=>{m.preventDefault(),messageInput.trim()&&(await a(i.id,t.username,messageInput.trim()),setMessageInput(""))},h=m=>{window.confirm("Are you sure you want to delete this message? It will be removed for both the client and the artist.")&&r(i.id,m)};return _.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-200 rounded-xl shadow-md",children:[_.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center",children:[_.jsx(x9,{size:24,className:"mr-3 text-blue-500"}),_.jsxs("div",{children:[_.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Chat with: ",i.requesterUsername]}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Commission: ",i.commissionType," | Price: $",i.price]})]})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scroll",children:[i.messages&&i.messages.map(m=>{const p=m.sender===t.username;return m.sender==="System"?_.jsx("div",{className:"flex justify-center w-full",children:_.jsxs("div",{className:"text-center text-xs text-gray-400 italic max-w-xs p-2 rounded-lg bg-gray-50 border border-gray-200",children:[new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",m.text]})},m.id):_.jsx("div",{className:`flex ${p?"justify-end":"justify-start"}`,children:_.jsxs("div",{className:`flex items-end max-w-[70%] relative ${p?"flex-row-reverse":"flex-row"}`,children:[_.jsxs("div",{className:`px-4 py-2 rounded-xl shadow-md ${p?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-tl-none"}`,children:[_.jsx("p",{className:"font-semibold text-xs mb-1 opacity-80",children:p?"Me (Artist)":m.sender}),_.jsx("p",{className:"text-sm break-words",children:m.text}),_.jsx("span",{className:`block text-right mt-1 ${p?"text-blue-100":"text-gray-500"} text-xs`,children:new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),p&&_.jsx("button",{onClick:()=>h(m.id),className:"mb-1 p-1 text-red-400 hover:text-red-600 transition-colors flex-shrink-0",title:"Delete Message",style:{left:"-20px"},children:_.jsx(Hm,{size:12})})]})},m.id)}),_.jsx("div",{ref:l})," "]}),_.jsx("form",{onSubmit:u,className:"p-4 border-t border-gray-200 bg-gray-50",children:_.jsxs("div",{className:"flex space-x-2",children:[_.jsx("input",{type:"text",value:messageInput,onChange:m=>setMessageInput(m.target.value),placeholder:"Type a message to the client...",className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",disabled:!i.id}),_.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-xl transition-colors duration-200 disabled:bg-gray-400",disabled:!messageInput.trim(),children:_.jsx(Zx,{size:20})})]})})]})}function F9(){const{commissionRequests:i,deleteCommissionRequest:t,user:a,addMessageToCommissionRequest:r,deleteMessageFromCommissionRequest:l,setClientMessagesViewed:u}=Tn(),h=i.slice().sort((I,H)=>new Date(H.timestamp)-new Date(I.timestamp)),[m,p]=L.useState(h.length>0?h[0]:null);L.useEffect(()=>{const I=i.slice().sort((H,G)=>new Date(G.timestamp)-new Date(H.timestamp))[0];if(m){const H=i.find(G=>G.id===m.id);p(H||null)}else I&&p(I)},[i,a,m]),L.useEffect(()=>{if(m&&m.messages&&m.messages.length>0){const I=m.messages[m.messages.length-1];if(I.sender!=="fezeaix"&&I.sender!=="System"){const H=JSON.parse(localStorage.getItem("adminLastViewedMessages")||"{}"),G=new Date().toISOString();if(new Date(I.timestamp).getTime()>new Date(H[m.id]||0).getTime()){const B={...H,[m.id]:G};localStorage.setItem("adminLastViewedMessages",JSON.stringify(B))}}}},[m,i]);const g=I=>{window.confirm("Are you sure you want to delete this commission request? This action is permanent.")&&(t(I),m&&m.id===I&&p(null))},b=async(I,H,G)=>{await r(I,H,G)},T=async(I,H)=>{await l(I,H)},N=I=>{if(!I.messages||I.messages.length===0)return!1;const H=I.messages[I.messages.length-1];if(H.sender==="fezeaix"||H.sender==="System")return!1;const B=JSON.parse(localStorage.getItem("adminLastViewedMessages")||"{}")[I.id]||new Date(0).toISOString();return new Date(H.timestamp).getTime()>new Date(B).getTime()};return _.jsxs("div",{className:"p-6 h-full bg-white rounded-xl shadow-lg flex flex-col",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"Commission Inbox"}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Here you can manage incoming commission requests and communicate directly with the clients."}),_.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[_.jsx("div",{className:"overflow-y-auto custom-scroll md:col-span-1",children:i.length===0?_.jsx("p",{className:"text-gray-500 text-center py-8",children:"No new commission requests in your inbox."}):_.jsx("div",{className:"space-y-3",children:h.map(I=>{const H=m&&m.id===I.id,G=N(I),B=I.messages&&I.messages.length>0?I.messages[I.messages.length-1]:null,Z=I.messages&&I.messages.find(te=>te.sender==="System");return _.jsxs("div",{onClick:()=>p(I),className:`p-4 rounded-lg shadow-sm border transition-all duration-200 cursor-pointer overflow-hidden break-words ${H?"bg-blue-100 border-blue-400 ring-2 ring-blue-500":"bg-gray-50 border-gray-200 hover:bg-gray-100"} flex items-center justify-between relative`,children:[_.jsxs("div",{className:"flex-1 mr-4 overflow-hidden",children:[_.jsxs("p",{className:"font-semibold text-gray-800 text-lg",children:[_.jsx("span",{className:"text-blue-600",children:I.requesterUsername})," requested ",_.jsx("span",{className:"text-purple-600",children:I.commissionType})]}),_.jsxs("p",{className:"text-gray-600 text-sm",children:["Price: ",_.jsxs("span",{className:"font-medium",children:["$",I.price]})," | Status: ",_.jsx("span",{className:"font-medium text-green-700",children:I.status})]}),Z&&_.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[_.jsx("span",{className:"font-medium",children:"System:"})," ",Z.text]}),B&&B.sender!=="System"&&_.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[_.jsxs("span",{className:"font-medium",children:[B.sender===a.username?"You":B.sender,":"]})," ",B.text]})]}),G&&_.jsxs("span",{className:"absolute top-2 right-10 relative flex h-3 w-3",title:"New Client Message",children:[_.jsx("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),_.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),_.jsx("button",{onClick:te=>{te.stopPropagation(),g(I.id)},className:"text-red-500 hover:text-red-700 p-2 rounded-full transition-colors duration-200 flex-shrink-0",title:"Delete Request",children:_.jsx(Hm,{size:16})})]},I.id)})})}),m?_.jsx("div",{className:"md:col-span-2 h-full min-h-[400px] md:min-h-0",children:_.jsx(H9,{request:m,currentUser:a,addMessage:b,deleteMessage:T})}):_.jsx("div",{className:"md:col-span-2 flex items-center justify-center text-gray-500 text-lg",children:"Select a commission request to start chatting."})]})]})}function G9({request:i,currentUser:t,addMessage:a}){const[r,l]=L.useState(""),u=L.useRef(null);L.useEffect(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[i.messages]);const h=async m=>{m.preventDefault(),r.trim()&&(await a(i.id,t.username,r.trim()),l(""))};return _.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-200 rounded-xl shadow-md",children:[_.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center",children:[_.jsx(Jd,{size:24,className:"mr-3 text-purple-500"}),_.jsxs("div",{children:[_.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Chat for: ",i.commissionType]}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Artist: Fezeaix | Status: ",i.status]})]})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scroll",children:[i.messages&&i.messages.map(m=>{const p=m.sender===t.username;return m.sender==="System"?_.jsxs("div",{className:"text-center text-xs text-gray-400 italic",children:[new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",m.text]},m.id):_.jsx("div",{className:`flex ${p?"justify-end":"justify-start"}`,children:_.jsxs("div",{className:`max-w-[70%] px-4 py-2 rounded-xl shadow-md ${p?"bg-purple-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-tl-none"}`,children:[_.jsx("p",{className:"font-semibold text-xs mb-1 opacity-80",children:p?"Me":m.sender}),_.jsx("p",{className:"text-sm break-words",children:m.text}),_.jsx("span",{className:`block text-right mt-1 ${p?"text-purple-100":"text-gray-500"} text-xs`,children:new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},m.id)}),_.jsx("div",{ref:u})]}),_.jsx("form",{onSubmit:h,className:"p-4 border-t border-gray-200 bg-gray-50",children:_.jsxs("div",{className:"flex space-x-2",children:[_.jsx("input",{type:"text",value:r,onChange:m=>l(m.target.value),placeholder:"Type a message to the artist...",className:"flex-1 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors"}),_.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white p-3 rounded-xl transition-colors duration-200 disabled:bg-gray-400",disabled:!r.trim(),children:_.jsx(Zx,{size:20})})]})})]})}function Q9(){const{commissionRequests:i,user:t,addMessageToCommissionRequest:a,setClientMessagesViewed:r}=Tn(),l=i.filter(b=>b.requesterUsername===t?.username),[u,h]=L.useState(l.length>0?l[0]:null);L.useEffect(()=>{const b=i.filter(T=>T.requesterUsername===t?.username).slice().sort((T,N)=>new Date(N.timestamp)-new Date(T.timestamp));if(u){const T=i.find(N=>N.id===u.id);h(T||null)}else b.length>0&&h(b[0])},[i,t?.username,u]),L.useEffect(()=>{if(u&&u.messages&&u.messages.length>0){const b=u.messages[u.messages.length-1];b.sender==="fezeaix"&&r(u.id,b.timestamp)}},[u,r]);const m=async(b,T,N)=>{await a(b,T,N)},p=l.slice().sort((b,T)=>new Date(T.timestamp)-new Date(b.timestamp));if(l.length===0)return _.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Commission Messages"}),_.jsx("p",{className:"text-gray-500 text-center py-8",children:"You have no active commission requests yet. Please visit the Commission page to start one."})]});const g=b=>{if(!b.messages||b.messages.length===0)return!1;const T=b.messages[b.messages.length-1];if(T.sender!=="fezeaix")return!1;const N=b.lastViewedByClient?.[t.username]||new Date(0).toISOString();return new Date(T.timestamp).getTime()>new Date(N).getTime()};return _.jsxs("div",{className:"p-6 h-full bg-white rounded-xl shadow-lg flex flex-col",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:"My Commission Messages"}),_.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 overflow-hidden",children:[_.jsx("div",{className:"overflow-y-auto custom-scroll md:col-span-1",children:_.jsx("div",{className:"space-y-3",children:p.map(b=>{const T=u&&u.id===b.id,N=g(b),I=b.messages&&b.messages.length>0?b.messages[b.messages.length-1]:null;return _.jsxs("div",{onClick:()=>h(b),className:`p-4 rounded-lg shadow-sm border transition-all duration-200 cursor-pointer ${T?"bg-purple-100 border-purple-400 ring-2 ring-purple-500":"bg-gray-50 border-gray-200 hover:bg-gray-100"} flex flex-col relative`,children:[_.jsxs("p",{className:"font-semibold text-gray-800 text-lg",children:["Request: ",_.jsx("span",{className:"text-purple-600",children:b.commissionType})]}),_.jsxs("p",{className:"text-gray-600 text-sm",children:["Status: ",_.jsx("span",{className:"font-medium text-green-700",children:b.status})]}),I&&_.jsxs("p",{className:"text-gray-500 text-xs mt-1 truncate",children:[_.jsxs("span",{className:"font-medium",children:[I.sender===t.username?"You":I.sender,":"]})," ",I.text]}),N&&_.jsxs("span",{className:"absolute top-2 right-2 relative flex h-3 w-3",title:"New Message",children:[_.jsx("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),_.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]},b.id)})})}),u?_.jsx("div",{className:"md:col-span-2 h-full min-h-[400px]",children:_.jsx(G9,{request:u,currentUser:t,addMessage:m})}):_.jsx("div",{className:"md:col-span-2 flex items-center justify-center text-gray-500 text-lg",children:"Select a commission request to view the chat."})]})]})}const Y9=i=>{switch(i){case"New Request":return"bg-red-100 text-red-800 border-red-300";case"In Discussion":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"Pending Payment":return"bg-orange-100 text-orange-800 border-orange-300";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-300";case"Sketch Sent":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"Revisions":return"bg-purple-100 text-purple-800 border-purple-300";case"Completed":return"bg-green-100 text-green-800 border-green-300";case"On Hold":return"bg-gray-100 text-gray-800 border-gray-300";case"Canceled":return"bg-gray-200 text-gray-500 border-gray-400";default:return"bg-gray-50 text-gray-700 border-gray-300"}};function X9(){const{user:i,commissionRequests:t}=Tn(),a=Kr(),r=t.filter(u=>u.requesterUsername===i?.username).sort((u,h)=>new Date(h.timestamp)-new Date(u.timestamp)),l=u=>{alert(`Requesting: ${u}. Please go to the Commission page to re-submit with new details.`),a("/dashboard/commission")};return _.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg min-h-full",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2 flex items-center",children:[_.jsx($x,{className:"mr-3 text-gray-500"})," My Commission History"]}),_.jsx("p",{className:"text-gray-600 mb-6",children:"View all your past and current commission requests."}),r.length===0?_.jsx("p",{className:"text-gray-500 text-center py-8",children:"You have no commission history yet."}):_.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg border border-gray-200",children:_.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[_.jsx("thead",{className:"bg-gray-50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested On"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission Type"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),_.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),_.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Re-Request"})]})}),_.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((u,h)=>_.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[_.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[r.length-h," "]}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(u.timestamp).toLocaleDateString()}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:u.commissionType}),_.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-bold",children:["$",u.price]}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full border ${Y9(u.status)}`,children:u.status})}),_.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center",children:_.jsxs("button",{onClick:()=>l(u.commissionType),className:"p-1.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center mx-auto space-x-1 text-xs font-semibold",title:"Use this request as a new template",children:[_.jsx(m9,{size:12}),_.jsx("span",{children:"Re-Request"})]})})]},u.id))})]})})]})}const K9="/fezeaix-commission/";function wd({children:i}){const{isAuthenticated:t,loading:a}=Tn();return a?_.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:_.jsx("p",{className:"text-xl text-gray-700",children:"Loading user data..."})}):t?i:_.jsx(jr,{to:"/login",replace:!0})}function $9({children:i}){const{isAuthenticated:t,isAdmin:a,loading:r}=Tn();return console.log("AdminProtectedRoute - Is Authenticated:",t),console.log("AdminProtectedRoute - Is Admin:",a),console.log("AdminProtectedRoute - Loading:",r),r?_.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:_.jsx("p",{className:"text-xl text-gray-700",children:"Loading user data..."})}):t?a?(console.log("AdminProtectedRoute - Access Granted"),i):(console.log("AdminProtectedRoute - Redirecting to /dashboard/gallery (Not Admin)"),_.jsx(jr,{to:"/dashboard/gallery",replace:!0})):(console.log("AdminProtectedRoute - Redirecting to /login"),_.jsx(jr,{to:"/login",replace:!0}))}function Z9(){const{isAuthenticated:i,loading:t}=Tn();return _.jsx(_4,{basename:K9,children:_.jsxs(J_,{children:[_.jsx(bn,{path:"/login",element:_.jsx(YT,{})}),_.jsx(bn,{path:"/register",element:_.jsx(KT,{})}),_.jsxs(bn,{path:"/dashboard",element:_.jsx(wd,{children:_.jsx(_9,{})}),children:[_.jsx(bn,{path:"gallery",element:_.jsx(V9,{})}),_.jsx(bn,{path:"commission",element:_.jsx(z9,{})}),_.jsx(bn,{path:"queue",element:_.jsx(P9,{})}),_.jsx(bn,{path:"settings",element:_.jsx(q9,{})}),_.jsx(bn,{path:"messages",element:_.jsx(wd,{children:_.jsx(Q9,{})})}),_.jsx(bn,{path:"history",element:_.jsx(wd,{children:_.jsx(X9,{})})}),_.jsx(bn,{path:"inbox",element:_.jsx($9,{children:_.jsx(F9,{})})}),_.jsx(bn,{index:!0,element:_.jsx(jr,{to:"gallery",replace:!0})})]}),_.jsx(bn,{path:"/",element:t?_.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:_.jsx("p",{className:"text-xl text-gray-700",children:"Loading..."})}):i?_.jsx(jr,{to:"/dashboard/gallery",replace:!0}):_.jsx(jr,{to:"/login",replace:!0})})]})})}s_.createRoot(document.getElementById("root")).render(_.jsx(Bi.StrictMode,{children:_.jsxs(QT,{children:[" ",_.jsx(Z9,{})]})}));
